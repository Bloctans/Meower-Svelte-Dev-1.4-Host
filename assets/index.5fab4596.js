const Ml=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))t(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerpolicy&&(r.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?r.credentials="include":l.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(l){if(l.ep)return;l.ep=!0;const r=n(l);fetch(l.href,r)}};Ml();function M(){}const wt=s=>s;function El(s,e){for(const n in e)s[n]=e[n];return s}function Il(s){return s&&typeof s=="object"&&typeof s.then=="function"}function dl(s){return s()}function Ht(){return Object.create(null)}function ue(s){s.forEach(dl)}function yt(s){return typeof s=="function"}function X(s,e){return s!=s?e==e:s!==e||s&&typeof s=="object"||typeof s=="function"}let ut;function ve(s,e){return ut||(ut=document.createElement("a")),ut.href=e,s===ut.href}function zl(s){return Object.keys(s).length===0}function Ll(s,...e){if(s==null)return M;const n=s.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function A(s,e,n){s.$$.on_destroy.push(Ll(e,n))}function Et(s,e,n,t){if(s){const l=ml(s,e,n,t);return s[0](l)}}function ml(s,e,n,t){return s[1]&&t?El(n.ctx.slice(),s[1](t(e))):n.ctx}function It(s,e,n,t){if(s[2]&&t){const l=s[2](t(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const r=[],a=Math.max(e.dirty.length,l.length);for(let i=0;i<a;i+=1)r[i]=e.dirty[i]|l[i];return r}return e.dirty|l}return e.dirty}function zt(s,e,n,t,l,r){if(l){const a=ml(e,n,t,r);s.p(a,l)}}function Lt(s){if(s.ctx.length>32){const e=[],n=s.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function V(s,e,n){return s.set(n),e}const pl=typeof window!="undefined";let Ot=pl?()=>window.performance.now():()=>Date.now(),xt=pl?s=>requestAnimationFrame(s):M;const De=new Set;function _l(s){De.forEach(e=>{e.c(s)||(De.delete(e),e.f())}),De.size!==0&&xt(_l)}function Tt(s){let e;return De.size===0&&xt(_l),{promise:new Promise(n=>{De.add(e={c:s,f:n})}),abort(){De.delete(e)}}}function p(s,e){s.appendChild(e)}function gl(s){if(!s)return document;const e=s.getRootNode?s.getRootNode():s.ownerDocument;return e&&e.host?e:s.ownerDocument}function jl(s){const e=m("style");return Ol(gl(s),e),e.sheet}function Ol(s,e){p(s.head||s,e)}function b(s,e,n){s.insertBefore(e,n||null)}function h(s){s.parentNode.removeChild(s)}function Rt(s,e){for(let n=0;n<s.length;n+=1)s[n]&&s[n].d(e)}function m(s){return document.createElement(s)}function z(s){return document.createTextNode(s)}function q(){return z(" ")}function Le(){return z("")}function R(s,e,n,t){return s.addEventListener(e,n,t),()=>s.removeEventListener(e,n,t)}function he(s){return function(e){return e.preventDefault(),s.call(this,e)}}function f(s,e,n){n==null?s.removeAttribute(e):s.getAttribute(e)!==n&&s.setAttribute(e,n)}function xl(s){return Array.from(s.childNodes)}function F(s,e){e=""+e,s.wholeText!==e&&(s.data=e)}function Ze(s,e,n,t){n===null?s.style.removeProperty(e):s.style.setProperty(e,n,t?"important":"")}function pe(s,e,n){s.classList[n?"add":"remove"](e)}function vl(s,e,{bubbles:n=!1,cancelable:t=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(s,n,t,e),l}const ht=new Map;let bt=0;function Tl(s){let e=5381,n=s.length;for(;n--;)e=(e<<5)-e^s.charCodeAt(n);return e>>>0}function Rl(s,e){const n={stylesheet:jl(e),rules:{}};return ht.set(s,n),n}function kt(s,e,n,t,l,r,a,i=0){const o=16.666/t;let c=`{
`;for(let v=0;v<=1;v+=o){const w=e+(n-e)*r(v);c+=v*100+`%{${a(w,1-w)}}
`}const u=c+`100% {${a(n,1-n)}}
}`,d=`__svelte_${Tl(u)}_${i}`,_=gl(s),{stylesheet:$,rules:k}=ht.get(_)||Rl(_,s);k[d]||(k[d]=!0,$.insertRule(`@keyframes ${d} ${u}`,$.cssRules.length));const g=s.style.animation||"";return s.style.animation=`${g?`${g}, `:""}${d} ${t}ms linear ${l}ms 1 both`,bt+=1,d}function Nt(s,e){const n=(s.style.animation||"").split(", "),t=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),l=n.length-t.length;l&&(s.style.animation=t.join(", "),bt-=l,bt||Nl())}function Nl(){xt(()=>{bt||(ht.forEach(s=>{const{stylesheet:e}=s;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);s.rules={}}),ht.clear())})}function st(s,e,n,t){if(!e)return M;const l=s.getBoundingClientRect();if(e.left===l.left&&e.right===l.right&&e.top===l.top&&e.bottom===l.bottom)return M;const{delay:r=0,duration:a=300,easing:i=wt,start:o=Ot()+r,end:c=o+a,tick:u=M,css:d}=n(s,{from:e,to:l},t);let _=!0,$=!1,k;function g(){d&&(k=kt(s,0,1,a,r,i,d)),r||($=!0)}function v(){d&&Nt(s,k),_=!1}return Tt(w=>{if(!$&&w>=o&&($=!0),$&&w>=c&&(u(1,0),v()),!_)return!1;if($){const y=w-o,P=0+1*i(y/a);u(P,1-P)}return!0}),g(),u(0,1),v}function rt(s){const e=getComputedStyle(s);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:n,height:t}=e,l=s.getBoundingClientRect();s.style.position="absolute",s.style.width=n,s.style.height=t,He(s,l)}}function He(s,e){const n=s.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const t=getComputedStyle(s),l=t.transform==="none"?"":t.transform;s.style.transform=`${l} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}let nt;function Ie(s){nt=s}function Ct(){if(!nt)throw new Error("Function called outside component initialization");return nt}function At(s){Ct().$$.on_mount.push(s)}function Al(s){Ct().$$.on_destroy.push(s)}function Bl(){const s=Ct();return(e,n,{cancelable:t=!1}={})=>{const l=s.$$.callbacks[e];if(l){const r=vl(e,n,{cancelable:t});return l.slice().forEach(a=>{a.call(s,r)}),!r.defaultPrevented}return!0}}const et=[],Ge=[],_t=[],Wt=[],hl=Promise.resolve();let jt=!1;function bl(){jt||(jt=!0,hl.then(Bt))}function be(){return bl(),hl}function ye(s){_t.push(s)}const Pt=new Set;let ft=0;function Bt(){const s=nt;do{for(;ft<et.length;){const e=et[ft];ft++,Ie(e),Ul(e.$$)}for(Ie(null),et.length=0,ft=0;Ge.length;)Ge.pop()();for(let e=0;e<_t.length;e+=1){const n=_t[e];Pt.has(n)||(Pt.add(n),n())}_t.length=0}while(et.length);for(;Wt.length;)Wt.pop()();jt=!1,Pt.clear(),Ie(s)}function Ul(s){if(s.fragment!==null){s.update(),ue(s.before_update);const e=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,e),s.after_update.forEach(ye)}}let Xe;function kl(){return Xe||(Xe=Promise.resolve(),Xe.then(()=>{Xe=null})),Xe}function tt(s,e,n){s.dispatchEvent(vl(`${e?"intro":"outro"}${n}`))}const gt=new Set;let Pe;function ne(){Pe={r:0,c:[],p:Pe}}function le(){Pe.r||ue(Pe.c),Pe=Pe.p}function C(s,e){s&&s.i&&(gt.delete(s),s.i(e))}function S(s,e,n,t){if(s&&s.o){if(gt.has(s))return;gt.add(s),Pe.c.push(()=>{gt.delete(s),t&&(n&&s.d(1),t())}),s.o(e)}else t&&t()}const $l={duration:0};function wl(s,e,n){let t=e(s,n),l=!0,r;const a=Pe;a.r+=1;function i(){const{delay:o=0,duration:c=300,easing:u=wt,tick:d=M,css:_}=t||$l;_&&(r=kt(s,1,0,c,o,u,_));const $=Ot()+o,k=$+c;ye(()=>tt(s,!1,"start")),Tt(g=>{if(l){if(g>=k)return d(0,1),tt(s,!1,"end"),--a.r||ue(a.c),!1;if(g>=$){const v=u((g-$)/c);d(1-v,v)}}return l})}return yt(t)?kl().then(()=>{t=t(),i()}):i(),{end(o){o&&t.tick&&t.tick(1,0),l&&(r&&Nt(s,r),l=!1)}}}function $e(s,e,n,t){let l=e(s,n),r=t?0:1,a=null,i=null,o=null;function c(){o&&Nt(s,o)}function u(_,$){const k=_.b-r;return $*=Math.abs(k),{a:r,b:_.b,d:k,duration:$,start:_.start,end:_.start+$,group:_.group}}function d(_){const{delay:$=0,duration:k=300,easing:g=wt,tick:v=M,css:w}=l||$l,y={start:Ot()+$,b:_};_||(y.group=Pe,Pe.r+=1),a||i?i=y:(w&&(c(),o=kt(s,r,_,k,$,g,w)),_&&v(0,1),a=u(y,k),ye(()=>tt(s,_,"start")),Tt(P=>{if(i&&P>i.start&&(a=u(i,k),i=null,tt(s,a.b,"start"),w&&(c(),o=kt(s,r,a.b,a.duration,0,g,l.css))),a){if(P>=a.end)v(r=a.b,1-r),tt(s,a.b,"end"),i||(a.b?c():--a.group.r||ue(a.group.c)),a=null;else if(P>=a.start){const E=P-a.start;r=a.a+a.d*g(E/a.duration),v(r,1-r)}}return!!(a||i)}))}return{run(_){yt(l)?kl().then(()=>{l=l(),d(_)}):d(_)},end(){c(),a=i=null}}}function We(s,e){const n=e.token={};function t(l,r,a,i){if(e.token!==n)return;e.resolved=i;let o=e.ctx;a!==void 0&&(o=o.slice(),o[a]=i);const c=l&&(e.current=l)(o);let u=!1;e.block&&(e.blocks?e.blocks.forEach((d,_)=>{_!==r&&d&&(ne(),S(d,1,1,()=>{e.blocks[_]===d&&(e.blocks[_]=null)}),le())}):e.block.d(1),c.c(),C(c,1),c.m(e.mount(),e.anchor),u=!0),e.block=c,e.blocks&&(e.blocks[r]=c),u&&Bt()}if(Il(s)){const l=Ct();if(s.then(r=>{Ie(l),t(e.then,1,e.value,r),Ie(null)},r=>{if(Ie(l),t(e.catch,2,e.error,r),Ie(null),!e.hasCatch)throw r}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,s),!0;e.resolved=s}}function Fe(s,e,n){const t=e.slice(),{resolved:l}=s;s.current===s.then&&(t[s.value]=l),s.current===s.catch&&(t[s.error]=l),s.block.p(t,n)}function Dl(s,e){S(s,1,1,()=>{e.delete(s.key)})}function ot(s,e){s.f(),Dl(s,e)}function it(s,e,n,t,l,r,a,i,o,c,u,d){let _=s.length,$=r.length,k=_;const g={};for(;k--;)g[s[k].key]=k;const v=[],w=new Map,y=new Map;for(k=$;k--;){const I=d(l,r,k),L=n(I);let N=a.get(L);N?t&&N.p(I,e):(N=c(L,I),N.c()),w.set(L,v[k]=N),L in g&&y.set(L,Math.abs(k-g[L]))}const P=new Set,E=new Set;function T(I){C(I,1),I.m(i,u),a.set(I.key,I),u=I.first,$--}for(;_&&$;){const I=v[$-1],L=s[_-1],N=I.key,G=L.key;I===L?(u=I.first,_--,$--):w.has(G)?!a.has(N)||P.has(N)?T(I):E.has(G)?_--:y.get(N)>y.get(G)?(E.add(N),T(I)):(P.add(G),_--):(o(L,a),_--)}for(;_--;){const I=s[_];w.has(I.key)||o(I,a)}for(;$;)T(v[$-1]);return v}function x(s){s&&s.c()}function j(s,e,n,t){const{fragment:l,on_mount:r,on_destroy:a,after_update:i}=s.$$;l&&l.m(e,n),t||ye(()=>{const o=r.map(dl).filter(yt);a?a.push(...o):ue(o),s.$$.on_mount=[]}),i.forEach(ye)}function O(s,e){const n=s.$$;n.fragment!==null&&(ue(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Gl(s,e){s.$$.dirty[0]===-1&&(et.push(s),bl(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}function Z(s,e,n,t,l,r,a,i=[-1]){const o=nt;Ie(s);const c=s.$$={fragment:null,ctx:null,props:r,update:M,not_equal:l,bound:Ht(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:Ht(),dirty:i,skip_bound:!1,root:e.target||o.$$.root};a&&a(c.root);let u=!1;if(c.ctx=n?n(s,e.props||{},(d,_,...$)=>{const k=$.length?$[0]:_;return c.ctx&&l(c.ctx[d],c.ctx[d]=k)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](k),u&&Gl(s,d)),_}):[],c.update(),u=!0,ue(c.before_update),c.fragment=t?t(c.ctx):!1,e.target){if(e.hydrate){const d=xl(e.target);c.fragment&&c.fragment.l(d),d.forEach(h)}else c.fragment&&c.fragment.c();e.intro&&C(s.$$.fragment),j(s,e.target,e.anchor,e.customElement),Bt()}Ie(o)}class ee{$destroy(){O(this,1),this.$destroy=M}$on(e,n){const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const l=t.indexOf(n);l!==-1&&t.splice(l,1)}}$set(e){this.$$set&&!zl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ae=[];function de(s,e=M){let n;const t=new Set;function l(i){if(X(s,i)&&(s=i,n)){const o=!Ae.length;for(const c of t)c[1](),Ae.push(c,s);if(o){for(let c=0;c<Ae.length;c+=2)Ae[c][0](Ae[c+1]);Ae.length=0}}}function r(i){l(i(s))}function a(i,o=M){const c=[i,o];return t.add(c),t.size===1&&(n=e(l)||M),i(s),()=>{t.delete(c),t.size===0&&(n(),n=null)}}return{set:l,update:r,subscribe:a}}const Te=de("setup"),ie=de("home"),me=de("logo"),U=de(!1),fe=de(""),Oe=de(!1),vt=de(""),ze=de(""),we=de(""),lt=de([]),qe=de({}),Ce=de([]),$t=de({}),Ke=de(""),Kl=de(""),Ut=de(""),Ye=de({}),ce=de({name:null,lvl:0,unread_inbox:!1,theme:"orange",mode:!0,sfx:!0,bgm:!0,bgm_song:2,layout:"new",pfp_data:1,quote:""}),Re=de(!1);function Yl(){var s=new Audio("../src/assets/menu_notify.wav");s.play()}function yl(){Yl()}function Hl(s){let e,n;const t=s[1].default,l=Et(t,s,s[0],null);return{c(){e=m("div"),l&&l.c(),f(e,"class","svelte-6zv9mh")},m(r,a){b(r,e,a),l&&l.m(e,null),n=!0},p(r,[a]){l&&l.p&&(!n||a&1)&&zt(l,t,r,r[0],n?It(t,r[0],a,null):Lt(r[0]),null)},i(r){n||(C(l,r),n=!0)},o(r){S(l,r),n=!1},d(r){r&&h(e),l&&l.d(r)}}}function Wl(s,e,n){let{$$slots:t={},$$scope:l}=e;return s.$$set=r=>{"$$scope"in r&&n(0,l=r.$$scope)},[l,t]}class oe extends ee{constructor(e){super(),Z(this,e,Wl,Hl,X,{})}}var Ft="./assets/icon_0.ab82a5ad.svg",Jt="./assets/icon_1.3649891f.svg",Vt="./assets/icon_10.4bd3e33c.svg",Qt="./assets/icon_100.026e1a7d.svg",Xt="./assets/icon_101.0a8d8a50.svg",Zt="./assets/icon_11.521812d2.svg",en="./assets/icon_12.0f7ed126.svg",tn="./assets/icon_13.58e2dcbb.svg",nn="./assets/icon_14.6513f659.svg",ln="./assets/icon_15.d1b06a28.svg",sn="./assets/icon_16.e5e55f53.svg",rn="./assets/icon_17.39e35340.svg",on="./assets/icon_18.dc1f4b4e.svg",an="./assets/icon_19.8ad18d14.svg",cn="./assets/icon_2.03a60034.svg",un="./assets/icon_20.d1301d19.svg",fn="./assets/icon_21.2ef6b9a3.svg",dn="./assets/icon_22.c642b6ff.svg",mn="./assets/icon_23.cd7c45d1.svg",pn="./assets/icon_24.6026f708.svg",_n="./assets/icon_25.cc78b147.svg",gn="./assets/icon_26.1722b6b8.svg",vn="./assets/icon_27.89761f19.svg",hn="./assets/icon_3.79effa11.svg",bn="./assets/icon_4.078d1185.svg",kn="./assets/icon_5.656d31e0.svg",$n="./assets/icon_6.d72d5ba2.svg",wn="./assets/icon_7.16e301c0.svg",yn="./assets/icon_8.515d5ae7.svg",Cn="./assets/icon_9.25c74dcc.svg",qn="./assets/icon_err.8c194397.svg";function Sn(s){let e;return{c(){e=m("span"),f(e,"class","online svelte-ss20c8")},m(n,t){b(n,e,t)},d(n){n&&h(e)}}}function Fl(s){let e,n,t,l,r,a,i,o=s[2]&&Sn();return{c(){e=m("span"),o&&o.c(),n=q(),t=m("span"),l=m("img"),f(l,"alt",s[1]),f(l,"title",s[1]),ve(l.src,r=new URL({"./../assets/avatars/icon_0.svg":Ft,"./../assets/avatars/icon_1.svg":Jt,"./../assets/avatars/icon_10.svg":Vt,"./../assets/avatars/icon_100.svg":Qt,"./../assets/avatars/icon_101.svg":Xt,"./../assets/avatars/icon_11.svg":Zt,"./../assets/avatars/icon_12.svg":en,"./../assets/avatars/icon_13.svg":tn,"./../assets/avatars/icon_14.svg":nn,"./../assets/avatars/icon_15.svg":ln,"./../assets/avatars/icon_16.svg":sn,"./../assets/avatars/icon_17.svg":rn,"./../assets/avatars/icon_18.svg":on,"./../assets/avatars/icon_19.svg":an,"./../assets/avatars/icon_2.svg":cn,"./../assets/avatars/icon_20.svg":un,"./../assets/avatars/icon_21.svg":fn,"./../assets/avatars/icon_22.svg":dn,"./../assets/avatars/icon_23.svg":mn,"./../assets/avatars/icon_24.svg":pn,"./../assets/avatars/icon_25.svg":_n,"./../assets/avatars/icon_26.svg":gn,"./../assets/avatars/icon_27.svg":vn,"./../assets/avatars/icon_3.svg":hn,"./../assets/avatars/icon_4.svg":bn,"./../assets/avatars/icon_5.svg":kn,"./../assets/avatars/icon_6.svg":$n,"./../assets/avatars/icon_7.svg":wn,"./../assets/avatars/icon_8.svg":yn,"./../assets/avatars/icon_9.svg":Cn,"./../assets/avatars/icon_err.svg":qn}[`./../assets/avatars/icon_${s[0]===-1?21:s[0]===-2?"err":s[0]-1}.svg`],self.location).href)||f(l,"src",r),f(l,"draggable",!1),f(l,"width","auto"),f(l,"height","100%"),f(l,"class","svelte-ss20c8"),pe(l,"loading",s[0]===-1),f(t,"class","pfp svelte-ss20c8"),f(e,"class","pfp-container svelte-ss20c8"),pe(e,"big",s[3])},m(c,u){b(c,e,u),o&&o.m(e,null),p(e,n),p(e,t),p(t,l),a||(i=R(l,"error",s[4],{once:!0}),a=!0)},p(c,[u]){c[2]?o||(o=Sn(),o.c(),o.m(e,n)):o&&(o.d(1),o=null),u&2&&f(l,"alt",c[1]),u&2&&f(l,"title",c[1]),u&1&&!ve(l.src,r=new URL({"./../assets/avatars/icon_0.svg":Ft,"./../assets/avatars/icon_1.svg":Jt,"./../assets/avatars/icon_10.svg":Vt,"./../assets/avatars/icon_100.svg":Qt,"./../assets/avatars/icon_101.svg":Xt,"./../assets/avatars/icon_11.svg":Zt,"./../assets/avatars/icon_12.svg":en,"./../assets/avatars/icon_13.svg":tn,"./../assets/avatars/icon_14.svg":nn,"./../assets/avatars/icon_15.svg":ln,"./../assets/avatars/icon_16.svg":sn,"./../assets/avatars/icon_17.svg":rn,"./../assets/avatars/icon_18.svg":on,"./../assets/avatars/icon_19.svg":an,"./../assets/avatars/icon_2.svg":cn,"./../assets/avatars/icon_20.svg":un,"./../assets/avatars/icon_21.svg":fn,"./../assets/avatars/icon_22.svg":dn,"./../assets/avatars/icon_23.svg":mn,"./../assets/avatars/icon_24.svg":pn,"./../assets/avatars/icon_25.svg":_n,"./../assets/avatars/icon_26.svg":gn,"./../assets/avatars/icon_27.svg":vn,"./../assets/avatars/icon_3.svg":hn,"./../assets/avatars/icon_4.svg":bn,"./../assets/avatars/icon_5.svg":kn,"./../assets/avatars/icon_6.svg":$n,"./../assets/avatars/icon_7.svg":wn,"./../assets/avatars/icon_8.svg":yn,"./../assets/avatars/icon_9.svg":Cn,"./../assets/avatars/icon_err.svg":qn}[`./../assets/avatars/icon_${c[0]===-1?21:c[0]===-2?"err":c[0]-1}.svg`],self.location).href)&&f(l,"src",r),u&1&&pe(l,"loading",c[0]===-1),u&8&&pe(e,"big",c[3])},i:M,o:M,d(c){c&&h(e),o&&o.d(),a=!1,i()}}}function Jl(s,e,n){let{icon:t=-1}=e,{alt:l="Profile picture"}=e,{online:r=!1}=e,{big:a=!1}=e;const i=()=>n(0,t=-2);return s.$$set=o=>{"icon"in o&&n(0,t=o.icon),"alt"in o&&n(1,l=o.alt),"online"in o&&n(2,r=o.online),"big"in o&&n(3,a=o.big)},[t,l,r,a,i]}class Je extends ee{constructor(e){super(),Z(this,e,Jl,Fl,X,{icon:0,alt:1,online:2,big:3})}}function Vl(s){let e;return{c(){e=z(s[1])},m(n,t){b(n,e,t)},p(n,t){t&2&&F(e,n[1])},d(n){n&&h(e)}}}function Ql(s){let e=s[1]+" [BRIDGED]",n;return{c(){n=z(e)},m(t,l){b(t,n,l)},p(t,l){l&2&&e!==(e=t[1]+" [BRIDGED]")&&F(n,e)},d(t){t&&h(n)}}}function Xl(s){let e;function n(r,a){return r[0]?Ql:Vl}let t=n(s),l=t(s);return{c(){e=m("span"),l.c(),f(e,"title",s[2]),f(e,"class","date svelte-190wm28")},m(r,a){b(r,e,a),l.m(e,null)},p(r,[a]){t===(t=n(r))&&l?l.p(r,a):(l.d(1),l=t(r),l&&(l.c(),l.m(e,null))),a&4&&f(e,"title",r[2])},i:M,o:M,d(r){r&&h(e),l.d()}}}function Zl(s,e,n){let{date:t=0}=e,{bridged:l=!1}=e,r,a;return s.$$set=i=>{"date"in i&&n(3,t=i.date),"bridged"in i&&n(0,l=i.bridged)},s.$$.update=()=>{if(s.$$.dirty&8){const i=new Date(t*1e3);n(1,r=i.toLocaleString()),n(2,a=`Time is in your local timezone (UTC+${-(i.getTimezoneOffset()/60)}).
12-hour time: ${i.toLocaleString([],{hourCycle:"h11"})}
24-hour time: ${i.toLocaleString([],{hourCycle:"h23"})}
ISO: ${i.toISOString()}`)}},[l,r,a,t]}class es extends ee{constructor(e){super(),Z(this,e,Zl,Xl,X,{date:3,bridged:0})}}window.onkeydown=function(s){s||(s=window.event),at=s.shiftKey};window.onkeyup=function(s){s||(s=window.event),at=s.shiftKey};window.onmousemove=function(s){s||(s=window.event),at=s.shiftKey};let at;function je(s){return new Promise(e=>setTimeout(e,s))}const ts=localStorage.getItem("meower_linkurl")||"wss://server.meower.org/",Me=localStorage.getItem("meower_apiurl")||"https://api.meower.org/",Ve=localStorage.getItem("meower_encodeapi")||!1;class ns{constructor(e){return this.events={},this._numevents=1,this.ip=null,e&&this.connect(e),this}_console(e,n,t){const l=Array.from(arguments).slice(2),r="%o".repeat(l.length);console[e](`%cCLJS%c${n}%c ${r}`,"background:#0fbd8c;color:white;font-weight:bold;border-radius:4px 0 0 4px;padding:0 3px;display:inline-block","background:#000;color:white;font-weight:bold;border-radius:0 4px 4px 0;padding:0 3px;display:inline-block","",...l)}log(e,n){this._console.apply(this,["log",...arguments])}warn(e,n){this._console.apply(this,["warn",...arguments])}error(e,n){this._console.apply(this,["error",...arguments])}connect(e){return new Promise((n,t)=>{try{this.ws&&this.ws.readyState===1&&(this.log("connection","already connected, disconnecting..."),this.disconnect(1e3,"Intentional disconnect")),this.ws=new WebSocket(e),this.emit("connectionstart"),this.ws.addEventListener("open",async()=>{try{this.log("connection","connected to websockets");const l=localStorage.getItem("meower_ip");l||l===""?this.ip=l:this.ip=await(await fetch(Me+"ip")).text(),this.send({cmd:"direct",val:{cmd:"ip",val:this.ip}}),await je(100),this.send({cmd:"direct",val:{cmd:"type",val:"js"},listener:"send_type"});const r=this.sendListener({cmd:"direct",val:"meower",listener:"send_tkey"},a=>{a.cmd==="statuscode"&&(this.off(r),a.val==="I:100 | OK"?(n(),this.log("connection","successfully connected")):(t(a.val),this.error("connection","error connecting; code:",a.val)))});this.emit("connected")}catch(l){this.error("connection","error connecting:",l),t(l)}}),this.ws.addEventListener("message",l=>{const r=JSON.parse(l.data);this.log("< incoming",r),this.emit(r.cmd,r),r.listener&&this.emit("__listener_"+r.listener,r)}),this.ws.addEventListener("close",l=>{this.log("connection","disconnected with code ",l.code," and reason",l.reason),this.emit("disconnected",l)}),this.ws.addEventListener("error",l=>{this.error("connection","error:",l),this.emit("error",l)})}catch(l){t(l)}})}send(e){if(!this.ws||this.ws.readyState!==1)throw new Error("Not connected; use link.connect(server) to connect");this.log("> outgoing",e),this.ws.send(JSON.stringify(e))}sendListener(e,n){if(!e.listener)throw new Error("data must have a listener");return this.send(e),this.onListener(e.listener,n)}on(e,n){this._numevents++;const t=(this._numevents-1).toString();return this.events[t]={event:e,cb:n},t}onListener(e,n){return this.on("__listener_"+e,n)}off(e){if(!this.events[e])throw new Error("Tried to remove nonexistent listener");delete this.events[e]}once(e,n){const t=this.on(e,()=>{n(arguments),this.off(t)})}emit(e,n){Object.values(this.events).forEach(t=>{t.event===e&&t.cb(n)})}disconnect(e,n){!this.ws||this.ws.readyState!==1||(console.log(e,n),this.ws.close(e,n))}}function Dt(){return{name:null,theme:"orange",mode:!0,sfx:!0,bgm:!0,bgm_song:2,layout:"new",pfp_data:1,quote:""}}let Be=null;ce.subscribe(s=>Be=s);const K=new ns;window.cljs=K;K.log("manager","started");let Mt=null,xe=null,dt=null,mt=null,pt=null,Se=null;async function ls(){Mt&&(K.off(Mt),xe=null),xe&&(K.off(xe),xe=null),dt&&(K.off(dt),dt=null),mt&&(K.off(mt),mt=null),pt&&(K.off(pt),pt=null),Se&&(clearInterval(Se),Se=null),vt.set(""),K.once("connectionstart",()=>{Mt=K.on("connected",()=>{Oe.set(!1),Se=setInterval(()=>{K.send({cmd:"ping",val:""})},1e4)}),xe=K.on("disconnected",s=>{Ce.set([]),s.reason!=="Intentional disconnect"&&Oe.set(!0);let e=Dt();e.theme=Be.theme,e.mode=Be.mode,ce.set(e),Se&&(clearInterval(Se),Se=null)}),dt=K.on("ulist",s=>{const e=s.val.split(";");e[e.length-1]===""&&e.pop(),Ce.set(e)}),mt=K.on("direct",s=>{s.val.mode=="inbox_message"&&(Be.unread_inbox=!0,ce.set(Be))}),pt=K.on("direct",s=>{(s.val=="E:018 | Account Banned"||s.val=="E:020 | Kicked"||s.val=="E:110 | ID conflict"||s.val=="E:119 | IP Blocked")&&(K.disconnect(),vt.set(s.val),Oe.set(!0),K.log("manager","requested disconnect:",s.val))})}),Oe.set(!1);try{return await K.connect(ts)}catch(s){return K.disconnect(),vt.set(s),Oe.set(!0),K.error("manager","conenction error:",s),s}}async function Pn(){return K.ws?K.ws.readyState!==1?(K.log("manager","already disconnected or disconnecting, cancelling safe disconnect"),new Promise(s=>s())):(K.log("manager","safely disconnecting"),new Promise(s=>{Ce.set([]),ce.set(Dt()),xe&&(K.off(xe),xe=null),Se&&(clearInterval(Se),Se=null),K.once("disconnected",s),K.disconnect(1e3,"Intentional disconnect")})):(K.log("manager","websocket not present, cancelling safe disconnect"),new Promise(s=>s()))}async function ae(s){return K.log("manager","meower request",s),Re.set(!0),new Promise((e,n)=>{let t=null;const l=setTimeout(()=>{n("Timed out"),Re.set(!1)},1e4),r=K.sendListener({...s,listener:"listener_"+Math.floor(Math.random()*1e7)},a=>{a.cmd==="statuscode"?(K.off(r),Re.set(!1),clearTimeout(l),a.val==="I:100 | OK"?e(t):n(a.val)):a.cmd==="direct"&&(t=a.val)})})}async function Ue(){const s=Be;return ae({cmd:"direct",val:{cmd:"update_config",val:{unread_inbox:s.unread_inbox,theme:s.theme,mode:s.mode,sfx:s.sfx,bgm:s.bgm,bgm_song:s.bgm_song,layout:s.layout,pfp_data:s.pfp_data,quote:s.quote}}})}function Mn(s){let e,n,t,l,r;function a(c,u){return c[4].lvl>=1||c[0].user===c[4].name?rs:ss}let i=a(s),o=i(s);return{c(){e=m("button"),n=q(),o.c(),t=Le(),f(e,"class","circle join svelte-r298n5")},m(c,u){b(c,e,u),b(c,n,u),o.m(c,u),b(c,t,u),l||(r=R(e,"click",s[7]),l=!0)},p(c,u){i===(i=a(c))&&o?o.p(c,u):(o.d(1),o=i(c),o&&(o.c(),o.m(t.parentNode,t)))},d(c){c&&h(e),c&&h(n),o.d(c),c&&h(t),l=!1,r()}}}function ss(s){let e,n,t;return{c(){e=m("button"),f(e,"class","circle report svelte-r298n5")},m(l,r){b(l,e,r),n||(t=R(e,"click",s[9]),n=!0)},p:M,d(l){l&&h(e),n=!1,t()}}}function rs(s){let e,n,t;return{c(){e=m("button"),f(e,"class","circle close svelte-r298n5")},m(l,r){b(l,e,r),n||(t=R(e,"click",s[8]),n=!0)},p:M,d(l){l&&h(e),n=!1,t()}}}function os(s){let e,n,t,l,r,a,i,o,c=s[0].user+"",u,d,_,$,k,g=s[0].content+"",v,w,y,P,E=s[1]&&s[4].name&&s[5]!=="livechat"&&s[0].user!=="Server"&&Mn(s);return r=new Je({props:{icon:s[3][s[0].user]?s[3][s[0].user].pfp_data:-3,alt:s[0].user+"'s profile picture",online:s[6].includes(s[0].user)}}),_=new es({props:{date:s[0].date,bridged:s[2]}}),{c(){e=m("div"),n=m("div"),E&&E.c(),t=q(),l=m("button"),x(r.$$.fragment),a=q(),i=m("div"),o=m("h2"),u=z(c),d=q(),x(_.$$.fragment),$=q(),k=m("p"),v=z(g),f(n,"class","settings-controls svelte-r298n5"),f(l,"class","pfp svelte-r298n5"),f(o,"class","creator svelte-r298n5"),f(i,"class","creator svelte-r298n5"),f(e,"class","post-header svelte-r298n5"),f(k,"class","post-content svelte-r298n5")},m(T,I){b(T,e,I),p(e,n),E&&E.m(n,null),p(e,t),p(e,l),j(r,l,null),p(e,a),p(e,i),p(i,o),p(o,u),p(i,d),j(_,i,null),b(T,$,I),b(T,k,I),p(k,v),w=!0,y||(P=R(l,"click",s[10]),y=!0)},p(T,I){T[1]&&T[4].name&&T[5]!=="livechat"&&T[0].user!=="Server"?E?E.p(T,I):(E=Mn(T),E.c(),E.m(n,null)):E&&(E.d(1),E=null);const L={};I&9&&(L.icon=T[3][T[0].user]?T[3][T[0].user].pfp_data:-3),I&1&&(L.alt=T[0].user+"'s profile picture"),I&65&&(L.online=T[6].includes(T[0].user)),r.$set(L),(!w||I&1)&&c!==(c=T[0].user+"")&&F(u,c);const N={};I&1&&(N.date=T[0].date),I&4&&(N.bridged=T[2]),_.$set(N),(!w||I&1)&&g!==(g=T[0].content+"")&&F(v,g)},i(T){w||(C(r.$$.fragment,T),C(_.$$.fragment,T),w=!0)},o(T){S(r.$$.fragment,T),S(_.$$.fragment,T),w=!1},d(T){T&&h(e),E&&E.d(),O(r),O(_),T&&h($),T&&h(k),y=!1,P()}}}function is(s){let e,n;return e=new oe({props:{$$slots:{default:[os]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p(t,[l]){const r={};l&4223&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function as(s,e,n){let t,l,r,a;A(s,qe,g=>n(3,t=g)),A(s,ce,g=>n(4,l=g)),A(s,we,g=>n(5,r=g)),A(s,Ce,g=>n(6,a=g));let{post:i={}}=e,{buttons:o=!0}=e,c=!1;function u(){if(!i.user)return;i.user=="Discord"&&i.content.includes(":")&&n(2,c=!0);var g="";i.user=="Discord"&&i.content.includes(":")&&(n(0,i.user=i.content.split(": ")[0],i),n(0,i.content=i.content.slice(i.content.indexOf(": ")+1),i)),g=i.user;const v=async()=>{let y=t;if(g==="Notification"){y[g]={pfp_data:101},qe.set(y);return}else if(g==="Announcement"){y[g]={pfp_data:102},qe.set(y);return}else if(g==="Server"){y[g]={pfp_data:102},qe.set(y);return}y[g]={pfp_data:-1},qe.set(y),fetch(`${Me}/users/${g}`).then(P=>P.json()).then(P=>{y[g]=P,console.log(P),qe.set(y)}).catch(P=>{console.log(P),y[g]={error:!0,pfp_data:-2,temporary:!0},qe.set(y)})},w=t;w[g]?w[g].temporary&&v():v()}At(u);const d=()=>{document.getElementById("postinput").value="@"+i.user,document.getElementById("postinput").focus()},_=()=>{if(at){ae({cmd:"direct",val:{cmd:"delete_post",val:i.post_id}});return}$t.set(i),fe.set("deletePost"),U.set(!0)},$=()=>{$t.set(i),fe.set("reportPost"),U.set(!0)},k=()=>{!o||i.user==="Notification"||i.user==="Announcement"||(Ke.set(i.user),ie.set("profile"))};return s.$$set=g=>{"post"in g&&n(0,i=g.post),"buttons"in g&&n(1,o=g.buttons)},[i,o,c,t,l,r,a,d,_,$,k]}class Qe extends ee{constructor(e){super(),Z(this,e,as,is,X,{post:0,buttons:1})}}function cs(s){let e;return{c(){e=m("span"),e.innerHTML='<span class="circle circle1 svelte-idse3p"></span><span class="circle circle2 svelte-idse3p"></span><span class="circle circle3 svelte-idse3p"></span>',f(e,"class","loading svelte-idse3p")},m(n,t){b(n,e,t)},p:M,i:M,o:M,d(n){n&&h(e)}}}class ke extends ee{constructor(e){super(),Z(this,e,null,cs,X,{})}}function Gt(s){const e=s-1;return e*e*e+1}function Cl(s,{delay:e=0,duration:n=400,easing:t=wt}={}){const l=+getComputedStyle(s).opacity;return{delay:e,duration:n,easing:t,css:r=>`opacity: ${r*l}`}}function Ee(s,{delay:e=0,duration:n=400,easing:t=Gt,x:l=0,y:r=0,opacity:a=0}={}){const i=getComputedStyle(s),o=+i.opacity,c=i.transform==="none"?"":i.transform,u=o*(1-a);return{delay:e,duration:n,easing:t,css:(d,_)=>`
			transform: ${c} translate(${(1-d)*l}px, ${(1-d)*r}px);
			opacity: ${o-u*_}`}}function En(s,{delay:e=0,duration:n=400,easing:t=Gt,start:l=0,opacity:r=0}={}){const a=getComputedStyle(s),i=+a.opacity,o=a.transform==="none"?"":a.transform,c=1-l,u=i*(1-r);return{delay:e,duration:n,easing:t,css:(d,_)=>`
			transform: ${o} scale(${1-c*_});
			opacity: ${i-u*_}
		`}}function ct(s,{from:e,to:n},t={}){const l=getComputedStyle(s),r=l.transform==="none"?"":l.transform,[a,i]=l.transformOrigin.split(" ").map(parseFloat),o=e.left+e.width*a/n.width-(n.left+a),c=e.top+e.height*i/n.height-(n.top+i),{delay:u=0,duration:d=$=>Math.sqrt($)*120,easing:_=Gt}=t;return{delay:u,duration:yt(d)?d(Math.sqrt(o*o+c*c)):d,easing:_,css:($,k)=>{const g=k*o,v=k*c,w=$+k*e.width/n.width,y=$+k*e.height/n.height;return`transform: ${r} translate(${g}px, ${v}px) scale(${w}, ${y});`}}}function In(s,e,n){const t=s.slice();return t[16]=e[n],t}function us(s){let e,n;return e=new oe({props:{$$slots:{default:[fs]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p(t,l){const r={};l&1048576&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function fs(s){let e,n,t,l,r=s[19]+"",a;return{c(){e=m("h1"),e.textContent="Home",n=z(`\r
			Error loading posts. Please try again.\r
			`),t=m("pre"),l=m("code"),a=z(r)},m(i,o){b(i,e,o),b(i,n,o),b(i,t,o),p(t,l),p(l,a)},p:M,d(i){i&&h(e),i&&h(n),i&&h(t)}}}function ds(s){let e,n,t,l,r,a,i,o,c,u;e=new oe({props:{$$slots:{default:[ms]},$$scope:{ctx:s}}});let d=s[6].name&&Ln(s);const _=[_s,ps],$=[];function k(y,P){return y[0].length<1?0:1}l=k(s),r=$[l]=_[l](s);const g=[bs,hs],v=[];function w(y,P){return y[2]?0:y[3]&&y[3]>y[1]?1:-1}return~(o=w(s))&&(c=v[o]=g[o](s)),{c(){x(e.$$.fragment),n=q(),d&&d.c(),t=q(),r.c(),a=q(),i=m("div"),c&&c.c(),f(i,"class","center svelte-jtrv5i")},m(y,P){j(e,y,P),b(y,n,P),d&&d.m(y,P),b(y,t,P),$[l].m(y,P),b(y,a,P),b(y,i,P),~o&&v[o].m(i,null),u=!0},p(y,P){const E={};P&1048608&&(E.$$scope={dirty:P,ctx:y}),e.$set(E),y[6].name?d?d.p(y,P):(d=Ln(y),d.c(),d.m(t.parentNode,t)):d&&(d.d(1),d=null);let T=l;l=k(y),l===T?$[l].p(y,P):(ne(),S($[T],1,1,()=>{$[T]=null}),le(),r=$[l],r?r.p(y,P):(r=$[l]=_[l](y),r.c()),C(r,1),r.m(a.parentNode,a));let I=o;o=w(y),o===I?~o&&v[o].p(y,P):(c&&(ne(),S(v[I],1,1,()=>{v[I]=null}),le()),~o?(c=v[o],c?c.p(y,P):(c=v[o]=g[o](y),c.c()),C(c,1),c.m(i,null)):c=null)},i(y){u||(C(e.$$.fragment,y),C(r),C(c),u=!0)},o(y){S(e.$$.fragment,y),S(r),S(c),u=!1},d(y){O(e,y),y&&h(n),d&&d.d(y),y&&h(t),$[l].d(y),y&&h(a),y&&h(i),~o&&v[o].d()}}}function zn(s){let e=" ",n,t,l=s[5].join(", ")+"",r,a;return{c(){n=z(e),t=z("("),r=z(l),a=z(")")},m(i,o){b(i,n,o),b(i,t,o),b(i,r,o),b(i,a,o)},p(i,o){o&32&&l!==(l=i[5].join(", ")+"")&&F(r,l)},d(i){i&&h(n),i&&h(t),i&&h(r),i&&h(a)}}}function ms(s){let e,n,t=s[5].length+"",l,r,a,i=s[5].length&&zn(s);return{c(){e=m("h1"),e.textContent="Home",n=z(`\r
			There are currently `),l=z(t),r=z(" user(s) online"),i&&i.c(),a=z(".")},m(o,c){b(o,e,c),b(o,n,c),b(o,l,c),b(o,r,c),i&&i.m(o,c),b(o,a,c)},p(o,c){c&32&&t!==(t=o[5].length+"")&&F(l,t),o[5].length?i?i.p(o,c):(i=zn(o),i.c(),i.m(a.parentNode,a)):i&&(i.d(1),i=null)},d(o){o&&h(e),o&&h(n),o&&h(l),o&&h(r),i&&i.d(o),o&&h(a)}}}function Ln(s){let e,n,t,l,r,a;return{c(){e=m("form"),e.innerHTML=`<input type="text" class="white svelte-jtrv5i" placeholder="Write something..." id="postinput" name="postinput" autocomplete="false" maxlength="250"/> 
				<button>Post</button>`,n=q(),t=m("div"),l=z(s[4]),f(e,"class","createpost svelte-jtrv5i"),f(t,"class","post-errors svelte-jtrv5i")},m(i,o){b(i,e,o),b(i,n,o),b(i,t,o),p(t,l),r||(a=R(e,"submit",he(s[8])),r=!0)},p(i,o){o&16&&F(l,i[4])},d(i){i&&h(e),i&&h(n),i&&h(t),r=!1,a()}}}function ps(s){let e=[],n=new Map,t,l,r=s[0];const a=i=>i[16].id;for(let i=0;i<r.length;i+=1){let o=In(s,r,i),c=a(o);n.set(c,e[i]=jn(c,o))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=Le()},m(i,o){for(let c=0;c<e.length;c+=1)e[c].m(i,o);b(i,t,o),l=!0},p(i,o){if(o&1){r=i[0],ne();for(let c=0;c<e.length;c+=1)e[c].r();e=it(e,o,a,1,i,r,n,t.parentNode,ot,jn,t,In);for(let c=0;c<e.length;c+=1)e[c].a();le()}},i(i){if(!l){for(let o=0;o<r.length;o+=1)C(e[o]);l=!0}},o(i){for(let o=0;o<e.length;o+=1)S(e[o]);l=!1},d(i){for(let o=0;o<e.length;o+=1)e[o].d(i);i&&h(t)}}}function _s(s){let e;function n(r,a){return r[6].name?vs:gs}let t=n(s),l=t(s);return{c(){l.c(),e=Le()},m(r,a){l.m(r,a),b(r,e,a)},p(r,a){t!==(t=n(r))&&(l.d(1),l=t(r),l&&(l.c(),l.m(e.parentNode,e)))},i:M,o:M,d(r){l.d(r),r&&h(e)}}}function jn(s,e){let n,t,l,r,a,i=M,o;return t=new Qe({props:{post:e[16]}}),{key:s,first:null,c(){n=m("div"),x(t.$$.fragment),l=q(),this.first=n},m(c,u){b(c,n,u),j(t,n,null),p(n,l),o=!0},p(c,u){e=c;const d={};u&1&&(d.post=e[16]),t.$set(d)},r(){a=n.getBoundingClientRect()},f(){rt(n),i(),He(n,a)},a(){i(),i=st(n,a,ct,{duration:250})},i(c){o||(C(t.$$.fragment,c),c&&ye(()=>{r||(r=$e(n,Ee,{y:-50,duration:250},!0)),r.run(1)}),o=!0)},o(c){S(t.$$.fragment,c),c&&(r||(r=$e(n,Ee,{y:-50,duration:250},!1)),r.run(0)),o=!1},d(c){c&&h(n),O(t),c&&r&&r.end()}}}function gs(s){let e;return{c(){e=z("No posts here. Check back later!")},m(n,t){b(n,e,t)},d(n){n&&h(e)}}}function vs(s){let e;return{c(){e=z("No posts here. Check back later or be the first to post!")},m(n,t){b(n,e,t)},d(n){n&&h(e)}}}function hs(s){let e,n,t;return{c(){e=m("button"),e.textContent="Load More",f(e,"class","load-more svelte-jtrv5i")},m(l,r){b(l,e,r),n||(t=R(e,"click",s[9]),n=!0)},p:M,i:M,o:M,d(l){l&&h(e),n=!1,t()}}}function bs(s){let e,n;return e=new ke({}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p:M,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function ks(s){let e,n,t;return n=new ke({}),{c(){e=m("div"),x(n.$$.fragment),f(e,"class","fullcenter svelte-jtrv5i")},m(l,r){b(l,e,r),j(n,e,null),t=!0},p:M,i(l){t||(C(n.$$.fragment,l),t=!0)},o(l){S(n.$$.fragment,l),t=!1},d(l){l&&h(e),O(n)}}}function $s(s){let e,n,t={ctx:s,current:null,token:null,hasCatch:!0,pending:ks,then:ds,catch:us,error:19,blocks:[,,,]};return We(s[7](1),t),{c(){e=m("div"),t.block.c(),f(e,"class","home svelte-jtrv5i")},m(l,r){b(l,e,r),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null,n=!0},p(l,[r]){s=l,Fe(t,s,r)},i(l){n||(C(t.block),n=!0)},o(l){for(let r=0;r<3;r+=1){const a=t.blocks[r];S(a)}n=!1},d(l){l&&h(e),t.block.d(),t.token=null,t=null}}}function ws(s,e,n){let t,l,r;A(s,Ce,P=>n(12,t=P)),A(s,ce,P=>n(6,l=P)),A(s,ie,P=>n(13,r=P));let a=0,{posts:i=[]}=e,o=0,c=!1,u=null,d="",_=0;async function $(P){if(n(2,c=!0),P===void 0)n(0,i=[]);else{let E=P+Math.floor(_/25),T=_%25;try{let I="home?autoget&page=";Ve&&(I=encodeURIComponent(I));const L=await fetch(`${Me}${I}${E}`);if(!L.ok)throw new Error("Response code is not OK; code is "+L.status);const N=await L.json();let G=N.autoget;G.splice(0,T),n(3,u=N.pages);let W,te;if(T>0&&o<u){if(W=await fetch(`${Me}${I}${E+1}`),!L.ok)throw new Error("Overflow response code is not OK; code is "+L.status);te=await W.json(),G=G.concat(te.autoget.slice(0,T))}for(const Q of G)i.push({id:a++,post_id:Q.post_id,user:Q.u,content:Q.p,date:Q.t.e});n(1,o=P)}catch(I){throw n(2,c=!1),I}}return n(0,i),n(2,c=!1),i}function k(P){i.unshift({id:a++,...P}),n(0,i)}function g(){K.on("direct",P=>{if(r==="home"&&P.val.mode===1){if(P.val.post_origin!=="home")return;k({post_id:P.val._id,user:P.val.u,content:P.val.p,date:P.val.t.e}),_++,n(0,i),l.sfx&&P.val.u!==l.name&&yl()}P.val.mode==="delete"&&n(0,i=i.filter(E=>E.post_id!==P.val.id))})}K.ws.readyState===1?g():K.ws.addEventListener("open",g);let v=t;Ce.subscribe(P=>{n(5,v=P)});const w=P=>{if(n(4,d=""),!P.target[0].value.trim())return n(4,d="You cannot send an empty post!"),!1;Re.set(!0),P.target[1].disabled=!0,K.send({cmd:"direct",val:{cmd:"post_home",val:P.target[0].value},listener:"post_home"});const E=K.on("statuscode",T=>{T.listener==="post_home"&&(K.off(E),Re.set(!1),P.target[1].disabled=!1,T.val==="I:100 | OK"?P.target[0].value="":T.val==="E:106 | Too many requests"?n(4,d="You're posting too fast!"):n(4,d="Unexpected "+T.val+" error!"))});return!1},y=()=>$(o+1);return s.$$set=P=>{"posts"in P&&n(0,i=P.posts)},[i,o,c,u,d,v,l,$,w,y]}class ys extends ee{constructor(e){super(),Z(this,e,ws,$s,X,{posts:0})}}function On(s,e,n){const t=s.slice();return t[10]=e[n],t}function Cs(s){let e,n;return e=new oe({props:{$$slots:{default:[qs]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p(t,l){const r={};l&16384&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function qs(s){let e,n,t,l,r=s[13]+"",a;return{c(){e=m("h1"),e.textContent="Inbox Messages",n=z(`\r
			Error loading messages. Please try again.\r
			`),t=m("pre"),l=m("code"),a=z(r)},m(i,o){b(i,e,o),b(i,n,o),b(i,t,o),p(t,l),p(l,a)},p:M,d(i){i&&h(e),i&&h(n),i&&h(t)}}}function Ss(s){let e,n,t,l,r,a,i,o,c;e=new oe({props:{$$slots:{default:[Ps]},$$scope:{ctx:s}}});const u=[Es,Ms],d=[];function _(v,w){return v[0].length<1?0:1}t=_(s),l=d[t]=u[t](s);const $=[zs,Is],k=[];function g(v,w){return v[2]?0:v[3]&&v[3]>v[1]?1:-1}return~(i=g(s))&&(o=k[i]=$[i](s)),{c(){x(e.$$.fragment),n=q(),l.c(),r=q(),a=m("div"),o&&o.c(),f(a,"class","center svelte-1y77739")},m(v,w){j(e,v,w),b(v,n,w),d[t].m(v,w),b(v,r,w),b(v,a,w),~i&&k[i].m(a,null),c=!0},p(v,w){const y={};w&16384&&(y.$$scope={dirty:w,ctx:v}),e.$set(y);let P=t;t=_(v),t===P?d[t].p(v,w):(ne(),S(d[P],1,1,()=>{d[P]=null}),le(),l=d[t],l?l.p(v,w):(l=d[t]=u[t](v),l.c()),C(l,1),l.m(r.parentNode,r));let E=i;i=g(v),i===E?~i&&k[i].p(v,w):(o&&(ne(),S(k[E],1,1,()=>{k[E]=null}),le()),~i?(o=k[i],o?o.p(v,w):(o=k[i]=$[i](v),o.c()),C(o,1),o.m(a,null)):o=null)},i(v){c||(C(e.$$.fragment,v),C(l),C(o),c=!0)},o(v){S(e.$$.fragment,v),S(l),S(o),c=!1},d(v){O(e,v),v&&h(n),d[t].d(v),v&&h(r),v&&h(a),~i&&k[i].d()}}}function Ps(s){let e,n;return{c(){e=m("h1"),e.textContent="Inbox Messages",n=z(`\r
			Here are your latest inbox messages. We will send announcements and moderator messages to here!`)},m(t,l){b(t,e,l),b(t,n,l)},p:M,d(t){t&&h(e),t&&h(n)}}}function Ms(s){let e=[],n=new Map,t,l,r=s[0];const a=i=>i[10].id;for(let i=0;i<r.length;i+=1){let o=On(s,r,i),c=a(o);n.set(c,e[i]=xn(c,o))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=Le()},m(i,o){for(let c=0;c<e.length;c+=1)e[c].m(i,o);b(i,t,o),l=!0},p(i,o){if(o&1){r=i[0],ne();for(let c=0;c<e.length;c+=1)e[c].r();e=it(e,o,a,1,i,r,n,t.parentNode,ot,xn,t,On);for(let c=0;c<e.length;c+=1)e[c].a();le()}},i(i){if(!l){for(let o=0;o<r.length;o+=1)C(e[o]);l=!0}},o(i){for(let o=0;o<e.length;o+=1)S(e[o]);l=!1},d(i){for(let o=0;o<e.length;o+=1)e[o].d(i);i&&h(t)}}}function Es(s){let e;return{c(){e=z("No messages yet. Check back later!")},m(n,t){b(n,e,t)},p:M,i:M,o:M,d(n){n&&h(e)}}}function xn(s,e){let n,t,l,r,a,i=M,o;return t=new Qe({props:{post:e[10]}}),{key:s,first:null,c(){n=m("div"),x(t.$$.fragment),l=q(),this.first=n},m(c,u){b(c,n,u),j(t,n,null),p(n,l),o=!0},p(c,u){e=c;const d={};u&1&&(d.post=e[10]),t.$set(d)},r(){a=n.getBoundingClientRect()},f(){rt(n),i(),He(n,a)},a(){i(),i=st(n,a,ct,{duration:250})},i(c){o||(C(t.$$.fragment,c),c&&ye(()=>{r||(r=$e(n,Ee,{y:-50,duration:250},!0)),r.run(1)}),o=!0)},o(c){S(t.$$.fragment,c),c&&(r||(r=$e(n,Ee,{y:-50,duration:250},!1)),r.run(0)),o=!1},d(c){c&&h(n),O(t),c&&r&&r.end()}}}function Is(s){let e,n,t;return{c(){e=m("button"),e.textContent="Load More",f(e,"class","load-more svelte-1y77739")},m(l,r){b(l,e,r),n||(t=R(e,"click",s[5]),n=!0)},p:M,i:M,o:M,d(l){l&&h(e),n=!1,t()}}}function zs(s){let e,n;return e=new ke({}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p:M,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Ls(s){let e,n,t;return n=new ke({}),{c(){e=m("div"),x(n.$$.fragment),f(e,"class","fullcenter svelte-1y77739")},m(l,r){b(l,e,r),j(n,e,null),t=!0},p:M,i(l){t||(C(n.$$.fragment,l),t=!0)},o(l){S(n.$$.fragment,l),t=!1},d(l){l&&h(e),O(n)}}}function js(s){let e,n,t={ctx:s,current:null,token:null,hasCatch:!0,pending:Ls,then:Ss,catch:Cs,error:13,blocks:[,,,]};return We(s[4](1),t),{c(){e=m("div"),t.block.c(),f(e,"class","messages svelte-1y77739")},m(l,r){b(l,e,r),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null,n=!0},p(l,[r]){s=l,Fe(t,s,r)},i(l){n||(C(t.block),n=!0)},o(l){for(let r=0;r<3;r+=1){const a=t.blocks[r];S(a)}n=!1},d(l){l&&h(e),t.block.d(),t.token=null,t=null}}}let Tn=0;function Os(s,e,n){let t,l;A(s,Ye,$=>n(7,t=$)),A(s,ce,$=>n(8,l=$));let r=0,{posts:a=[]}=e,i=0,o=!1,c=null;async function u($){if(V(ce,l.unread_inbox=!1,l),Ue(),n(2,o=!0),$===void 0)n(0,a=[]);else{let k=$+Math.floor(Tn/25),g=Tn%25;try{let v="inbox?autoget&page=";Ve&&(v=encodeURIComponent(v));const w=await fetch(`${Me}${v}${k}`,{headers:t});if(!w.ok)throw new Error("Response code is not OK; code is "+w.status);const y=await w.json();let P=y.autoget;P.splice(0,g),n(3,c=y.pages);let E,T;g>0&&i<c;for(const I of P)I.u==="Server"?I.u="Announcement":I.u="Notification",a.push({id:r++,post_id:I.post_id,user:I.u,content:I.p,date:I.t.e});n(1,i=$)}catch(v){throw n(2,o=!1),v}}return n(0,a),n(2,o=!1),a}function d(){K.on("direct",$=>{$.val.mode==="delete"&&n(0,a=a.filter(k=>k.post_id!==$.val.id))})}K.ws.readyState===1?d():K.ws.addEventListener("open",d);const _=()=>u(i+1);return s.$$set=$=>{"posts"in $&&n(0,a=$.posts)},[a,i,o,c,u,_]}class xs extends ee{constructor(e){super(),Z(this,e,Os,js,X,{posts:0})}}const Ts=s=>({}),Rn=s=>({});function Rs(s){let e,n,t,l,r,a,i,o,c,u;const d=s[4].header,_=Et(d,s,s[3],Rn),$=s[4].default,k=Et($,s,s[3],null);return{c(){e=m("div"),n=q(),t=m("div"),_&&_.c(),l=q(),r=m("hr"),a=q(),k&&k.c(),f(e,"class","modal-background svelte-c5nskh"),f(t,"class","modal svelte-c5nskh"),f(t,"role","dialog"),f(t,"aria-modal","true")},m(g,v){b(g,e,v),b(g,n,v),b(g,t,v),_&&_.m(t,null),p(t,l),p(t,r),p(t,a),k&&k.m(t,null),s[5](t),o=!0,c||(u=[R(window,"keydown",s[2]),R(e,"click",s[1])],c=!0)},p(g,[v]){_&&_.p&&(!o||v&8)&&zt(_,d,g,g[3],o?It(d,g[3],v,Ts):Lt(g[3]),Rn),k&&k.p&&(!o||v&8)&&zt(k,$,g,g[3],o?It($,g[3],v,null):Lt(g[3]),null)},i(g){o||(C(_,g),C(k,g),ye(()=>{i||(i=$e(t,En,{duration:200},!0)),i.run(1)}),o=!0)},o(g){S(_,g),S(k,g),i||(i=$e(t,En,{duration:200},!1)),i.run(0),o=!1},d(g){g&&h(e),g&&h(n),g&&h(t),_&&_.d(g),k&&k.d(g),s[5](null),g&&i&&i.end(),c=!1,ue(u)}}}function Ns(s,e,n){let{$$slots:t={},$$scope:l}=e;const r=Bl(),a=()=>r("close");let i;const o=d=>{if(d.key==="Escape"){a();return}if(d.key==="Tab"){const _=i.querySelectorAll("*"),$=Array.from(_).filter(g=>g.tabIndex>=0);let k=$.indexOf(document.activeElement);k===-1&&d.shiftKey&&(k=0),k+=$.length+(d.shiftKey?-1:1),k%=$.length,$[k].focus(),d.preventDefault()}},c=typeof document!="undefined"&&document.activeElement;c&&Al(()=>{c.focus()});function u(d){Ge[d?"unshift":"push"](()=>{i=d,n(0,i)})}return s.$$set=d=>{"$$scope"in d&&n(3,l=d.$$scope)},[i,a,o,l,t,u]}class _e extends ee{constructor(e){super(),Z(this,e,Ns,Rs,X,{})}}function Nn(s,e,n){const t=s.slice();return t[17]=e[n],t}function As(s){let e,n,t,l,r=[],a=new Map,i,o,c,u,d;e=new oe({props:{$$slots:{default:[Us]},$$scope:{ctx:s}}}),t=new oe({props:{$$slots:{default:[Ds]},$$scope:{ctx:s}}});let _=s[0];const $=w=>w[17]._id;for(let w=0;w<_.length;w+=1){let y=Nn(s,_,w),P=$(y);a.set(P,r[w]=An(P,y))}const k=[Ys,Ks],g=[];function v(w,y){return w[3]?0:w[4]&&w[4]>w[2]?1:-1}return~(c=v(s))&&(u=g[c]=k[c](s)),{c(){x(e.$$.fragment),n=q(),x(t.$$.fragment),l=q();for(let w=0;w<r.length;w+=1)r[w].c();i=q(),o=m("div"),u&&u.c(),f(o,"class","center svelte-ruol0l")},m(w,y){j(e,w,y),b(w,n,y),j(t,w,y),b(w,l,y);for(let P=0;P<r.length;P+=1)r[P].m(w,y);b(w,i,y),b(w,o,y),~c&&g[c].m(o,null),d=!0},p(w,y){const P={};y&1048576&&(P.$$scope={dirty:y,ctx:w}),e.$set(P);const E={};if(y&1048576&&(E.$$scope={dirty:y,ctx:w}),t.$set(E),y&3){_=w[0],ne();for(let I=0;I<r.length;I+=1)r[I].r();r=it(r,y,$,1,w,_,a,i.parentNode,ot,An,i,Nn);for(let I=0;I<r.length;I+=1)r[I].a();le()}let T=c;c=v(w),c===T?~c&&g[c].p(w,y):(u&&(ne(),S(g[T],1,1,()=>{g[T]=null}),le()),~c?(u=g[c],u?u.p(w,y):(u=g[c]=k[c](w),u.c()),C(u,1),u.m(o,null)):u=null)},i(w){if(!d){C(e.$$.fragment,w),C(t.$$.fragment,w);for(let y=0;y<_.length;y+=1)C(r[y]);C(u),d=!0}},o(w){S(e.$$.fragment,w),S(t.$$.fragment,w);for(let y=0;y<r.length;y+=1)S(r[y]);S(u),d=!1},d(w){O(e,w),w&&h(n),O(t,w),w&&h(l);for(let y=0;y<r.length;y+=1)r[y].d(w);w&&h(i),w&&h(o),~c&&g[c].d()}}}function Bs(s){let e,n,t;return n=new ke({}),{c(){e=m("div"),x(n.$$.fragment),f(e,"class","fullcenter svelte-ruol0l")},m(l,r){b(l,e,r),j(n,e,null),t=!0},p:M,i(l){t||(C(n.$$.fragment,l),t=!0)},o(l){S(n.$$.fragment,l),t=!1},d(l){l&&h(e),O(n)}}}function Us(s){let e,n,t,l,r,a;return{c(){e=m("h1"),e.textContent="Chats",n=z(`\r
			Here are your chats. Press the chat button to enter a chat.\r
			`),t=m("div"),l=m("button"),f(l,"class","circle plus svelte-ruol0l"),f(t,"class","settings-controls svelte-ruol0l")},m(i,o){b(i,e,o),b(i,n,o),b(i,t,o),p(t,l),r||(a=R(l,"click",s[9]),r=!0)},p:M,d(i){i&&h(e),i&&h(n),i&&h(t),r=!1,a()}}}function Ds(s){let e,n,t,l,r,a,i;return{c(){e=m("div"),n=m("button"),t=q(),l=m("h1"),l.textContent="Livechat",r=z(`\r
			This is the public livechat. Messages in this chat don't save.`),f(n,"class","circle join svelte-ruol0l"),f(e,"class","settings-controls svelte-ruol0l")},m(o,c){b(o,e,c),p(e,n),b(o,t,c),b(o,l,c),b(o,r,c),a||(i=R(n,"click",s[10]),a=!0)},p:M,d(o){o&&h(e),o&&h(t),o&&h(l),o&&h(r),a=!1,i()}}}function Gs(s){let e,n,t,l,r,a,i=s[17].nickname+"",o,c,u="Members: "+s[17].members.join(", "),d,_,$;function k(){return s[11](s[17])}function g(){return s[12](s[17])}return{c(){e=m("div"),n=m("button"),t=q(),l=m("button"),r=q(),a=m("h1"),o=z(i),c=q(),d=z(u),f(n,"class","circle join svelte-ruol0l"),f(l,"class","circle close svelte-ruol0l"),f(e,"class","settings-controls svelte-ruol0l")},m(v,w){b(v,e,w),p(e,n),p(e,t),p(e,l),b(v,r,w),b(v,a,w),p(a,o),b(v,c,w),b(v,d,w),_||($=[R(n,"click",k),R(l,"click",g)],_=!0)},p(v,w){s=v,w&1&&i!==(i=s[17].nickname+"")&&F(o,i),w&1&&u!==(u="Members: "+s[17].members.join(", "))&&F(d,u)},d(v){v&&h(e),v&&h(r),v&&h(a),v&&h(c),v&&h(d),_=!1,ue($)}}}function An(s,e){let n,t,l,r,a=M,i;return t=new oe({props:{$$slots:{default:[Gs]},$$scope:{ctx:e}}}),{key:s,first:null,c(){n=m("div"),x(t.$$.fragment),this.first=n},m(o,c){b(o,n,c),j(t,n,null),i=!0},p(o,c){e=o;const u={};c&1048579&&(u.$$scope={dirty:c,ctx:e}),t.$set(u)},r(){r=n.getBoundingClientRect()},f(){rt(n),a(),He(n,r)},a(){a(),a=st(n,r,ct,{duration:250})},i(o){i||(C(t.$$.fragment,o),o&&ye(()=>{l||(l=$e(n,Ee,{y:-50,duration:250},!0)),l.run(1)}),i=!0)},o(o){S(t.$$.fragment,o),o&&(l||(l=$e(n,Ee,{y:-50,duration:250},!1)),l.run(0)),i=!1},d(o){o&&h(n),O(t),o&&l&&l.end()}}}function Ks(s){let e,n,t;return{c(){e=m("button"),e.textContent="Load More",f(e,"class","load-more svelte-ruol0l")},m(l,r){b(l,e,r),n||(t=R(e,"click",s[13]),n=!0)},p:M,i:M,o:M,d(l){l&&h(e),n=!1,t()}}}function Ys(s){let e,n;return e=new ke({}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p:M,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Bn(s){let e,n;return e=new _e({props:{$$slots:{default:[Ws],header:[Hs]},$$scope:{ctx:s}}}),e.$on("close",s[15]),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p(t,l){const r={};l&1048675&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Hs(s){let e,n,t,l;return{c(){e=m("h2"),n=z("Are you sure you want to leave "),t=z(s[6]),l=z("?"),f(e,"slot","header")},m(r,a){b(r,e,a),p(e,n),p(e,t),p(e,l)},p(r,a){a&64&&F(t,r[6])},d(r){r&&h(e)}}}function Ws(s){let e,n,t,l;return{c(){e=m("div"),n=m("button"),n.textContent="Leave",f(e,"slot","default")},m(r,a){b(r,e,a),p(e,n),t||(l=R(n,"click",s[14]),t=!0)},p:M,d(r){r&&h(e),t=!1,l()}}}function Fs(s){let e,n,t,l,r;const a=[Bs,As],i=[];function o(u,d){return u[3]?0:1}n=o(s),t=i[n]=a[n](s);let c=s[1]&&Bn(s);return{c(){e=m("div"),t.c(),l=q(),c&&c.c(),f(e,"class","chats svelte-ruol0l")},m(u,d){b(u,e,d),i[n].m(e,null),p(e,l),c&&c.m(e,null),r=!0},p(u,[d]){let _=n;n=o(u),n===_?i[n].p(u,d):(ne(),S(i[_],1,1,()=>{i[_]=null}),le(),t=i[n],t?t.p(u,d):(t=i[n]=a[n](u),t.c()),C(t,1),t.m(e,l)),u[1]?c?(c.p(u,d),d&2&&C(c,1)):(c=Bn(u),c.c(),C(c,1),c.m(e,null)):c&&(ne(),S(c,1,1,()=>{c=null}),le())},i(u){r||(C(t),C(c),r=!0)},o(u){S(t),S(c),r=!1},d(u){u&&h(e),i[n].d(),c&&c.d()}}}let Un=0;function Js(s,e,n){let t,l;A(s,we,E=>n(5,t=E)),A(s,ze,E=>n(6,l=E));let{chats:r=[]}=e,a=!1;function i(E){return E._id!==t}let o=0,c=!1,u=null;async function d(E){if(n(3,c=!0),E===void 0)n(0,r=[]);else{let T=E+Math.floor(Un/25);ae({cmd:"direct",val:{cmd:"get_chat_list",val:{page:T}}})}}function _(){K.on("direct",E=>{if(E.val.mode==="chats"){let T=Un%25,I=E.val.payload.all_chats;I.splice(0,T),n(4,u=E.val.payload.pages),n(2,o=E.val.payload["page#"]),n(0,r=I),n(3,c=!1)}})}K.ws.readyState===1?_():K.ws.addEventListener("open",_),d(1);const $=()=>{fe.set("createChat"),U.set(!0)},k=()=>{ze.set("Livechat"),we.set("livechat"),window.scrollTo(0,0),ie.set("blank"),be().then(()=>ie.set("groupchat"))},g=E=>{ze.set(E.nickname),we.set(E._id),lt.set(E.members),window.scrollTo(0,0),ie.set("blank"),be().then(()=>ie.set("groupchat"))},v=E=>{ze.set(E.nickname),we.set(E._id),n(1,a=!0)},w=()=>d(o+1),y=()=>{n(0,r=r.filter(i)),ae({cmd:"direct",val:{cmd:"leave_chat",val:t}}),n(1,a=!1)},P=()=>{n(1,a=!1)};return s.$$set=E=>{"chats"in E&&n(0,r=E.chats)},[r,a,o,c,u,t,l,i,d,$,k,g,v,w,y,P]}class Vs extends ee{constructor(e){super(),Z(this,e,Js,Fs,X,{chats:0})}}function Qs(s){let e,n,t,l,r,a,i;return t=new Je({props:{icon:s[1],alt:s[0]+"'s profile picture",online:s[2].includes(s[0])}}),{c(){e=m("div"),n=m("div"),x(t.$$.fragment),l=q(),r=m("p"),a=z(s[0]),f(n,"class","member-pfp svelte-2ni8cc"),f(r,"class","member-name svelte-2ni8cc"),f(e,"id","Member")},m(o,c){b(o,e,c),p(e,n),j(t,n,null),p(e,l),p(e,r),p(r,a),i=!0},p(o,[c]){const u={};c&2&&(u.icon=o[1]),c&1&&(u.alt=o[0]+"'s profile picture"),c&5&&(u.online=o[2].includes(o[0])),t.$set(u),(!i||c&1)&&F(a,o[0])},i(o){i||(C(t.$$.fragment,o),i=!0)},o(o){S(t.$$.fragment,o),i=!1},d(o){o&&h(e),O(t)}}}function Xs(s,e,n){let t;A(s,Ce,i=>n(2,t=i));let{member:l=""}=e,r=0;function a(){ae({cmd:"direct",val:{cmd:"get_profile",val:l},listener:"get_profileGC_"+l}).then(i=>{n(1,r=i.payload.pfp_data)}).catch(i=>{alert("Error while loading member: "+l+", "+i),n(1,r=-2)})}return At(a),s.$$set=i=>{"member"in i&&n(0,l=i.member)},[l,r,t]}class Zs extends ee{constructor(e){super(),Z(this,e,Xs,Qs,X,{member:0})}}function Dn(s,e,n){const t=s.slice();return t[23]=e[n],t}function Gn(s,e,n){const t=s.slice();return t[26]=e[n],t}function er(s){let e,n;return e=new oe({props:{$$slots:{default:[tr]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p(t,l){const r={};l&1073741824&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function tr(s){let e,n,t,l,r=s[29]+"",a;return{c(){e=m("h1"),e.textContent=`${ze}`,n=z(`\r
			Error loading posts. Please try again.\r
			`),t=m("pre"),l=m("code"),a=z(r)},m(i,o){b(i,e,o),b(i,n,o),b(i,t,o),p(t,l),p(l,a)},p:M,d(i){i&&h(e),i&&h(n),i&&h(t)}}}function nr(s){let e,n,t,l,r,a,i,o,c,u,d,_,$,k,g,v,w,y,P,E,T,I,L;n=new oe({props:{$$slots:{default:[lr]},$$scope:{ctx:s}}});let N=s[7].name&&Kn(s);const G=[rr,sr],W=[];function te(D,re){return D[0].length<1?0:1}r=te(s),a=W[r]=G[r](s);const Q=[cr,ar],se=[];function Y(D,re){return D[2]?0:D[3]&&D[3]>D[1]?1:-1}~(c=Y(s))&&(u=se[c]=Q[c](s));let H=s[8],B=[];for(let D=0;D<H.length;D+=1)B[D]=Hn(Dn(s,H,D));const J=D=>S(B[D],1,1,()=>{B[D]=null});return{c(){e=m("div"),x(n.$$.fragment),t=q(),N&&N.c(),l=q(),a.c(),i=q(),o=m("div"),u&&u.c(),d=q(),_=m("div"),$=m("div"),k=m("button"),g=q(),v=m("br"),w=q(),y=m("br"),P=q(),E=m("div");for(let D=0;D<B.length;D+=1)B[D].c();f(o,"class","center svelte-mgsuvb"),f(e,"id","chat"),f(e,"class","svelte-mgsuvb"),f(k,"class","circle join"),f($,"class","settings-controls svelte-mgsuvb"),f(E,"id","members-inner"),f(E,"class","svelte-mgsuvb"),f(_,"id","members"),f(_,"class","svelte-mgsuvb")},m(D,re){b(D,e,re),j(n,e,null),p(e,t),N&&N.m(e,null),p(e,l),W[r].m(e,null),p(e,i),p(e,o),~c&&se[c].m(o,null),b(D,d,re),b(D,_,re),p(_,$),p($,k),p(_,g),p(_,v),p(_,w),p(_,y),p(_,P),p(_,E);for(let Ne=0;Ne<B.length;Ne+=1)B[Ne].m(E,null);T=!0,I||(L=R(k,"click",s[12]),I=!0)},p(D,re){const Ne={};re&1073741920&&(Ne.$$scope={dirty:re,ctx:D}),n.$set(Ne),D[7].name?N?N.p(D,re):(N=Kn(D),N.c(),N.m(e,l)):N&&(N.d(1),N=null);let qt=r;r=te(D),r===qt?W[r].p(D,re):(ne(),S(W[qt],1,1,()=>{W[qt]=null}),le(),a=W[r],a?a.p(D,re):(a=W[r]=G[r](D),a.c()),C(a,1),a.m(e,i));let St=c;if(c=Y(D),c===St?~c&&se[c].p(D,re):(u&&(ne(),S(se[St],1,1,()=>{se[St]=null}),le()),~c?(u=se[c],u?u.p(D,re):(u=se[c]=Q[c](D),u.c()),C(u,1),u.m(o,null)):u=null),re&256){H=D[8];let ge;for(ge=0;ge<H.length;ge+=1){const Yt=Dn(D,H,ge);B[ge]?(B[ge].p(Yt,re),C(B[ge],1)):(B[ge]=Hn(Yt),B[ge].c(),C(B[ge],1),B[ge].m(E,null))}for(ne(),ge=H.length;ge<B.length;ge+=1)J(ge);le()}},i(D){if(!T){C(n.$$.fragment,D),C(a),C(u);for(let re=0;re<H.length;re+=1)C(B[re]);T=!0}},o(D){S(n.$$.fragment,D),S(a),S(u),B=B.filter(Boolean);for(let re=0;re<B.length;re+=1)S(B[re]);T=!1},d(D){D&&h(e),O(n),N&&N.d(),W[r].d(),~c&&se[c].d(),D&&h(d),D&&h(_),Rt(B,D),I=!1,L()}}}function lr(s){let e,n,t,l;return{c(){e=m("h1"),n=z(s[5]),t=z(`\r
				Chat ID: `),l=z(s[6])},m(r,a){b(r,e,a),p(e,n),b(r,t,a),b(r,l,a)},p(r,a){a&32&&F(n,r[5]),a&64&&F(l,r[6])},d(r){r&&h(e),r&&h(t),r&&h(l)}}}function Kn(s){let e,n,t,l,r,a;return{c(){e=m("form"),e.innerHTML=`<input type="text" class="white svelte-mgsuvb" placeholder="Write something..." id="postinput" name="postinput" autocomplete="false" maxlength="360"/> 
					<button>Post</button>`,n=q(),t=m("div"),l=z(s[4]),f(e,"class","createpost svelte-mgsuvb"),f(t,"class","post-errors svelte-mgsuvb")},m(i,o){b(i,e,o),b(i,n,o),b(i,t,o),p(t,l),r||(a=R(e,"submit",he(s[10])),r=!0)},p(i,o){o&16&&F(l,i[4])},d(i){i&&h(e),i&&h(n),i&&h(t),r=!1,a()}}}function sr(s){let e=[],n=new Map,t,l,r=s[0];const a=i=>i[26].id;for(let i=0;i<r.length;i+=1){let o=Gn(s,r,i),c=a(o);n.set(c,e[i]=Yn(c,o))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=Le()},m(i,o){for(let c=0;c<e.length;c+=1)e[c].m(i,o);b(i,t,o),l=!0},p(i,o){if(o&1){r=i[0],ne();for(let c=0;c<e.length;c+=1)e[c].r();e=it(e,o,a,1,i,r,n,t.parentNode,ot,Yn,t,Gn);for(let c=0;c<e.length;c+=1)e[c].a();le()}},i(i){if(!l){for(let o=0;o<r.length;o+=1)C(e[o]);l=!0}},o(i){for(let o=0;o<e.length;o+=1)S(e[o]);l=!1},d(i){for(let o=0;o<e.length;o+=1)e[o].d(i);i&&h(t)}}}function rr(s){let e;function n(r,a){return r[7].name?ir:or}let t=n(s),l=t(s);return{c(){l.c(),e=Le()},m(r,a){l.m(r,a),b(r,e,a)},p(r,a){t!==(t=n(r))&&(l.d(1),l=t(r),l&&(l.c(),l.m(e.parentNode,e)))},i:M,o:M,d(r){l.d(r),r&&h(e)}}}function Yn(s,e){let n,t,l,r,a,i=M,o;return t=new Qe({props:{post:e[26]}}),{key:s,first:null,c(){n=m("div"),x(t.$$.fragment),l=q(),this.first=n},m(c,u){b(c,n,u),j(t,n,null),p(n,l),o=!0},p(c,u){e=c;const d={};u&1&&(d.post=e[26]),t.$set(d)},r(){a=n.getBoundingClientRect()},f(){rt(n),i(),He(n,a)},a(){i(),i=st(n,a,ct,{duration:250})},i(c){o||(C(t.$$.fragment,c),c&&ye(()=>{r||(r=$e(n,Ee,{y:-50,duration:250},!0)),r.run(1)}),o=!0)},o(c){S(t.$$.fragment,c),c&&(r||(r=$e(n,Ee,{y:-50,duration:250},!1)),r.run(0)),o=!1},d(c){c&&h(n),O(t),c&&r&&r.end()}}}function or(s){let e;return{c(){e=z("No posts here. Check back later!")},m(n,t){b(n,e,t)},d(n){n&&h(e)}}}function ir(s){let e;return{c(){e=z("No posts here. Check back later or be the first to post!")},m(n,t){b(n,e,t)},d(n){n&&h(e)}}}function ar(s){let e,n,t;return{c(){e=m("button"),e.textContent="Load More",f(e,"class","load-more svelte-mgsuvb")},m(l,r){b(l,e,r),n||(t=R(e,"click",s[11]),n=!0)},p:M,i:M,o:M,d(l){l&&h(e),n=!1,t()}}}function cr(s){let e,n;return e=new ke({}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p:M,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Hn(s){let e,n,t,l,r,a;n=new Zs({props:{member:s[23]}});function i(){return s[13](s[23])}return{c(){e=m("button"),x(n.$$.fragment),t=q(),f(e,"class","Memberbutton svelte-mgsuvb")},m(o,c){b(o,e,c),j(n,e,null),p(e,t),l=!0,r||(a=R(e,"click",i),r=!0)},p(o,c){s=o;const u={};c&256&&(u.member=s[23]),n.$set(u)},i(o){l||(C(n.$$.fragment,o),l=!0)},o(o){S(n.$$.fragment,o),l=!1},d(o){o&&h(e),O(n),r=!1,a()}}}function ur(s){let e,n,t;return n=new ke({}),{c(){e=m("div"),x(n.$$.fragment),f(e,"class","fullcenter svelte-mgsuvb")},m(l,r){b(l,e,r),j(n,e,null),t=!0},p:M,i(l){t||(C(n.$$.fragment,l),t=!0)},o(l){S(n.$$.fragment,l),t=!1},d(l){l&&h(e),O(n)}}}function fr(s){let e,n,t={ctx:s,current:null,token:null,hasCatch:!0,pending:ur,then:nr,catch:er,error:29,blocks:[,,,]};return We(s[9](1),t),{c(){e=m("div"),t.block.c(),f(e,"class","posts svelte-mgsuvb")},m(l,r){b(l,e,r),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null,n=!0},p(l,[r]){s=l,Fe(t,s,r)},i(l){n||(C(t.block),n=!0)},o(l){for(let r=0;r<3;r+=1){const a=t.blocks[r];S(a)}n=!1},d(l){l&&h(e),t.block.d(),t.token=null,t=null}}}function dr(s,e,n){let t,l,r,a,i,o;A(s,Ce,L=>n(17,L)),A(s,ze,L=>n(5,t=L)),A(s,we,L=>n(6,l=L)),A(s,ie,L=>n(18,r=L)),A(s,ce,L=>n(7,a=L)),A(s,Ye,L=>n(19,i=L)),A(s,lt,L=>n(8,o=L));let c=0,{posts:u=[]}=e,d=0,_=!1,$=null,k="",g=0;async function v(L){if(l==="livechat"){ae({cmd:"direct",val:{cmd:"set_chat_state",val:{state:1,chatid:l}}});return}if(n(2,_=!0),L===void 0)n(0,u=[]);else{let N=L+Math.floor(g/25),G=g%25;try{let W=`posts/${l}?autoget&page=`;Ve&&(W=encodeURIComponent(W));const te=await fetch(`${Me}${W}${N}`,{headers:i});if(!te.ok)throw new Error("Response code is not OK; code is "+te.status);const Q=await te.json();let se=Q.autoget;se.splice(0,G),n(3,$=Q.pages);let Y,H;if(G>0&&d<$){if(Y=await fetch(`${Me}${W}${N+1}`),!te.ok)throw new Error("Overflow response code is not OK; code is "+te.status);H=await Y.json(),se=se.concat(H.autoget.slice(0,G))}for(const B of se)u.push({id:c++,post_id:B.post_id,user:B.u,content:B.p,date:B.t.e});n(1,d=L)}catch(W){throw n(2,_=!1),W}}return ae({cmd:"direct",val:{cmd:"set_chat_state",val:{state:1,chatid:l}}}),n(0,u),n(2,_=!1),u}function w(L){u.unshift({id:c++,...L}),n(0,u)}function y(){K.on("direct",L=>{if(r==="groupchat"&&L.val.state===2){if(L.val.post_origin!==l)return;w({post_id:L.val._id,user:L.val.u,content:L.val.p,date:L.val.t.e}),g++,n(0,u),a.sfx&&L.val.u!==a.name&&yl()}if(r==="groupchat"&&L.val.state===0){if(L.val.chatid!==l)return;w({post_id:c++,user:"Server",content:`${L.val.u} left ${t}.`,date:new Date().getTime()/1e3})}if(r==="groupchat"&&L.val.state===1){if(L.val.chatid!==l)return;w({post_id:c++,user:"Server",content:`${L.val.u} joined ${t}!`,date:new Date().getTime()/1e3})}L.val.mode==="delete"&&n(0,u=u.filter(N=>N.post_id!==L.val.id))})}K.ws.readyState===1?y():K.ws.addEventListener("open",y),Ce.subscribe(L=>{});const P=L=>{if(n(4,k=""),!L.target[0].value.trim())return n(4,k="You cannot send an empty post!"),!1;Re.set(!0),L.target[1].disabled=!0,K.send({cmd:"direct",val:{cmd:"post_chat",val:{p:L.target[0].value,chatid:l}},listener:"post_chat"});const N=K.on("statuscode",G=>{G.listener==="post_chat"&&(K.off(N),Re.set(!1),L.target[1].disabled=!1,G.val==="I:100 | OK"?L.target[0].value="":G.val==="E:106 | Too many requests"?n(4,k="You're posting too fast!"):n(4,k="Unexpected "+G.val+" error!"))});return!1},E=()=>v(d+1),T=()=>{fe.set("AddMember"),U.set(!0)},I=L=>{fe.set("GC_Member"),U.set(!0),Ut.set(L)};return s.$$set=L=>{"posts"in L&&n(0,u=L.posts)},[u,d,_,$,k,t,l,a,o,v,P,E,T,I]}class ql extends ee{constructor(e){super(),Z(this,e,dr,fr,X,{posts:0})}}const Sl={0:"User",1:"Low-level Moderator",2:"Moderator",3:"Administrator",4:"Operator"};function Wn(s,e,n){const t=s.slice();return t[13]=e[n],t}function mr(s){let e,n,t,l;return e=new oe({props:{$$slots:{default:[pr]},$$scope:{ctx:s}}}),t=new oe({props:{$$slots:{default:[_r]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment),n=q(),x(t.$$.fragment)},m(r,a){j(e,r,a),b(r,n,a),j(t,r,a),l=!0},p(r,a){const i={};a&131084&&(i.$$scope={dirty:a,ctx:r}),e.$set(i);const o={};a&131072&&(o.$$scope={dirty:a,ctx:r}),t.$set(o)},i(r){l||(C(e.$$.fragment,r),C(t.$$.fragment,r),l=!0)},o(r){S(e.$$.fragment,r),S(t.$$.fragment,r),l=!1},d(r){O(e,r),r&&h(n),O(t,r)}}}function pr(s){let e,n,t,l,r,a,i,o,c=s[3].includes(s[2])?"Online":"Offline",u,d,_,$;return n=new Je({props:{online:s[3].includes(s[2]),icon:-2,alt:s[2]+"'s profile picture",big:!0}}),{c(){e=m("div"),x(n.$$.fragment),t=q(),l=m("div"),r=m("h1"),a=z(s[2]),i=q(),o=m("div"),u=z(c),d=q(),_=m("div"),_.textContent="Unknown",f(r,"class","profile-username svelte-1yh2t3i"),f(o,"class","profile-active svelte-1yh2t3i"),f(_,"class","profile-role svelte-1yh2t3i"),f(l,"class","profile-header-info svelte-1yh2t3i"),f(e,"class","profile-header svelte-1yh2t3i")},m(k,g){b(k,e,g),j(n,e,null),p(e,t),p(e,l),p(l,r),p(r,a),p(l,i),p(l,o),p(o,u),p(l,d),p(l,_),$=!0},p(k,g){const v={};g&12&&(v.online=k[3].includes(k[2])),g&4&&(v.alt=k[2]+"'s profile picture"),n.$set(v),(!$||g&4)&&F(a,k[2]),(!$||g&12)&&c!==(c=k[3].includes(k[2])?"Online":"Offline")&&F(u,c)},i(k){$||(C(n.$$.fragment,k),$=!0)},o(k){S(n.$$.fragment,k),$=!1},d(k){k&&h(e),O(n)}}}function _r(s){let e,n,t,l,r=s[16]+"",a,i,o,c;return{c(){e=m("h2"),e.textContent="Error",n=z(`\r
			We couldn't get this user's profile info.\r
			`),t=m("pre"),l=m("code"),a=z(r),i=z(`\r
			Try again. If this issue persists,\r
			`),o=m("a"),o.textContent="create an issue on Meower Svelte's issue tracker",c=z(" with the error code shown above."),f(o,"href","https://github.com/Meower-Media-Co/Meower-Svelte/issues/new")},m(u,d){b(u,e,d),b(u,n,d),b(u,t,d),p(t,l),p(l,a),b(u,i,d),b(u,o,d),b(u,c,d)},p:M,d(u){u&&h(e),u&&h(n),u&&h(t),u&&h(i),u&&h(o),u&&h(c)}}}function gr(s){let e,n,t,l,r,a,i,o,c,u,d;e=new oe({props:{$$slots:{default:[vr]},$$scope:{ctx:s}}});const _=[br,hr],$=[];function k(v,w){return v[0]?0:v[2]===v[1].name?1:-1}~(t=k(s))&&(l=$[t]=_[t](s));let g=s[1].name&&s[2]!==s[1].name&&Jn(s);return{c(){x(e.$$.fragment),n=q(),l&&l.c(),r=q(),a=m("button"),a.textContent="View recent posts",i=q(),g&&g.c(),o=Le(),f(a,"class","long svelte-1yh2t3i"),f(a,"title","View Recet Posts")},m(v,w){j(e,v,w),b(v,n,w),~t&&$[t].m(v,w),b(v,r,w),b(v,a,w),b(v,i,w),g&&g.m(v,w),b(v,o,w),c=!0,u||(d=R(a,"click",s[9]),u=!0)},p(v,w){const y={};w&131086&&(y.$$scope={dirty:w,ctx:v}),e.$set(y);let P=t;t=k(v),t===P?~t&&$[t].p(v,w):(l&&(ne(),S($[P],1,1,()=>{$[P]=null}),le()),~t?(l=$[t],l?l.p(v,w):(l=$[t]=_[t](v),l.c()),C(l,1),l.m(r.parentNode,r)):l=null),v[1].name&&v[2]!==v[1].name?g?g.p(v,w):(g=Jn(v),g.c(),g.m(o.parentNode,o)):g&&(g.d(1),g=null)},i(v){c||(C(e.$$.fragment,v),C(l),c=!0)},o(v){S(e.$$.fragment,v),S(l),c=!1},d(v){O(e,v),v&&h(n),~t&&$[t].d(v),v&&h(r),v&&h(a),v&&h(i),g&&g.d(v),v&&h(o),u=!1,d()}}}function vr(s){let e,n,t,l,r,a=s[12]._id+"",i,o,c,u=s[3].includes(s[12]._id)?"Online":"Offline",d,_,$,k=(Sl[s[12].lvl]||"Unknown")+"",g,v;return n=new Je({props:{online:s[3].includes(s[12]._id),icon:s[2]===s[1].name?s[1].pfp_data:s[12].pfp_data,alt:s[12]._id+"'s profile picture",big:!0}}),{c(){e=m("div"),x(n.$$.fragment),t=q(),l=m("div"),r=m("h1"),i=z(a),o=q(),c=m("div"),d=z(u),_=q(),$=m("div"),g=z(k),f(r,"class","profile-username svelte-1yh2t3i"),f(c,"class","profile-active svelte-1yh2t3i"),f($,"class","profile-role svelte-1yh2t3i"),f(l,"class","profile-header-info svelte-1yh2t3i"),f(e,"class","profile-header svelte-1yh2t3i")},m(w,y){b(w,e,y),j(n,e,null),p(e,t),p(e,l),p(l,r),p(r,i),p(l,o),p(l,c),p(c,d),p(l,_),p(l,$),p($,g),v=!0},p(w,y){const P={};y&8&&(P.online=w[3].includes(w[12]._id)),y&6&&(P.icon=w[2]===w[1].name?w[1].pfp_data:w[12].pfp_data),n.$set(P),(!v||y&8)&&u!==(u=w[3].includes(w[12]._id)?"Online":"Offline")&&F(d,u)},i(w){v||(C(n.$$.fragment,w),v=!0)},o(w){S(n.$$.fragment,w),v=!1},d(w){w&&h(e),O(n)}}}function hr(s){let e,n,t;return{c(){e=m("button"),e.textContent="Change Profile Picture",f(e,"class","long svelte-1yh2t3i"),f(e,"title","Change Profile Picture")},m(l,r){b(l,e,r),n||(t=R(e,"click",s[8]),n=!0)},p:M,i:M,o:M,d(l){l&&h(e),n=!1,t()}}}function br(s){let e,n;return e=new oe({props:{$$slots:{default:[kr]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p(t,l){const r={};l&131075&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Fn(s){let e,n,t,l,r;n=new Je({props:{online:!1,icon:s[13],alt:"Profile picture "+s[13]}});function a(){return s[7](s[13])}return{c(){e=m("span"),x(n.$$.fragment),f(e,"class","pfp svelte-1yh2t3i"),pe(e,"selected",s[1].pfp_data===s[13])},m(i,o){b(i,e,o),j(n,e,null),t=!0,l||(r=R(e,"click",a),l=!0)},p(i,o){s=i,o&18&&pe(e,"selected",s[1].pfp_data===s[13])},i(i){t||(C(n.$$.fragment,i),t=!0)},o(i){S(n.$$.fragment,i),t=!1},d(i){i&&h(e),O(n),l=!1,r()}}}function kr(s){let e,n,t,l,r=s[4],a=[];for(let o=0;o<r.length;o+=1)a[o]=Fn(Wn(s,r,o));const i=o=>S(a[o],1,1,()=>{a[o]=null});return{c(){e=m("h2"),e.textContent="Profile Picture",n=q(),t=m("div");for(let o=0;o<a.length;o+=1)a[o].c();f(t,"id","pfp-list"),f(t,"class","svelte-1yh2t3i")},m(o,c){b(o,e,c),b(o,n,c),b(o,t,c);for(let u=0;u<a.length;u+=1)a[u].m(t,null);l=!0},p(o,c){if(c&83){r=o[4];let u;for(u=0;u<r.length;u+=1){const d=Wn(o,r,u);a[u]?(a[u].p(d,c),C(a[u],1)):(a[u]=Fn(d),a[u].c(),C(a[u],1),a[u].m(t,null))}for(ne(),u=r.length;u<a.length;u+=1)i(u);le()}},i(o){if(!l){for(let c=0;c<r.length;c+=1)C(a[c]);l=!0}},o(o){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)S(a[c]);l=!1},d(o){o&&h(e),o&&h(n),o&&h(t),Rt(a,o)}}}function Jn(s){let e,n,t,l,r;return{c(){e=m("button"),e.textContent="Add to chat",n=q(),t=m("button"),t.textContent="Report User",f(e,"class","long svelte-1yh2t3i"),f(e,"title","Moved to GC member management"),e.disabled=!0,f(t,"class","long svelte-1yh2t3i"),f(t,"title","Report User")},m(a,i){b(a,e,i),b(a,n,i),b(a,t,i),l||(r=R(t,"click",s[10]),l=!0)},p:M,d(a){a&&h(e),a&&h(n),a&&h(t),l=!1,r()}}}function $r(s){let e,n,t;return n=new ke({}),{c(){e=m("div"),x(n.$$.fragment),f(e,"class","fullcenter svelte-1yh2t3i")},m(l,r){b(l,e,r),j(n,e,null),t=!0},p:M,i(l){t||(C(n.$$.fragment,l),t=!0)},o(l){S(n.$$.fragment,l),t=!1},d(l){l&&h(e),O(n)}}}function wr(s){let e,n,t={ctx:s,current:null,token:null,hasCatch:!0,pending:$r,then:gr,catch:mr,value:12,error:16,blocks:[,,,]};return We(s[5](),t),{c(){e=m("div"),t.block.c(),f(e,"class","OtherProfile")},m(l,r){b(l,e,r),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null,n=!0},p(l,[r]){s=l,Fe(t,s,r)},i(l){n||(C(t.block),n=!0)},o(l){for(let r=0;r<3;r+=1){const a=t.blocks[r];S(a)}n=!1},d(l){l&&h(e),t.block.d(),t.token=null,t=null}}}function yr(s,e,n){let t,l,r,a;A(s,ce,g=>n(1,t=g)),A(s,qe,g=>n(11,l=g)),A(s,Ke,g=>n(2,r=g)),A(s,Ce,g=>n(3,a=g));const i=new Array(28).fill().map((g,v)=>v+1);let o=!1;async function c(){let g=`users/${r}`;Ve&&(g=encodeURIComponent(g));const v=await fetch(`${Me}${g}`);if(!v.ok)throw new Error("Response code is not OK; code is "+v.status);return await v.json()}function u(){if(l[t.name]){const g=l;delete g[t.name],qe.set(g)}Ue()}return[o,t,r,a,i,c,u,g=>{n(0,o=!1),V(ce,t.pfp_data=g,t),u()},()=>n(0,o=!0),()=>{window.scrollTo(0,0),ie.set("blank"),be().then(()=>ie.set("recent"))},()=>{confirm("Are you sure you want to report this user?")&&ae({cmd:"direct",val:{cmd:"report",val:{type:1,id:r}}})}]}class Cr extends ee{constructor(e){super(),Z(this,e,yr,wr,X,{})}}function Vn(s,e,n){const t=s.slice();return t[9]=e[n],t}function qr(s){let e,n;return e=new oe({props:{$$slots:{default:[Sr]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p(t,l){const r={};l&8208&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Sr(s){let e,n,t,l,r,a,i=s[12]+"",o;return{c(){e=m("h1"),n=z(s[4]),t=z("'s Recent Posts"),l=z(`\r
			Error loading posts. Please try again.\r
			`),r=m("pre"),a=m("code"),o=z(i)},m(c,u){b(c,e,u),p(e,n),p(e,t),b(c,l,u),b(c,r,u),p(r,a),p(a,o)},p(c,u){u&16&&F(n,c[4])},d(c){c&&h(e),c&&h(l),c&&h(r)}}}function Pr(s){let e,n,t,l,r,a,i,o,c;e=new oe({props:{$$slots:{default:[Mr]},$$scope:{ctx:s}}});const u=[Ir,Er],d=[];function _(v,w){return v[0].length<1?0:1}t=_(s),l=d[t]=u[t](s);const $=[Lr,zr],k=[];function g(v,w){return v[2]?0:v[3]&&v[3]>v[1]?1:-1}return~(i=g(s))&&(o=k[i]=$[i](s)),{c(){x(e.$$.fragment),n=q(),l.c(),r=q(),a=m("div"),o&&o.c(),f(a,"class","center svelte-1wbtcfa")},m(v,w){j(e,v,w),b(v,n,w),d[t].m(v,w),b(v,r,w),b(v,a,w),~i&&k[i].m(a,null),c=!0},p(v,w){const y={};w&8208&&(y.$$scope={dirty:w,ctx:v}),e.$set(y);let P=t;t=_(v),t===P?d[t].p(v,w):(ne(),S(d[P],1,1,()=>{d[P]=null}),le(),l=d[t],l?l.p(v,w):(l=d[t]=u[t](v),l.c()),C(l,1),l.m(r.parentNode,r));let E=i;i=g(v),i===E?~i&&k[i].p(v,w):(o&&(ne(),S(k[E],1,1,()=>{k[E]=null}),le()),~i?(o=k[i],o?o.p(v,w):(o=k[i]=$[i](v),o.c()),C(o,1),o.m(a,null)):o=null)},i(v){c||(C(e.$$.fragment,v),C(l),C(o),c=!0)},o(v){S(e.$$.fragment,v),S(l),S(o),c=!1},d(v){O(e,v),v&&h(n),d[t].d(v),v&&h(r),v&&h(a),~i&&k[i].d()}}}function Mr(s){let e,n,t,l,r,a;return{c(){e=m("h1"),n=z(s[4]),t=z("'s Recent Posts"),l=z(`\r
			Here are `),r=z(s[4]),a=z("'s recent posts.")},m(i,o){b(i,e,o),p(e,n),p(e,t),b(i,l,o),b(i,r,o),b(i,a,o)},p(i,o){o&16&&F(n,i[4]),o&16&&F(r,i[4])},d(i){i&&h(e),i&&h(l),i&&h(r),i&&h(a)}}}function Er(s){let e=[],n=new Map,t,l,r=s[0];const a=i=>i[9].id;for(let i=0;i<r.length;i+=1){let o=Vn(s,r,i),c=a(o);n.set(c,e[i]=Qn(c,o))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=Le()},m(i,o){for(let c=0;c<e.length;c+=1)e[c].m(i,o);b(i,t,o),l=!0},p(i,o){if(o&1){r=i[0],ne();for(let c=0;c<e.length;c+=1)e[c].r();e=it(e,o,a,1,i,r,n,t.parentNode,ot,Qn,t,Vn);for(let c=0;c<e.length;c+=1)e[c].a();le()}},i(i){if(!l){for(let o=0;o<r.length;o+=1)C(e[o]);l=!0}},o(i){for(let o=0;o<e.length;o+=1)S(e[o]);l=!1},d(i){for(let o=0;o<e.length;o+=1)e[o].d(i);i&&h(t)}}}function Ir(s){let e,n;return{c(){e=z(s[4]),n=z(" hasn't made any posts yet.")},m(t,l){b(t,e,l),b(t,n,l)},p(t,l){l&16&&F(e,t[4])},i:M,o:M,d(t){t&&h(e),t&&h(n)}}}function Qn(s,e){let n,t,l,r,a,i=M,o;return t=new Qe({props:{post:e[9]}}),{key:s,first:null,c(){n=m("div"),x(t.$$.fragment),l=q(),this.first=n},m(c,u){b(c,n,u),j(t,n,null),p(n,l),o=!0},p(c,u){e=c;const d={};u&1&&(d.post=e[9]),t.$set(d)},r(){a=n.getBoundingClientRect()},f(){rt(n),i(),He(n,a)},a(){i(),i=st(n,a,ct,{duration:250})},i(c){o||(C(t.$$.fragment,c),c&&ye(()=>{r||(r=$e(n,Ee,{y:-50,duration:250},!0)),r.run(1)}),o=!0)},o(c){S(t.$$.fragment,c),c&&(r||(r=$e(n,Ee,{y:-50,duration:250},!1)),r.run(0)),o=!1},d(c){c&&h(n),O(t),c&&r&&r.end()}}}function zr(s){let e,n,t;return{c(){e=m("button"),e.textContent="Load More",f(e,"class","load-more svelte-1wbtcfa")},m(l,r){b(l,e,r),n||(t=R(e,"click",s[6]),n=!0)},p:M,i:M,o:M,d(l){l&&h(e),n=!1,t()}}}function Lr(s){let e,n;return e=new ke({}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p:M,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function jr(s){let e,n,t;return n=new ke({}),{c(){e=m("div"),x(n.$$.fragment),f(e,"class","fullcenter svelte-1wbtcfa")},m(l,r){b(l,e,r),j(n,e,null),t=!0},p:M,i(l){t||(C(n.$$.fragment,l),t=!0)},o(l){S(n.$$.fragment,l),t=!1},d(l){l&&h(e),O(n)}}}function Or(s){let e,n,t={ctx:s,current:null,token:null,hasCatch:!0,pending:jr,then:Pr,catch:qr,error:12,blocks:[,,,]};return We(s[5](1),t),{c(){e=m("div"),t.block.c(),f(e,"class","posts svelte-1wbtcfa")},m(l,r){b(l,e,r),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null,n=!0},p(l,[r]){s=l,Fe(t,s,r)},i(l){n||(C(t.block),n=!0)},o(l){for(let r=0;r<3;r+=1){const a=t.blocks[r];S(a)}n=!1},d(l){l&&h(e),t.block.d(),t.token=null,t=null}}}let Xn=0;function xr(s,e,n){let t;A(s,Ke,_=>n(4,t=_));let l=0,{posts:r=[]}=e,a=0,i=!1,o=null;async function c(_){if(n(2,i=!0),_===void 0)n(0,r=[]);else{let $=_+Math.floor(Xn/25),k=Xn%25;try{let g=`users/${t}/posts?autoget&page=`;Ve&&(g=encodeURIComponent(g));const v=await fetch(`${Me}${g}${$}`);if(!v.ok)throw new Error("Response code is not OK; code is "+v.status);const w=await v.json();let y=w.autoget;y.splice(0,k),n(3,o=w.pages);let P,E;k>0&&a<o;for(const T of y)r.push({id:l++,post_id:T.post_id,user:T.u,content:T.p,date:T.t.e});n(1,a=_)}catch(g){throw n(2,i=!1),g}}return n(0,r),n(2,i=!1),r}function u(){K.on("direct",_=>{_.val.mode==="delete"&&n(0,r=r.filter($=>$.post_id!==_.val.id))})}K.ws.readyState===1?u():K.ws.addEventListener("open",u);const d=()=>c(a+1);return s.$$set=_=>{"posts"in _&&n(0,r=_.posts)},[r,a,i,o,t,c,d]}class Tr extends ee{constructor(e){super(),Z(this,e,xr,Or,X,{posts:0})}}function Rr(s){let e,n;return{c(){e=m("h1"),e.textContent="Settings",n=z(`\r
	You can change your settings here. These will save to your account, so they will carry over into other clients.`)},m(t,l){b(t,e,l),b(t,n,l)},p:M,d(t){t&&h(e),t&&h(n)}}}function Nr(s){let e,n,t,l,r,a=s[5].layout+"",i,o,c,u;return{c(){e=m("div"),n=m("button"),t=q(),l=m("h2"),l.textContent="Layout",r=z(`\r
	The layout is currently set to `),i=z(a),o=z("."),f(n,"class","circle settings svelte-1undfiq"),f(e,"class","settings-controls svelte-1undfiq")},m(d,_){b(d,e,_),p(e,n),b(d,t,_),b(d,l,_),b(d,r,_),b(d,i,_),b(d,o,_),c||(u=R(n,"click",s[9]),c=!0)},p(d,_){_&32&&a!==(a=d[5].layout+"")&&F(i,a)},d(d){d&&h(e),d&&h(t),d&&h(l),d&&h(r),d&&h(i),d&&h(o),c=!1,u()}}}function Ar(s){let e,n,t,l,r,a=s[5].theme+"",i,o,c,u;return{c(){e=m("div"),n=m("button"),t=q(),l=m("h2"),l.textContent="Theme",r=z(`\r
	The theme is currently set to `),i=z(a),o=z("."),f(n,"class","circle settings svelte-1undfiq"),f(e,"class","settings-controls svelte-1undfiq")},m(d,_){b(d,e,_),p(e,n),b(d,t,_),b(d,l,_),b(d,r,_),b(d,i,_),b(d,o,_),c||(u=R(n,"click",s[10]),c=!0)},p(d,_){_&32&&a!==(a=d[5].theme+"")&&F(i,a)},d(d){d&&h(e),d&&h(t),d&&h(l),d&&h(r),d&&h(i),d&&h(o),c=!1,u()}}}function Br(s){let e,n,t,l,r,a,i=s[5].mode?"disabled":"enabled",o,c,u,d;return{c(){e=m("div"),n=m("input"),l=q(),r=m("h2"),r.textContent="Dark Mode",a=z(`\r
	Dark mode is currently `),o=z(i),c=z("."),f(n,"type","checkbox"),n.checked=t=!s[5].mode,f(n,"class","svelte-1undfiq"),f(e,"class","settings-controls svelte-1undfiq")},m(_,$){b(_,e,$),p(e,n),b(_,l,$),b(_,r,$),b(_,a,$),b(_,o,$),b(_,c,$),u||(d=R(n,"change",s[11]),u=!0)},p(_,$){$&32&&t!==(t=!_[5].mode)&&(n.checked=t),$&32&&i!==(i=_[5].mode?"disabled":"enabled")&&F(o,i)},d(_){_&&h(e),_&&h(l),_&&h(r),_&&h(a),_&&h(o),_&&h(c),u=!1,d()}}}function Ur(s){let e,n,t,l,r,a,i=s[5].sfx?"enabled":"disabled",o,c,u,d;return{c(){e=m("div"),n=m("input"),l=q(),r=m("h2"),r.textContent="Sound Effects",a=z(`\r
	Sound effects are currently `),o=z(i),c=z("."),f(n,"type","checkbox"),n.checked=t=s[5].sfx,f(n,"class","svelte-1undfiq"),f(e,"class","settings-controls svelte-1undfiq")},m(_,$){b(_,e,$),p(e,n),b(_,l,$),b(_,r,$),b(_,a,$),b(_,o,$),b(_,c,$),u||(d=R(n,"change",s[12]),u=!0)},p(_,$){$&32&&t!==(t=_[5].sfx)&&(n.checked=t),$&32&&i!==(i=_[5].sfx?"enabled":"disabled")&&F(o,i)},d(_){_&&h(e),_&&h(l),_&&h(r),_&&h(a),_&&h(o),_&&h(c),u=!1,d()}}}function Zn(s){let e,n,t,l;return e=new oe({props:{$$slots:{default:[Dr]},$$scope:{ctx:s}}}),t=new oe({props:{$$slots:{default:[Gr]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment),n=q(),x(t.$$.fragment)},m(r,a){j(e,r,a),b(r,n,a),j(t,r,a),l=!0},p(r,a){const i={};a&1048768&&(i.$$scope={dirty:a,ctx:r}),e.$set(i);const o={};a&1048607&&(o.$$scope={dirty:a,ctx:r}),t.$set(o)},i(r){l||(C(e.$$.fragment,r),C(t.$$.fragment,r),l=!0)},o(r){S(e.$$.fragment,r),S(t.$$.fragment,r),l=!1},d(r){O(e,r),r&&h(n),O(t,r)}}}function Dr(s){let e,n,t,l,r,a,i;return{c(){e=m("div"),n=m("button"),t=q(),l=m("h2"),l.textContent="Change Password",r=z(`\r
	Change your account password.`),f(n,"class","circle settings svelte-1undfiq"),f(e,"class","settings-controls svelte-1undfiq")},m(o,c){b(o,e,c),p(e,n),b(o,t,c),b(o,l,c),b(o,r,c),a||(i=R(n,"click",s[13]),a=!0)},p:M,d(o){o&&h(e),o&&h(t),o&&h(l),o&&h(r),a=!1,i()}}}function Gr(s){let e,n,t,l,r,a,i,o,c,u,d,_,$,k,g;return{c(){e=m("div"),n=m("input"),t=q(),l=m("input"),r=q(),a=m("input"),i=q(),o=m("input"),c=q(),u=m("input"),d=q(),_=m("h2"),_.textContent="Delete Account",$=z(`\r
	THIS CANNOT BE UNDONE. Enable all the switches to delete your account, if you are really sure.`),f(n,"type","checkbox"),f(n,"class","svelte-1undfiq"),f(l,"type","checkbox"),f(l,"class","svelte-1undfiq"),f(a,"type","checkbox"),f(a,"class","svelte-1undfiq"),f(o,"type","checkbox"),f(o,"class","svelte-1undfiq"),f(u,"type","checkbox"),f(u,"class","svelte-1undfiq"),f(e,"class","settings-controls svelte-1undfiq")},m(v,w){b(v,e,w),p(e,n),n.checked=s[0],p(e,t),p(e,l),l.checked=s[1],p(e,r),p(e,a),a.checked=s[2],p(e,i),p(e,o),o.checked=s[3],p(e,c),p(e,u),u.checked=s[4],b(v,d,w),b(v,_,w),b(v,$,w),k||(g=[R(n,"change",s[14]),R(n,"change",s[8]),R(l,"change",s[15]),R(l,"change",s[8]),R(a,"change",s[16]),R(a,"change",s[8]),R(o,"change",s[17]),R(o,"change",s[8]),R(u,"change",s[18]),R(u,"change",s[8])],k=!0)},p(v,w){w&1&&(n.checked=v[0]),w&2&&(l.checked=v[1]),w&4&&(a.checked=v[2]),w&8&&(o.checked=v[3]),w&16&&(u.checked=v[4])},d(v){v&&h(e),v&&h(d),v&&h(_),v&&h($),k=!1,ue(g)}}}function Kr(s){let e,n,t,l,r,a,i,o,c,u,d,_,$;e=new oe({props:{$$slots:{default:[Rr]},$$scope:{ctx:s}}}),t=new oe({props:{$$slots:{default:[Nr]},$$scope:{ctx:s}}}),r=new oe({props:{$$slots:{default:[Ar]},$$scope:{ctx:s}}}),i=new oe({props:{$$slots:{default:[Br]},$$scope:{ctx:s}}}),c=new oe({props:{$$slots:{default:[Ur]},$$scope:{ctx:s}}});let k=s[5].name&&Zn(s);return{c(){x(e.$$.fragment),n=q(),x(t.$$.fragment),l=q(),x(r.$$.fragment),a=q(),x(i.$$.fragment),o=q(),x(c.$$.fragment),u=q(),k&&k.c(),d=q(),_=m("div"),f(_,"class","eee")},m(g,v){j(e,g,v),b(g,n,v),j(t,g,v),b(g,l,v),j(r,g,v),b(g,a,v),j(i,g,v),b(g,o,v),j(c,g,v),b(g,u,v),k&&k.m(g,v),b(g,d,v),b(g,_,v),$=!0},p(g,[v]){const w={};v&1048576&&(w.$$scope={dirty:v,ctx:g}),e.$set(w);const y={};v&1048608&&(y.$$scope={dirty:v,ctx:g}),t.$set(y);const P={};v&1048608&&(P.$$scope={dirty:v,ctx:g}),r.$set(P);const E={};v&1048608&&(E.$$scope={dirty:v,ctx:g}),i.$set(E);const T={};v&1048608&&(T.$$scope={dirty:v,ctx:g}),c.$set(T),g[5].name?k?(k.p(g,v),v&32&&C(k,1)):(k=Zn(g),k.c(),C(k,1),k.m(d.parentNode,d)):k&&(ne(),S(k,1,1,()=>{k=null}),le())},i(g){$||(C(e.$$.fragment,g),C(t.$$.fragment,g),C(r.$$.fragment,g),C(i.$$.fragment,g),C(c.$$.fragment,g),C(k),$=!0)},o(g){S(e.$$.fragment,g),S(t.$$.fragment,g),S(r.$$.fragment,g),S(i.$$.fragment,g),S(c.$$.fragment,g),S(k),$=!1},d(g){O(e,g),g&&h(n),O(t,g),g&&h(l),O(r,g),g&&h(a),O(i,g),g&&h(o),O(c,g),g&&h(u),k&&k.d(g),g&&h(d),g&&h(_)}}}function Yr(s,e,n){let t,l,r;A(s,ce,I=>n(5,t=I)),A(s,fe,I=>n(6,l=I)),A(s,U,I=>n(7,r=I));let a=!1,i=!1,o=!1,c=!1,u=!1;async function d(){a&&i&&o&&c&&u&&(t.name===localStorage.getItem("meower_savedusername")&&(localStorage.removeItem("meower_savedusername"),localStorage.removeItem("meower_savedpassword")),await ae({cmd:"direct",val:{cmd:"del_account",val:""}}),Te.set("setup"),await be(),me.set("reconnect"))}const _=()=>{const I=t;I.layout=I.layout==="new"?"old":"new",ce.set(I),Ue()},$=()=>{const I=t;I.theme=I.theme==="orange"?"blue":"orange",ce.set(I),Ue()},k=()=>{const I=t;I.mode=!I.mode,ce.set(I),Ue()},g=()=>{const I=t;I.sfx=!I.sfx,ce.set(I),Ue()},v=()=>{V(fe,l="changePassword",l),V(U,r=!0,r)};function w(){a=this.checked,n(0,a)}function y(){i=this.checked,n(1,i)}function P(){o=this.checked,n(2,o)}function E(){c=this.checked,n(3,c)}function T(){u=this.checked,n(4,u)}return[a,i,o,c,u,t,l,r,d,_,$,k,g,v,w,y,P,E,T]}class Hr extends ee{constructor(e){super(),Z(this,e,Yr,Kr,X,{})}}var Pl="./assets/meowy.93c25f40.svg";function el(s,e,n){const t=s.slice();return t[1]=e[n],t}function tl(s){let e,n;return{c(){e=m("img"),f(e,"class","cat svelte-vuknl4"),f(e,"alt","MEOW"),f(e,"title","MEOW"),ve(e.src,n=Pl)||f(e,"src",n),f(e,"height","100"),Ze(e,"left",(s[1].x||0)+"vw",!1),Ze(e,"top",(s[1].y||0)+"vh",!1),Ze(e,"animation-delay",-(s[1].offset||0)+"s",!1),Ze(e,"animation-duration",s[1].time+"s",!1)},m(t,l){b(t,e,l)},p:M,d(t){t&&h(e)}}}function Wr(s){let e,n=s[0],t=[];for(let l=0;l<n.length;l+=1)t[l]=tl(el(s,n,l));return{c(){e=m("div");for(let l=0;l<t.length;l+=1)t[l].c();f(e,"class","cats svelte-vuknl4")},m(l,r){b(l,e,r);for(let a=0;a<t.length;a+=1)t[a].m(e,null)},p(l,[r]){if(r&1){n=l[0];let a;for(a=0;a<n.length;a+=1){const i=el(l,n,a);t[a]?t[a].p(i,r):(t[a]=tl(i),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=n.length}},i:M,o:M,d(l){l&&h(e),Rt(t,l)}}}function Fr(s){return[new Array(100).fill({}).map(n=>({x:Math.random()*100,y:Math.random()*100,offset:Math.random()*15,time:5+Math.random()*10}))]}class Jr extends ee{constructor(e){super(),Z(this,e,Fr,Wr,X,{})}}function Vr(s){let e,n,t,l,r;return l=new Jr({}),{c(){e=m("div"),n=m("div"),n.textContent="GROUP CAT 2.0!!!!",t=q(),x(l.$$.fragment),f(n,"class","message svelte-w78hki")},m(a,i){b(a,e,i),p(e,n),p(e,t),j(l,e,null),r=!0},p:M,i(a){r||(C(l.$$.fragment,a),r=!0)},o(a){S(l.$$.fragment,a),r=!1},d(a){a&&h(e),O(l)}}}class Qr extends ee{constructor(e){super(),Z(this,e,null,Vr,X,{})}}var Kt="./assets/logo.22ae43ae.svg",Xr="./assets/home.a6e91ee5.svg",Zr="./assets/chat.8f7a11c0.svg",nl="./assets/mail.adf4cbe0.svg",ll="./assets/mail_new.2e8332f8.svg",eo="./assets/profile.f90d67b3.svg",to="./assets/settings.10cdbd27.svg",no="./assets/logout.32557676.svg";function lo(s){let e,n,t,l,r,a,i,o,c,u,d,_,$,k,g,v,w,y,P,E,T,I,L,N,G,W,te,Q,se,Y,H;return{c(){e=m("div"),n=m("div"),t=m("span"),l=m("img"),a=q(),i=m("button"),o=m("img"),u=q(),d=m("button"),_=m("img"),k=q(),g=m("button"),v=m("img"),y=q(),P=m("button"),E=m("img"),I=q(),L=m("button"),N=m("img"),W=q(),te=m("button"),Q=m("img"),f(l,"alt","Meower"),ve(l.src,r=Kt)||f(l,"src",r),f(l,"draggable",!1),f(l,"height","100%"),f(l,"width","auto"),f(l,"class","svelte-n8zklt"),f(t,"class","logo-inner svelte-n8zklt"),f(n,"class","logo svelte-n8zklt"),ve(o.src,c=Xr)||f(o,"src",c),f(o,"alt","Home"),f(o,"width","90%"),f(o,"height","auto"),f(o,"draggable",!1),f(i,"class","home-btn round svelte-n8zklt"),ve(_.src,$=s[0].unread_inbox?ll:nl)||f(_,"src",$),f(_,"alt","Inbox Messages"),f(_,"width","90%"),f(_,"height","auto"),f(_,"draggable",!1),f(d,"class","gc-btn round svelte-n8zklt"),ve(v.src,w=Zr)||f(v,"src",w),f(v,"alt","Group Chats"),f(v,"width","90%"),f(v,"height","auto"),f(v,"draggable",!1),f(g,"class","gc-btn round svelte-n8zklt"),ve(E.src,T=eo)||f(E,"src",T),f(E,"alt","Profile"),f(E,"width","90%"),f(E,"height","auto"),f(E,"draggable",!1),f(P,"class","profile-btn round svelte-n8zklt"),ve(N.src,G=to)||f(N,"src",G),f(N,"alt","Settings"),f(N,"width","90%"),f(N,"height","auto"),f(N,"draggable",!1),f(L,"class","settings-btn round svelte-n8zklt"),ve(Q.src,se=no)||f(Q,"src",se),f(Q,"alt","Log out"),f(Q,"width","90%"),f(Q,"height","auto"),f(Q,"draggable",!1),f(te,"class","logout-btn round svelte-n8zklt"),f(e,"class","sidebar svelte-n8zklt")},m(B,J){b(B,e,J),p(e,n),p(n,t),p(t,l),p(e,a),p(e,i),p(i,o),p(e,u),p(e,d),p(d,_),p(e,k),p(e,g),p(g,v),p(e,y),p(e,P),p(P,E),p(e,I),p(e,L),p(L,N),p(e,W),p(e,te),p(te,Q),Y||(H=[R(t,"click",s[3]),R(i,"click",s[4]),R(d,"click",s[5]),R(g,"click",s[6]),R(P,"click",s[7]),R(L,"click",s[8]),R(te,"click",s[9])],Y=!0)},p(B,[J]){J&1&&!ve(_.src,$=B[0].unread_inbox?ll:nl)&&f(_,"src",$)},i:M,o:M,d(B){B&&h(e),Y=!1,ue(H)}}}function so(s,e,n){let t,l,r,a;A(s,we,g=>n(10,t=g)),A(s,ie,g=>n(11,l=g)),A(s,ce,g=>n(0,r=g)),A(s,Ke,g=>n(1,a=g));function i(g,v=!0){if(!r.name&&g!=="home"&&g!=="settings"){fe.set("signup"),U.set(!0);return}v&&window.scrollTo(0,0),l==="groupchat"&&ae({cmd:"direct",val:{cmd:"set_chat_state",val:{state:0,chatid:t}}}),we.set(""),ie.set("blank"),be().then(()=>ie.set(g))}return[r,a,i,()=>i("home"),()=>i("home"),()=>i("inbox"),()=>{i(at?"groupcat":"chatlist")},()=>{V(Ke,a=r.name,a),i("profile")},()=>i("settings"),async()=>{r.name===localStorage.getItem("meower_savedusername")&&(localStorage.removeItem("meower_savedusername"),localStorage.removeItem("meower_savedpassword")),Te.set("setup"),await be(),me.set("reconnect")}]}class ro extends ee{constructor(e){super(),Z(this,e,so,lo,X,{})}}function oo(s){let e,n,t,l,r;return{c(){e=z(`Somehow, you got to a page that doesn't exist...\r
			`),n=m("br"),t=z(`\r
			(Current page: `),l=z(s[0]),r=z(")")},m(a,i){b(a,e,i),b(a,n,i),b(a,t,i),b(a,l,i),b(a,r,i)},p(a,i){i&1&&F(l,a[0])},i:M,o:M,d(a){a&&h(e),a&&h(n),a&&h(t),a&&h(l),a&&h(r)}}}function io(s){let e;return{c(){e=m("div")},m(n,t){b(n,e,t)},p:M,i:M,o:M,d(n){n&&h(e)}}}function ao(s){let e,n;return e=new ql({}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p:M,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function co(s){let e,n;return e=new Qr({}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p:M,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function uo(s){let e,n;return e=new Hr({}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p:M,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function fo(s){let e,n;return e=new Tr({}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p:M,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function mo(s){let e,n;return e=new Cr({}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p:M,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function po(s){let e,n;return e=new ql({}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p:M,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function _o(s){let e,n;return e=new Vs({}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p:M,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function go(s){let e,n;return e=new xs({}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p:M,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function vo(s){let e,n;return e=new ys({}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p:M,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function ho(s){let e,n,t,l,r,a,i,o;t=new ro({});const c=[vo,go,_o,po,mo,fo,uo,co,ao,io,oo],u=[];function d(_,$){return _[0]==="home"?0:_[0]==="inbox"?1:_[0]==="chatlist"?2:_[0]==="groupchat"?3:_[0]==="profile"?4:_[0]==="recent"?5:_[0]==="settings"?6:_[0]==="groupcat"?7:_[0]==="groupchat"?8:_[0]==="blank"?9:10}return a=d(s),i=u[a]=c[a](s),{c(){e=m("div"),n=m("div"),x(t.$$.fragment),l=q(),r=m("div"),i.c(),f(n,"class","sidebar svelte-88zg9i"),f(r,"class","view svelte-88zg9i"),f(e,"class","main-screen svelte-88zg9i")},m(_,$){b(_,e,$),p(e,n),j(t,n,null),p(e,l),p(e,r),u[a].m(r,null),o=!0},p(_,[$]){let k=a;a=d(_),a===k?u[a].p(_,$):(ne(),S(u[k],1,1,()=>{u[k]=null}),le(),i=u[a],i?i.p(_,$):(i=u[a]=c[a](_),i.c()),C(i,1),i.m(r,null))},i(_){o||(C(t.$$.fragment,_),C(i),o=!0)},o(_){S(t.$$.fragment,_),S(i),o=!1},d(_){_&&h(e),O(t),u[a].d()}}}function bo(s,e,n){let t;return A(s,ie,l=>n(0,t=l)),ie.set("home"),[t]}class ko extends ee{constructor(e){super(),Z(this,e,bo,ho,X,{})}}function $o(s){let e,n,t,l,r,a,i,o,c,u,d;return{c(){e=m("div"),n=m("div"),t=z(`Somehow, you got to a page that doesn't exist...\r
				`),l=m("br"),r=z(`\r
				(Current page: `),a=z(s[8]),i=z(`)\r
\r
				`),o=m("div"),c=m("button"),c.textContent="Go back!",f(l,"class","svelte-slqvyn"),f(c,"class","svelte-slqvyn"),f(o,"class","buttons svelte-slqvyn"),f(n,"class","column-ui svelte-slqvyn"),f(e,"class","fullcenter svelte-slqvyn")},m(_,$){b(_,e,$),p(e,n),p(n,t),p(n,l),p(n,r),p(n,a),p(n,i),p(n,o),p(o,c),u||(d=R(c,"click",s[23]),u=!0)},p(_,$){$&256&&F(a,_[8])},i:M,o:M,d(_){_&&h(e),u=!1,d()}}}function wo(s){let e;return{c(){e=m("div"),e.textContent="Let's go!",f(e,"class","fullcenter svelte-slqvyn")},m(n,t){b(n,e,t)},p:M,i:M,o:M,d(n){n&&h(e)}}}function yo(s){let e;return{c(){e=m("div")},m(n,t){b(n,e,t)},p:M,i:M,o:M,d(n){n&&h(e)}}}function Co(s){let e,n,t,l,r,a,i,o,c,u,d,_,$,k,g,v,w,y,P,E,T,I,L,N,G,W,te,Q,se,Y,H,B;return{c(){e=m("div"),n=m("h1"),n.textContent="Welcome to Meower",t=q(),l=m("form"),r=m("input"),a=q(),i=m("br"),o=q(),c=m("input"),u=q(),d=m("p"),_=m("input"),$=q(),k=m("label"),k.textContent="Save this login",g=q(),v=m("br"),w=q(),y=m("input"),P=q(),E=m("label"),E.innerHTML='I agree to <a href="https://meower.org/legal" target="_blank" class="svelte-slqvyn">Meower&#39;s Terms of Service and Privacy Policy</a>',T=q(),I=m("span"),L=z(s[3]),N=q(),G=m("div"),W=m("button"),W.textContent="Go back",te=q(),Q=m("button"),se=z("Join!"),f(r,"type","text"),f(r,"placeholder","Username"),f(r,"maxlength","20"),f(r,"class","svelte-slqvyn"),f(i,"class","svelte-slqvyn"),f(c,"type","password"),f(c,"placeholder","Password"),f(c,"maxlength","64"),f(c,"class","svelte-slqvyn"),f(_,"id","remember-me"),f(_,"type","checkbox"),f(_,"class","svelte-slqvyn"),f(k,"for","remember-me"),f(k,"class","svelte-slqvyn"),f(v,"class","svelte-slqvyn"),f(y,"id","accept-terms"),f(y,"type","checkbox"),f(y,"class","svelte-slqvyn"),f(E,"for","accept-terms"),f(E,"class","svelte-slqvyn"),f(d,"class","checkboxes svelte-slqvyn"),f(I,"class","login-status svelte-slqvyn"),f(W,"type","button"),f(W,"class","svelte-slqvyn"),f(Q,"type","submit"),Q.disabled=Y=!s[4],f(Q,"class","svelte-slqvyn"),f(G,"class","buttons svelte-slqvyn"),f(l,"class","column-ui svelte-slqvyn"),f(e,"class","fullcenter svelte-slqvyn")},m(J,D){b(J,e,D),p(e,n),p(e,t),p(e,l),p(l,r),p(l,a),p(l,i),p(l,o),p(l,c),p(l,u),p(l,d),p(d,_),_.checked=s[5],p(d,$),p(d,k),p(d,g),p(d,v),p(d,w),p(d,y),y.checked=s[4],p(d,P),p(d,E),p(l,T),p(l,I),p(I,L),p(l,N),p(l,G),p(G,W),p(G,te),p(G,Q),p(Q,se),H||(B=[R(_,"change",s[19]),R(y,"change",s[20]),R(W,"click",he(s[21])),R(l,"submit",he(s[22]))],H=!0)},p(J,D){D&32&&(_.checked=J[5]),D&16&&(y.checked=J[4]),D&8&&F(L,J[3]),D&16&&Y!==(Y=!J[4])&&(Q.disabled=Y)},i:M,o:M,d(J){J&&h(e),H=!1,ue(B)}}}function qo(s){let e,n,t,l,r,a,i,o,c,u,d,_,$,k,g,v,w,y,P,E,T,I,L,N;return{c(){e=m("div"),n=m("h1"),n.textContent="Login to Meower",t=q(),l=m("form"),r=m("input"),a=q(),i=m("br"),o=q(),c=m("input"),u=q(),d=m("p"),_=m("input"),$=q(),k=m("label"),k.textContent="Save this login",g=q(),v=m("span"),w=z(s[3]),y=q(),P=m("div"),E=m("button"),E.textContent="Go back",T=q(),I=m("button"),I.textContent="Log in",f(r,"type","text"),f(r,"placeholder","Username"),f(r,"maxlength","20"),f(r,"class","svelte-slqvyn"),f(i,"class","svelte-slqvyn"),f(c,"type","password"),f(c,"placeholder","Password"),f(c,"maxlength","64"),f(c,"class","svelte-slqvyn"),f(_,"id","remember-me"),f(_,"type","checkbox"),f(_,"class","svelte-slqvyn"),f(k,"for","remember-me"),f(k,"class","svelte-slqvyn"),f(d,"class","checkboxes svelte-slqvyn"),f(v,"class","login-status svelte-slqvyn"),f(E,"type","button"),f(E,"class","svelte-slqvyn"),f(I,"type","submit"),f(I,"class","svelte-slqvyn"),f(P,"class","buttons svelte-slqvyn"),f(l,"class","column-ui svelte-slqvyn"),f(e,"class","fullcenter svelte-slqvyn")},m(G,W){b(G,e,W),p(e,n),p(e,t),p(e,l),p(l,r),p(l,a),p(l,i),p(l,o),p(l,c),p(l,u),p(l,d),p(d,_),_.checked=s[5],p(d,$),p(d,k),p(l,g),p(l,v),p(v,w),p(l,y),p(l,P),p(P,E),p(P,T),p(P,I),L||(N=[R(_,"change",s[16]),R(E,"click",he(s[17])),R(l,"submit",he(s[18]))],L=!0)},p(G,W){W&32&&(_.checked=G[5]),W&8&&F(w,G[3])},i:M,o:M,d(G){G&&h(e),L=!1,ue(N)}}}function So(s){let e,n,t,l,r,a,i,o,c,u,d,_,$,k,g,v,w,y=localStorage.getItem("meower_savedusername"),P,E,T,I,L,N,G,W,te,Q,se,Y,H=y&&Eo(s);return{c(){e=m("div"),n=m("div"),t=m("div"),l=m("img"),a=q(),i=m("br"),o=m("br"),c=q(),u=m("button"),u.textContent="Log in",d=q(),_=m("br"),$=q(),k=m("button"),k.textContent="Create an account",g=q(),v=m("br"),w=q(),H&&H.c(),P=q(),E=m("button"),E.textContent="Skip",T=q(),I=m("p"),I.textContent="(Several features will be unavailable while not logged in.)",L=q(),N=m("div"),G=m("p"),G.textContent="Meower Svelte v1.4.0 Development",W=q(),te=m("img"),f(l,"alt","Meower"),ve(l.src,r=Kt)||f(l,"src",r),f(l,"class","logo-img svelte-slqvyn"),f(l,"height","70"),f(i,"class","svelte-slqvyn"),f(o,"class","svelte-slqvyn"),f(t,"class","svelte-slqvyn"),f(u,"class","svelte-slqvyn"),f(_,"class","svelte-slqvyn"),f(k,"class","svelte-slqvyn"),f(v,"class","svelte-slqvyn"),f(E,"class","svelte-slqvyn"),f(I,"class","small svelte-slqvyn"),f(G,"class","small svelte-slqvyn"),ve(te.src,Q=Pl)||f(te,"src",Q),f(te,"alt",""),f(te,"height","64"),f(te,"class","svelte-slqvyn"),f(N,"class","svelte-slqvyn"),f(n,"class","column-ui svelte-slqvyn"),f(e,"class","fullcenter svelte-slqvyn")},m(B,J){b(B,e,J),p(e,n),p(n,t),p(t,l),p(t,a),p(t,i),p(t,o),p(n,c),p(n,u),p(n,d),p(n,_),p(n,$),p(n,k),p(n,g),p(n,v),p(n,w),H&&H.m(n,null),p(n,P),p(n,E),p(n,T),p(n,I),p(n,L),p(n,N),p(N,G),p(N,W),p(N,te),se||(Y=[R(u,"click",s[12]),R(k,"click",s[13]),R(E,"click",s[15])],se=!0)},p(B,J){y&&H.p(B,J)},i:M,o:M,d(B){B&&h(e),H&&H.d(),se=!1,ue(Y)}}}function Po(s){let e;return{c(){e=m("div"),e.textContent="Reconnecting...",f(e,"class","fullcenter svelte-slqvyn")},m(n,t){b(n,e,t)},p:M,i:M,o:M,d(n){n&&h(e)}}}function Mo(s){let e,n,t,l,r,a,i,o,c,u;return{c(){e=m("div"),n=m("div"),t=m("div"),l=m("img"),a=q(),i=m("div"),o=z(s[3]),f(l,"alt","Meower"),ve(l.src,r=Kt)||f(l,"src",r),f(l,"class","logo-img svelte-slqvyn"),f(l,"height","40"),f(t,"class","logo top svelte-slqvyn"),f(i,"class","connecting svelte-slqvyn"),f(e,"class","fullcenter svelte-slqvyn")},m(d,_){b(d,e,_),p(e,n),p(n,t),p(t,l),s[10](l),s[11](t),p(n,a),p(n,i),p(i,o),u=!0},p(d,_){(!u||_&8)&&F(o,d[3])},i(d){u||(c&&c.end(1),u=!0)},o(d){c=wl(e,Cl,{duration:300}),u=!1},d(d){d&&h(e),s[10](null),s[11](null),d&&c&&c.end()}}}function Eo(s){let e,n,t,l,r,a;return{c(){e=m("button"),e.textContent=`Use saved login (${localStorage.getItem("meower_savedusername")})`,n=q(),t=m("p"),l=z(s[3]),f(e,"class","svelte-slqvyn"),f(t,"class","small svelte-slqvyn")},m(i,o){b(i,e,o),b(i,n,o),b(i,t,o),p(t,l),r||(a=R(e,"click",s[14]),r=!0)},p(i,o){o&8&&F(l,i[3])},d(i){i&&h(e),i&&h(n),i&&h(t),r=!1,a()}}}function Io(s){let e,n,t,l,r;const a=[Mo,Po,So,qo,Co,yo,wo,$o],i=[];function o(c,u){return c[8]==="logo"?0:c[8]==="reconnect"?1:c[8]==="welcome"?2:c[8]==="login"?3:c[8]==="join"?4:c[8]==="blank"?5:c[8]==="go"?6:7}return n=o(s),t=i[n]=a[n](s),{c(){e=m("div"),t.c(),f(e,"class","setup white svelte-slqvyn")},m(c,u){b(c,e,u),i[n].m(e,null),s[24](e),r=!0},p(c,[u]){let d=n;n=o(c),n===d?i[n].p(c,u):(ne(),S(i[d],1,1,()=>{i[d]=null}),le(),t=i[n],t?t.p(c,u):(t=i[n]=a[n](c),t.c()),C(t,1),t.m(e,null))},i(c){r||(C(t),l&&l.end(1),r=!0)},o(c){S(t),l=wl(e,Cl,{duration:300}),r=!1},d(c){c&&h(e),i[n].d(),s[24](null),c&&l&&l.end()}}}function zo(s,e,n){let t,l,r;A(s,U,Y=>n(6,t=Y)),A(s,fe,Y=>n(7,l=Y)),A(s,me,Y=>n(8,r=Y));const a=K;let i,o,c,u="",d=!1;async function _(){await Pn(),ls(),await new Promise(Y=>a.once("connected",Y))}let $=!1;At(()=>{me.subscribe(async Y=>{!o||(n(5,$=!1),n(4,d=!1),o.classList.remove("white"),Y==="logo"?(Pn(),n(3,u=""),await be(),o.classList.add("white"),n(2,c.height=0,c),i.classList.remove("top"),await je(600),n(2,c.height=80,c),await je(300),o.classList.remove("white"),n(2,c.height=40,c),i.classList.add("top"),await je(700),n(3,u="Connecting..."),await _(),await je(800),n(3,u=""),me.set("blank"),await je(600),me.set("welcome")):Y==="reconnect"&&(await _(),await je(100),me.set("welcome")))})});function k(Y,H){try{n(3,u="Logging in..."),ae({cmd:"direct",val:{cmd:"authpswd",val:{username:Y,pswd:H}}}).then(async B=>{try{const J=await ae({cmd:"direct",val:{cmd:"get_profile",val:B.payload.username}});ce.update(D=>Object.assign(D,{...J.payload,name:B.payload.username})),Ye.set({username:B.payload.username,token:B.payload.token}),$&&(localStorage.setItem("meower_savedusername",Y),localStorage.setItem("meower_savedpassword",B.payload.token)),Te.set("main")}catch(J){console.error(J),n(3,u="Unexpected "+J+" error getting user data!")}}).catch(B=>{switch(B){case"E:103 | ID not found":n(3,u="Invalid username!");break;case"I:011 | Invalid Password":n(3,u="Invalid password!");break;case"E:018 | Account Banned":V(fe,l="banned",l),V(U,t=!0,t),n(3,u="");break;case"E:019 | Illegal characters detected":n(3,u="Usernames must not have spaces or other special characters!");break;case"E:106 | Too many requests":n(3,u="Too many requests! Please try again later.");break;default:n(3,u=`Unexpected ${B} error!`)}})}catch(B){console.error(B),n(3,u="Error logging in: "+B)}}function g(Y){Ge[Y?"unshift":"push"](()=>{c=Y,n(2,c)})}function v(Y){Ge[Y?"unshift":"push"](()=>{i=Y,n(0,i)})}const w=()=>me.set("login"),y=()=>me.set("join"),P=()=>{n(5,$=!0),k(localStorage.getItem("meower_savedusername"),localStorage.getItem("meower_savedpassword"))},E=()=>{ce.set(Dt()),n(3,u=""),me.set("blank"),Te.set("main")};function T(){$=this.checked,n(5,$)}const I=()=>(me.set("welcome"),n(3,u=""),!1),L=Y=>Y.target[0].value&&Y.target[1].value?(k(Y.target[0].value,Y.target[1].value),!1):(n(3,u="You must specify a username and a password to login!"),!1);function N(){$=this.checked,n(5,$)}function G(){d=this.checked,n(4,d)}const W=()=>(me.set("welcome"),n(3,u=""),!1),te=Y=>{const H=Y.target[0].value,B=Y.target[1].value;if(!(H&&B))return n(3,u="You must specify a username and a password to create an account!"),!1;n(3,u="Creating account..."),ae({cmd:"direct",val:{cmd:"gen_account",val:{username:H,pswd:B}},listener:"join"}).then(async J=>{if(J.mode==="auth"&&J.payload.username===H){n(3,u="Getting user data...");const D=await ae({cmd:"direct",val:{cmd:"get_profile",val:J.payload.username}});ce.update(re=>Object.assign(re,{...D.payload,name:J.payload.username})),Ye.set({username:J.payload.username,token:J.payload.token}),n(3,u=""),$&&(localStorage.setItem("meower_savedusername",H),localStorage.setItem("meower_savedpassword",J.payload.token)),me.set("go"),await je(1e3),Te.set("main")}else n(3,u="Unexpected error logging in!")}).catch(J=>{switch(J){case"I:015 | Account exists":n(3,u="That username already exists!");break;case"I:011 | Invalid Password":n(3,u="Invalid password!");break;case"E:119 | IP Blocked":V(fe,l="ipBanned",l),V(U,t=!0,t),n(3,u="");break;case"E:019 | Illegal characters detected":n(3,u="Usernames must not have spaces or other special characters!");break;case"E:106 | Too many requests":n(3,u="Too many requests! Please try again later.");break;default:n(3,u=`Unexpected ${J} error!`)}})},Q=()=>me.set("logo");function se(Y){Ge[Y?"unshift":"push"](()=>{o=Y,n(1,o)})}return[i,o,c,u,d,$,t,l,r,k,g,v,w,y,P,E,T,I,L,N,G,W,te,Q,se]}class Lo extends ee{constructor(e){super(),Z(this,e,zo,Io,X,{})}}function jo(s){let e;return{c(){e=m("h2"),e.textContent="Login to Meower",f(e,"slot","header")},m(n,t){b(n,e,t)},p:M,d(n){n&&h(e)}}}function Oo(s){let e,n,t,l,r,a,i,o,c,u,d,_,$,k,g,v,w,y,P,E,T,I,L=s[1]&&sl(s);return{c(){e=m("form"),L&&L.c(),n=q(),t=m("input"),l=m("br"),r=m("br"),a=q(),i=m("input"),o=m("br"),c=q(),u=m("p"),d=m("input"),_=q(),$=m("label"),$.textContent="Remember me",k=q(),g=m("br"),v=q(),w=m("div"),y=m("a"),y.textContent="Join Meower",P=q(),E=m("button"),E.textContent="Login",f(t,"type","text"),f(t,"class","modal-input white"),f(t,"placeholder","Username"),f(t,"maxlength","20"),t.value=s[2],t.autofocus=!0,f(i,"type","password"),f(i,"class","modal-input white"),f(i,"placeholder","Password"),f(i,"maxlength","64"),i.value=s[3],f(d,"id","remember-me"),f(d,"type","checkbox"),f(d,"class","svelte-hkhckx"),f($,"for","remember-me"),f($,"class","svelte-hkhckx"),f(u,"class","checkboxes svelte-hkhckx"),f(y,"href","/"),f(E,"type","submit"),f(w,"class","modal-buttons")},m(N,G){b(N,e,G),L&&L.m(e,null),p(e,n),p(e,t),p(e,l),p(e,r),p(e,a),p(e,i),p(e,o),p(e,c),p(e,u),p(u,d),d.checked=s[4],p(u,_),p(u,$),p(e,k),p(e,g),p(e,v),p(e,w),p(w,y),p(w,P),p(w,E),t.focus(),T||(I=[R(d,"change",s[7]),R(y,"click",he(s[8])),R(e,"submit",he(s[9]))],T=!0)},p(N,G){N[1]?L?L.p(N,G):(L=sl(N),L.c(),L.m(e,n)):L&&(L.d(1),L=null),G&4&&t.value!==N[2]&&(t.value=N[2]),G&8&&i.value!==N[3]&&(i.value=N[3]),G&16&&(d.checked=N[4])},i:M,o:M,d(N){N&&h(e),L&&L.d(),T=!1,ue(I)}}}function xo(s){let e,n,t;return n=new ke({}),{c(){e=m("div"),x(n.$$.fragment),f(e,"class","fullcenter svelte-hkhckx")},m(l,r){b(l,e,r),j(n,e,null),t=!0},p:M,i(l){t||(C(n.$$.fragment,l),t=!0)},o(l){S(n.$$.fragment,l),t=!1},d(l){l&&h(e),O(n)}}}function sl(s){let e,n,t;return{c(){e=m("span"),n=z(s[1]),t=m("br"),f(e,"class","login-status svelte-hkhckx")},m(l,r){b(l,e,r),p(e,n),b(l,t,r)},p(l,r){r&2&&F(n,l[1])},d(l){l&&h(e),l&&h(t)}}}function To(s){let e,n,t,l;const r=[xo,Oo],a=[];function i(o,c){return o[0]?0:1}return n=i(s),t=a[n]=r[n](s),{c(){e=m("div"),t.c(),f(e,"slot","default")},m(o,c){b(o,e,c),a[n].m(e,null),l=!0},p(o,c){let u=n;n=i(o),n===u?a[n].p(o,c):(ne(),S(a[u],1,1,()=>{a[u]=null}),le(),t=a[n],t?t.p(o,c):(t=a[n]=r[n](o),t.c()),C(t,1),t.m(e,null))},i(o){l||(C(t),l=!0)},o(o){S(t),l=!1},d(o){o&&h(e),a[n].d()}}}function Ro(s){let e,n;return e=new _e({props:{$$slots:{default:[To],header:[jo]},$$scope:{ctx:s}}}),e.$on("close",s[10]),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p(t,[l]){const r={};l&2079&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function No(s,e,n){let t;A(s,U,k=>n(5,t=k));let l=!1,r="",a="",i="",o=!1;function c(){try{n(0,l=!0),ae({cmd:"direct",val:{cmd:"authpswd",val:{username:a,pswd:i}}}).then(async k=>{try{const g=await ae({cmd:"direct",val:{cmd:"get_profile",val:k.payload.username}});U.set(!1),ce.update(v=>Object.assign(v,{...g.payload,name:k.payload.username})),Ye.set({username:k.payload.username,token:k.payload.token}),o&&(localStorage.setItem("meower_savedusername",a),localStorage.setItem("meower_savedpassword",k.payload.token)),ie.set("blank"),be().then(()=>ie.set("home"))}catch(g){n(0,l=!1),n(1,r="Unexpected "+g+" error getting user data!")}}).catch(k=>{switch(n(0,l=!1),k){case"E:103 | ID not found":n(1,r="Invalid username!");break;case"I:011 | Invalid Password":n(1,r="Invalid password!");break;case"E:018 | Account Banned":fe.set("banned");break;case"E:107 | Packet too large":n(1,r="The username and/or password is too long!");break;case"E:019 | Illegal characters detected":n(1,r="Usernames must not have spaces or other special characters!");break;case"E:106 | Too many requests":n(1,r="Too many requests! Please try again later.");break;default:n(1,r=`Unexpected ${k} error!`)}})}catch(k){console.log(k),n(0,l=!1),n(1,r="Error logging in: "+k)}}function u(){o=this.checked,n(4,o)}return[l,r,a,i,o,t,c,u,()=>{fe.set("signup")},k=>k.target[0].value&&k.target[1].value?(n(2,a=k.target[0].value),n(3,i=k.target[1].value),c(),!1):(n(1,r="You must specify a username and a password to login!"),!1),()=>{V(U,t=!1,t)}]}class Ao extends ee{constructor(e){super(),Z(this,e,No,Ro,X,{})}}function Bo(s){let e;return{c(){e=m("h2"),e.textContent="Join Meower",f(e,"slot","header")},m(n,t){b(n,e,t)},p:M,d(n){n&&h(e)}}}function Uo(s){let e,n,t,l,r,a,i,o,c,u,d,_,$,k,g,v,w,y,P,E,T,I,L,N,G,W,te,Q,se,Y,H=s[1]&&rl(s);return{c(){e=m("form"),H&&H.c(),n=q(),t=m("input"),l=m("br"),r=m("br"),a=q(),i=m("input"),o=m("br"),c=q(),u=m("p"),d=m("input"),_=q(),$=m("label"),$.textContent="Remember me",k=q(),g=m("br"),v=q(),w=m("input"),y=q(),P=m("label"),P.innerHTML='I agree to <a href="https://meower.org/legal" target="_blank">Meower&#39;s Terms of Service and Privacy Policy</a>',E=q(),T=m("br"),I=q(),L=m("div"),N=m("a"),N.textContent="Login to Meower",G=q(),W=m("button"),te=z("Create Account"),f(t,"type","text"),f(t,"class","modal-input white"),f(t,"placeholder","Username"),f(t,"maxlength","20"),t.value=s[2],t.autofocus=!0,f(i,"type","password"),f(i,"class","modal-input white"),f(i,"placeholder","Password"),f(i,"maxlength","64"),i.value=s[3],f(d,"id","remember-me"),f(d,"type","checkbox"),f(d,"class","svelte-hkhckx"),f($,"for","remember-me"),f($,"class","svelte-hkhckx"),f(w,"id","accept-terms"),f(w,"type","checkbox"),f(w,"class","svelte-hkhckx"),f(P,"for","accept-terms"),f(P,"class","svelte-hkhckx"),f(u,"class","checkboxes svelte-hkhckx"),f(N,"href","/"),f(W,"type","submit"),W.disabled=Q=!s[4],f(L,"class","modal-buttons")},m(B,J){b(B,e,J),H&&H.m(e,null),p(e,n),p(e,t),p(e,l),p(e,r),p(e,a),p(e,i),p(e,o),p(e,c),p(e,u),p(u,d),d.checked=s[5],p(u,_),p(u,$),p(u,k),p(u,g),p(u,v),p(u,w),w.checked=s[4],p(u,y),p(u,P),p(e,E),p(e,T),p(e,I),p(e,L),p(L,N),p(L,G),p(L,W),p(W,te),t.focus(),se||(Y=[R(d,"change",s[8]),R(w,"change",s[9]),R(N,"click",he(s[10])),R(e,"submit",he(s[11]))],se=!0)},p(B,J){B[1]?H?H.p(B,J):(H=rl(B),H.c(),H.m(e,n)):H&&(H.d(1),H=null),J&4&&t.value!==B[2]&&(t.value=B[2]),J&8&&i.value!==B[3]&&(i.value=B[3]),J&32&&(d.checked=B[5]),J&16&&(w.checked=B[4]),J&16&&Q!==(Q=!B[4])&&(W.disabled=Q)},i:M,o:M,d(B){B&&h(e),H&&H.d(),se=!1,ue(Y)}}}function Do(s){let e,n,t;return n=new ke({}),{c(){e=m("div"),x(n.$$.fragment),f(e,"class","fullcenter svelte-hkhckx")},m(l,r){b(l,e,r),j(n,e,null),t=!0},p:M,i(l){t||(C(n.$$.fragment,l),t=!0)},o(l){S(n.$$.fragment,l),t=!1},d(l){l&&h(e),O(n)}}}function rl(s){let e,n,t;return{c(){e=m("span"),n=z(s[1]),t=m("br"),f(e,"class","login-status svelte-hkhckx")},m(l,r){b(l,e,r),p(e,n),b(l,t,r)},p(l,r){r&2&&F(n,l[1])},d(l){l&&h(e),l&&h(t)}}}function Go(s){let e,n,t,l;const r=[Do,Uo],a=[];function i(o,c){return o[0]?0:1}return n=i(s),t=a[n]=r[n](s),{c(){e=m("div"),t.c(),f(e,"slot","default")},m(o,c){b(o,e,c),a[n].m(e,null),l=!0},p(o,c){let u=n;n=i(o),n===u?a[n].p(o,c):(ne(),S(a[u],1,1,()=>{a[u]=null}),le(),t=a[n],t?t.p(o,c):(t=a[n]=r[n](o),t.c()),C(t,1),t.m(e,null))},i(o){l||(C(t),l=!0)},o(o){S(t),l=!1},d(o){o&&h(e),a[n].d()}}}function Ko(s){let e,n;return e=new _e({props:{$$slots:{default:[Go],header:[Bo]},$$scope:{ctx:s}}}),e.$on("close",s[12]),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p(t,[l]){const r={};l&16447&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Yo(s,e,n){let t,l;A(s,fe,w=>n(13,t=w)),A(s,U,w=>n(6,l=w));let r=!1,a="",i="",o="",c=!1,u=!1;function d(){try{n(0,r=!0),ae({cmd:"direct",val:{cmd:"gen_account",val:{username:i,pswd:o}},listener:"join"}).then(async w=>{if(w.mode==="auth"&&w.payload.username===i){n(1,a="Getting user data...");const y=await ae({cmd:"direct",val:{cmd:"get_profile",val:w.payload.username}});U.set(!1),ce.update(P=>Object.assign(P,{...y.payload,name:w.payload.username})),Ye.set({username:w.payload.username,token:w.payload.token}),n(1,a=""),u&&(localStorage.setItem("meower_savedusername",i),localStorage.setItem("meower_savedpassword",w.payload.token)),ie.set("blank"),be().then(()=>ie.set("home"))}else n(1,a="Unexpected error logging in!")}).catch(w=>{switch(n(0,r=!1),w){case"I:015 | Account exists":n(1,a="That username already exists!");break;case"I:011 | Invalid Password":n(1,a="Invalid password!");break;case"E:119 | IP Blocked":V(fe,t="ipBanned",t);break;case"E:019 | Illegal characters detected":n(1,a="Usernames must not have spaces or other special characters!");break;case"E:106 | Too many requests":n(1,a="Too many requests! Please try again later.");break;default:n(1,a=`Unexpected ${w} error!`)}})}catch(w){console.log(w),n(0,r=!1),n(1,a="Error logging in: "+w)}}function _(){u=this.checked,n(5,u)}function $(){c=this.checked,n(4,c)}return[r,a,i,o,c,u,l,d,_,$,()=>{fe.set("login")},w=>w.target[0].value&&w.target[1].value?(n(2,i=w.target[0].value),n(3,o=w.target[1].value),d(),!1):(n(1,a="You must specify a username and a password to create an account!"),!1),()=>{V(U,l=!1,l)}]}class Ho extends ee{constructor(e){super(),Z(this,e,Yo,Ko,X,{})}}function Wo(s){let e;return{c(){e=m("h2"),e.textContent="Account Banned",f(e,"slot","header")},m(n,t){b(n,e,t)},p:M,d(n){n&&h(e)}}}function Fo(s){let e,n,t,l,r,a,i,o,c,u,d;return{c(){e=m("div"),n=m("p"),n.innerHTML=`Your account has been banned by the Meower moderation team because it was used to violate Meower&#39;s Terms of Service.
            <br/><br/>
            If you would like to discuss this ban, please email <a href="mailto:support@meower.org" target="_blank">support@meower.org</a>.`,t=q(),l=m("br"),r=q(),a=m("div"),i=m("a"),i.textContent="Terms of Service",o=q(),c=m("button"),c.textContent="Close",f(i,"href","https://meower.org/legal"),f(i,"target","_blank"),f(a,"class","modal-buttons"),f(e,"slot","default")},m(_,$){b(_,e,$),p(e,n),p(e,t),p(e,l),p(e,r),p(e,a),p(a,i),p(a,o),p(a,c),u||(d=R(c,"click",s[1]),u=!0)},p:M,d(_){_&&h(e),u=!1,d()}}}function Jo(s){let e,n;return e=new _e({props:{$$slots:{default:[Fo],header:[Wo]},$$scope:{ctx:s}}}),e.$on("close",s[2]),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p(t,[l]){const r={};l&9&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Vo(s,e,n){let t;return A(s,U,a=>n(0,t=a)),[t,()=>{V(U,t=!1,t)},()=>{V(U,t=!1,t)}]}class Qo extends ee{constructor(e){super(),Z(this,e,Vo,Jo,X,{})}}function Xo(s){let e;return{c(){e=m("h2"),e.textContent="IP Blocked",f(e,"slot","header")},m(n,t){b(n,e,t)},p:M,d(n){n&&h(e)}}}function Zo(s){let e,n,t,l,r,a,i,o,c,u,d;return{c(){e=m("div"),n=m("p"),n.innerHTML=`Your IP address has been blocked from creating new accounts because it was used to violate Meower&#39;s Terms of Service.
            <br/><br/>
            If you would like to discuss this block, please email <a href="mailto:support@meower.org" target="_blank">support@meower.org</a>.`,t=q(),l=m("br"),r=q(),a=m("div"),i=m("a"),i.textContent="Terms of Service",o=q(),c=m("button"),c.textContent="Close",f(i,"href","https://meower.org/legal"),f(i,"target","_blank"),f(a,"class","modal-buttons"),f(e,"slot","default")},m(_,$){b(_,e,$),p(e,n),p(e,t),p(e,l),p(e,r),p(e,a),p(a,i),p(a,o),p(a,c),u||(d=R(c,"click",s[1]),u=!0)},p:M,d(_){_&&h(e),u=!1,d()}}}function ei(s){let e,n;return e=new _e({props:{$$slots:{default:[Zo],header:[Xo]},$$scope:{ctx:s}}}),e.$on("close",s[2]),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p(t,[l]){const r={};l&9&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function ti(s,e,n){let t;return A(s,U,a=>n(0,t=a)),[t,()=>{V(U,t=!1,t)},()=>{V(U,t=!1,t)}]}class ni extends ee{constructor(e){super(),Z(this,e,ti,ei,X,{})}}function li(s){let e;return{c(){e=m("h2"),e.textContent="Report Post",f(e,"slot","header")},m(n,t){b(n,e,t)},p:M,d(n){n&&h(e)}}}function si(s){let e,n,t,l,r,a,i,o;return{c(){e=m("p"),e.textContent="Successfully reported post! A member of the Meower moderation team will review it shortly.",n=q(),t=m("br"),l=q(),r=m("div"),a=m("button"),a.textContent="Close",f(r,"class","modal-buttons")},m(c,u){b(c,e,u),b(c,n,u),b(c,t,u),b(c,l,u),b(c,r,u),p(r,a),i||(o=R(a,"click",s[5]),i=!0)},p:M,i:M,o:M,d(c){c&&h(e),c&&h(n),c&&h(t),c&&h(l),c&&h(r),i=!1,o()}}}function ri(s){let e,n,t,l,r,a,i,o,c,u,d,_,$;return t=new Qe({props:{post:s[2],buttons:!1}}),{c(){e=m("p"),e.innerHTML=`Are you sure you would like to report this post?
                <br/><br/>
                Please make sure you&#39;re only reporting stuff that is against the Meower <a href="https://meower.org/legal" target="_blank">Terms of Service</a>.`,n=q(),x(t.$$.fragment),l=q(),r=m("br"),a=q(),i=m("div"),o=m("button"),o.textContent="Cancel",c=q(),u=m("button"),u.textContent="Report",f(i,"class","modal-buttons")},m(k,g){b(k,e,g),b(k,n,g),j(t,k,g),b(k,l,g),b(k,r,g),b(k,a,g),b(k,i,g),p(i,o),p(i,c),p(i,u),d=!0,_||($=[R(o,"click",s[3]),R(u,"click",s[4])],_=!0)},p(k,g){const v={};g&4&&(v.post=k[2]),t.$set(v)},i(k){d||(C(t.$$.fragment,k),d=!0)},o(k){S(t.$$.fragment,k),d=!1},d(k){k&&h(e),k&&h(n),O(t,k),k&&h(l),k&&h(r),k&&h(a),k&&h(i),_=!1,ue($)}}}function oi(s){let e,n,t,l;const r=[ri,si],a=[];function i(o,c){return o[0]===0?0:o[0]===1?1:-1}return~(n=i(s))&&(t=a[n]=r[n](s)),{c(){e=m("div"),t&&t.c(),f(e,"slot","default")},m(o,c){b(o,e,c),~n&&a[n].m(e,null),l=!0},p(o,c){let u=n;n=i(o),n===u?~n&&a[n].p(o,c):(t&&(ne(),S(a[u],1,1,()=>{a[u]=null}),le()),~n?(t=a[n],t?t.p(o,c):(t=a[n]=r[n](o),t.c()),C(t,1),t.m(e,null)):t=null)},i(o){l||(C(t),l=!0)},o(o){S(t),l=!1},d(o){o&&h(e),~n&&a[n].d()}}}function ii(s){let e,n;return e=new _e({props:{$$slots:{default:[oi],header:[li]},$$scope:{ctx:s}}}),e.$on("close",s[6]),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p(t,[l]){const r={};l&135&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function ai(s,e,n){let t,l;A(s,U,u=>n(1,t=u)),A(s,$t,u=>n(2,l=u));let r=0;return[r,t,l,()=>{V(U,t=!1,t)},()=>{ae({cmd:"direct",val:{cmd:"report",val:{type:0,id:l.post_id}}}),n(0,r=1)},()=>{V(U,t=!1,t)},()=>{V(U,t=!1,t)}]}class ci extends ee{constructor(e){super(),Z(this,e,ai,ii,X,{})}}function ui(s){let e;return{c(){e=m("h2"),e.textContent="Delete Post",f(e,"slot","header")},m(n,t){b(n,e,t)},p:M,d(n){n&&h(e)}}}function fi(s){let e,n,t,l,r,a,i,o,c,u,d,_,$,k;return l=new Qe({props:{post:s[1],buttons:!1}}),{c(){e=m("div"),n=m("p"),n.textContent="Are you sure you would like to delete this post?",t=q(),x(l.$$.fragment),r=q(),a=m("br"),i=q(),o=m("div"),c=m("button"),c.textContent="Cancel",u=q(),d=m("button"),d.textContent="Delete",d.autofocus=!0,f(o,"class","modal-buttons"),f(e,"slot","default")},m(g,v){b(g,e,v),p(e,n),p(e,t),j(l,e,null),p(e,r),p(e,a),p(e,i),p(e,o),p(o,c),p(o,u),p(o,d),_=!0,d.focus(),$||(k=[R(c,"click",s[2]),R(d,"click",s[3])],$=!0)},p(g,v){const w={};v&2&&(w.post=g[1]),l.$set(w)},i(g){_||(C(l.$$.fragment,g),_=!0)},o(g){S(l.$$.fragment,g),_=!1},d(g){g&&h(e),O(l),$=!1,ue(k)}}}function di(s){let e,n;return e=new _e({props:{$$slots:{default:[fi],header:[ui]},$$scope:{ctx:s}}}),e.$on("close",s[4]),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p(t,[l]){const r={};l&35&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function mi(s,e,n){let t,l;return A(s,U,o=>n(0,t=o)),A(s,$t,o=>n(1,l=o)),[t,l,()=>{V(U,t=!1,t)},()=>{ae({cmd:"direct",val:{cmd:"delete_post",val:l.post_id}}),V(U,t=!1,t)},()=>{V(U,t=!1,t)}]}class pi extends ee{constructor(e){super(),Z(this,e,mi,di,X,{})}}function _i(s){let e,n="Profile of "+s[1],t;return{c(){e=m("h2"),t=z(n),f(e,"slot","header")},m(l,r){b(l,e,r),p(e,t)},p(l,r){r&2&&n!==(n="Profile of "+l[1])&&F(t,n)},d(l){l&&h(e)}}}function gi(s){let e,n,t,l,r,a,i,o;return e=new oe({props:{$$slots:{default:[vi]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment),n=q(),t=m("button"),t.textContent="Remove from chat",l=q(),r=m("button"),r.textContent="Close",f(t,"class","long svelte-1q8brxa"),f(r,"class","long svelte-1q8brxa")},m(c,u){j(e,c,u),b(c,n,u),b(c,t,u),b(c,l,u),b(c,r,u),a=!0,i||(o=[R(t,"click",s[9]),R(r,"click",s[10])],i=!0)},p(c,u){const d={};u&65536&&(d.$$scope={dirty:u,ctx:c}),e.$set(d)},i(c){a||(C(e.$$.fragment,c),a=!0)},o(c){S(e.$$.fragment,c),a=!1},d(c){O(e,c),c&&h(n),c&&h(t),c&&h(l),c&&h(r),i=!1,ue(o)}}}function vi(s){let e,n,t,l=s[15]+"",r;return{c(){e=z(`Error loading user profile.\r
				`),n=m("pre"),t=m("code"),r=z(l)},m(a,i){b(a,e,i),b(a,n,i),p(n,t),p(t,r)},p:M,d(a){a&&h(e),a&&h(n)}}}function hi(s){let e,n,t,l,r,a,i,o,c,u;return e=new oe({props:{$$slots:{default:[bi]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment),n=q(),t=m("button"),t.textContent="View full profile",l=q(),r=m("button"),r.textContent="Remove from chat",a=q(),i=m("button"),i.textContent="Close",f(t,"class","long svelte-1q8brxa"),f(r,"class","long svelte-1q8brxa"),f(i,"class","long svelte-1q8brxa")},m(d,_){j(e,d,_),b(d,n,_),b(d,t,_),b(d,l,_),b(d,r,_),b(d,a,_),b(d,i,_),o=!0,c||(u=[R(t,"click",s[6]),R(r,"click",s[7]),R(i,"click",s[8])],c=!0)},p(d,_){const $={};_&65547&&($.$$scope={dirty:_,ctx:d}),e.$set($)},i(d){o||(C(e.$$.fragment,d),o=!0)},o(d){S(e.$$.fragment,d),o=!1},d(d){O(e,d),d&&h(n),d&&h(t),d&&h(l),d&&h(r),d&&h(a),d&&h(i),c=!1,ue(u)}}}function bi(s){let e,n,t,l,r,a,i,o,c=s[3].includes(s[1])?"Online":"Offline",u,d,_,$=(Sl[s[14].lvl]||"Unknown")+"",k,g;return n=new Je({props:{online:s[3].includes(s[1]),icon:s[1]===s[0].name?s[0].pfp_data:s[14].pfp_data,alt:s[1]+"'s profile picture",big:!0}}),{c(){e=m("div"),x(n.$$.fragment),t=q(),l=m("div"),r=m("h1"),a=z(s[1]),i=q(),o=m("div"),u=z(c),d=q(),_=m("div"),k=z($),f(r,"class","profile-username svelte-1q8brxa"),f(o,"class","profile-active svelte-1q8brxa"),f(_,"class","profile-role svelte-1q8brxa"),f(l,"class","profile-header-info svelte-1q8brxa"),f(e,"class","profile-header svelte-1q8brxa")},m(v,w){b(v,e,w),j(n,e,null),p(e,t),p(e,l),p(l,r),p(r,a),p(l,i),p(l,o),p(o,u),p(l,d),p(l,_),p(_,k),g=!0},p(v,w){const y={};w&10&&(y.online=v[3].includes(v[1])),w&3&&(y.icon=v[1]===v[0].name?v[0].pfp_data:v[14].pfp_data),w&2&&(y.alt=v[1]+"'s profile picture"),n.$set(y),(!g||w&2)&&F(a,v[1]),(!g||w&10)&&c!==(c=v[3].includes(v[1])?"Online":"Offline")&&F(u,c)},i(v){g||(C(n.$$.fragment,v),g=!0)},o(v){S(n.$$.fragment,v),g=!1},d(v){v&&h(e),O(n)}}}function ki(s){let e,n,t;return n=new ke({}),{c(){e=m("div"),x(n.$$.fragment),f(e,"class","fullcenter svelte-1q8brxa")},m(l,r){b(l,e,r),j(n,e,null),t=!0},p:M,i(l){t||(C(n.$$.fragment,l),t=!0)},o(l){S(n.$$.fragment,l),t=!1},d(l){l&&h(e),O(n)}}}function $i(s){let e,n,t={ctx:s,current:null,token:null,hasCatch:!0,pending:ki,then:hi,catch:gi,value:14,error:15,blocks:[,,,]};return We(s[5](),t),{c(){e=m("div"),t.block.c(),f(e,"slot","default")},m(l,r){b(l,e,r),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null,n=!0},p(l,r){s=l,Fe(t,s,r)},i(l){n||(C(t.block),n=!0)},o(l){for(let r=0;r<3;r+=1){const a=t.blocks[r];S(a)}n=!1},d(l){l&&h(e),t.block.d(),t.token=null,t=null}}}function wi(s){let e,n;return e=new _e({props:{$$slots:{default:[$i],header:[_i]},$$scope:{ctx:s}}}),e.$on("close",s[11]),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p(t,[l]){const r={};l&65567&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function yi(s,e,n){let t,l,r,a,i;A(s,ce,g=>n(0,t=g)),A(s,qe,g=>n(12,g)),A(s,Ut,g=>n(1,l=g)),A(s,U,g=>n(2,r=g)),A(s,Ce,g=>n(3,a=g)),A(s,we,g=>n(4,i=g));async function o(){let g=`users/${l}`;Ve&&(g=encodeURIComponent(g));const v=await fetch(`${Me}${g}`);if(!v.ok)throw new Error("Response code is not OK; code is "+v.status);return await v.json()}return[t,l,r,a,i,o,()=>{V(U,r=!1,r),ae({cmd:"direct",val:{cmd:"set_chat_state",val:{state:0,chatid:i}}}),Ke.set(l),ie.set("profile")},()=>{fe.set("Memberem")},()=>{V(U,r=!1,r)},()=>{fe.set("Memberem")},()=>{V(U,r=!1,r)},()=>{V(U,r=!1,r)}]}class Ci extends ee{constructor(e){super(),Z(this,e,yi,wi,X,{})}}function qi(s){let e,n="Remove "+s[0]+" From "+s[4]+"?",t;return{c(){e=m("h2"),t=z(n),f(e,"slot","header")},m(l,r){b(l,e,r),p(e,t)},p(l,r){r&17&&n!==(n="Remove "+l[0]+" From "+l[4]+"?")&&F(t,n)},d(l){l&&h(e)}}}function Si(s){let e,n,t,l;return{c(){e=m("div"),n=m("button"),n.textContent="Yes",f(n,"class","long svelte-1ntawbt"),f(e,"slot","default")},m(r,a){b(r,e,a),p(e,n),t||(l=R(n,"click",s[6]),t=!0)},p:M,d(r){r&&h(e),t=!1,l()}}}function Pi(s){let e,n;return e=new _e({props:{$$slots:{default:[Si],header:[qi]},$$scope:{ctx:s}}}),e.$on("close",s[7]),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p(t,[l]){const r={};l&287&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Mi(s,e,n){let t,l,r,a,i;A(s,Ut,d=>n(0,t=d)),A(s,U,d=>n(1,l=d)),A(s,we,d=>n(2,r=d)),A(s,lt,d=>n(3,a=d)),A(s,ze,d=>n(4,i=d));function o(d){return d!==t}return[t,l,r,a,i,o,()=>{ae({cmd:"direct",val:{cmd:"remove_from_chat",val:{chatid:r,username:t}}}),V(lt,a=a.filter(o),a),V(U,l=!1,l),ie.set("blank"),be().then(()=>ie.set("groupchat"))},()=>{V(U,l=!1,l)}]}class Ei extends ee{constructor(e){super(),Z(this,e,Mi,Pi,X,{})}}function Ii(s){let e,n="Add Member To '"+s[1]+"'?",t;return{c(){e=m("h2"),t=z(n),f(e,"slot","header")},m(l,r){b(l,e,r),p(e,t)},p(l,r){r&2&&n!==(n="Add Member To '"+l[1]+"'?")&&F(t,n)},d(l){l&&h(e)}}}function zi(s){let e,n,t,l;return{c(){e=m("div"),n=m("button"),n.textContent="Add Member By Name",f(n,"class","long svelte-1ntawbt"),f(e,"slot","default")},m(r,a){b(r,e,a),p(e,n),t||(l=R(n,"click",s[2]),t=!0)},p:M,d(r){r&&h(e),t=!1,l()}}}function Li(s){let e,n;return e=new _e({props:{$$slots:{default:[zi],header:[Ii]},$$scope:{ctx:s}}}),e.$on("close",s[3]),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p(t,[l]){const r={};l&18&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function ji(s,e,n){let t,l;return A(s,U,i=>n(0,t=i)),A(s,ze,i=>n(1,l=i)),[t,l,()=>{fe.set("AddMemberBN")},()=>{V(U,t=!1,t)}]}class Oi extends ee{constructor(e){super(),Z(this,e,ji,Li,X,{})}}function xi(s){let e;return{c(){e=m("h2"),e.textContent="Create chat",f(e,"slot","header")},m(n,t){b(n,e,t)},p:M,d(n){n&&h(e)}}}function ol(s){let e,n,t;return{c(){e=m("span"),n=z(s[0]),t=m("br"),f(e,"class","login-status")},m(l,r){b(l,e,r),p(e,n),b(l,t,r)},p(l,r){r&1&&F(n,l[0])},d(l){l&&h(e),l&&h(t)}}}function Ti(s){let e,n,t,l,r,a,i,o,c,u,d,_,$,k=s[0]&&ol(s);return{c(){e=m("div"),n=m("form"),k&&k.c(),t=q(),l=m("input"),r=m("br"),a=m("br"),i=q(),o=m("div"),c=m("button"),c.textContent="Cancel",u=q(),d=m("button"),d.textContent="Create",f(l,"type","text"),f(l,"class","modal-input white"),f(l,"placeholder","Nickname"),f(l,"maxlength","20"),l.autofocus=!0,f(c,"type","button"),f(d,"type","submit"),f(o,"class","modal-buttons"),f(e,"slot","default")},m(g,v){b(g,e,v),p(e,n),k&&k.m(n,null),p(n,t),p(n,l),p(n,r),p(n,a),p(n,i),p(n,o),p(o,c),p(o,u),p(o,d),l.focus(),_||($=[R(c,"click",s[3]),R(n,"submit",he(s[4]))],_=!0)},p(g,v){g[0]?k?k.p(g,v):(k=ol(g),k.c(),k.m(n,t)):k&&(k.d(1),k=null)},d(g){g&&h(e),k&&k.d(),_=!1,ue($)}}}function Ri(s){let e,n;return e=new _e({props:{$$slots:{default:[Ti],header:[xi]},$$scope:{ctx:s}}}),e.$on("close",s[5]),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p(t,[l]){const r={};l&67&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Ni(s,e,n){let t;A(s,U,c=>n(1,t=c));let l="";function r(c){try{n(0,l="Creating chat..."),ae({cmd:"direct",val:{cmd:"create_chat",val:c}}).then(()=>{U.set(!1),ie.set("blank"),be().then(()=>ie.set("chatlist"))}).catch(u=>{n(0,l=`Unexpected ${u} error!`)})}catch(u){console.error(u),n(0,l="Error logging in: "+u)}}return[l,t,r,()=>{V(U,t=!1,t)},c=>c.target[0].value?(r(c.target[0].value),!1):(n(0,l="You must specify a nickname to create the chat!"),!1),()=>{V(U,t=!1,t)}]}class Ai extends ee{constructor(e){super(),Z(this,e,Ni,Ri,X,{})}}function Bi(s){let e,n,t=s[2].nickname+"",l;return{c(){e=m("h2"),n=z("Members of "),l=z(t),f(e,"slot","header")},m(r,a){b(r,e,a),p(e,n),p(e,l)},p(r,a){a&4&&t!==(t=r[2].nickname+"")&&F(l,t)},d(r){r&&h(e)}}}function il(s){let e,n,t;return{c(){e=m("span"),n=z(s[0]),t=m("br"),f(e,"class","status svelte-1n4b2ff")},m(l,r){b(l,e,r),p(e,n),b(l,t,r)},p(l,r){r&1&&F(n,l[0])},d(l){l&&h(e),l&&h(t)}}}function Ui(s){let e,n,t,l,r,a,i,o,c,u,d,_,$,k=s[0]&&il(s);return{c(){e=m("div"),n=m("form"),k&&k.c(),t=q(),l=m("input"),r=q(),a=m("button"),a.textContent="Add",i=m("br"),o=m("br"),c=q(),u=m("div"),d=m("button"),d.textContent="Close",f(l,"type","text"),f(l,"class","modal-input white"),Ze(l,"width","87%"),f(l,"placeholder","Enter username..."),f(l,"maxlength","20"),f(a,"width","auto"),f(u,"class","modal-buttons"),f(e,"slot","default")},m(g,v){b(g,e,v),p(e,n),k&&k.m(n,null),p(n,t),p(n,l),p(n,r),p(n,a),p(n,i),p(n,o),p(e,c),p(e,u),p(u,d),_||($=[R(n,"submit",he(s[3])),R(d,"click",s[4])],_=!0)},p(g,v){g[0]?k?k.p(g,v):(k=il(g),k.c(),k.m(n,t)):k&&(k.d(1),k=null)},d(g){g&&h(e),k&&k.d(),_=!1,ue($)}}}function Di(s){let e,n;return e=new _e({props:{$$slots:{default:[Ui],header:[Bi]},$$scope:{ctx:s}}}),e.$on("close",s[5]),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p(t,[l]){const r={};l&71&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Gi(s,e,n){let t,l;A(s,U,c=>n(1,t=c)),A(s,Kl,c=>n(2,l=c));let r="";return[r,t,l,c=>(c.target[0].value||n(0,r="You must specify a nickname to create the chat!"),!1),()=>{V(U,t=!1,t)},()=>{V(U,t=!1,t)}]}class Ki extends ee{constructor(e){super(),Z(this,e,Gi,Di,X,{})}}function Yi(s){let e,n="Add Member To '"+s[3]+"'? - By Name",t;return{c(){e=m("h2"),t=z(n),f(e,"slot","header")},m(l,r){b(l,e,r),p(e,t)},p(l,r){r&8&&n!==(n="Add Member To '"+l[3]+"'? - By Name")&&F(t,n)},d(l){l&&h(e)}}}function Hi(s){let e,n,t,l;return{c(){e=m("div"),n=m("form"),n.innerHTML=`<input type="text" class="long white svelte-1ntawbt" placeholder="Add Via Search" id="postinput" name="postinput" autocomplete="false" maxlength="360"/> 
            <br/><br/> 
            <button class="long svelte-1ntawbt">Add member</button>`,f(e,"slot","default")},m(r,a){b(r,e,a),p(e,n),t||(l=R(n,"submit",he(s[4])),t=!0)},p:M,d(r){r&&h(e),t=!1,l()}}}function Wi(s){let e,n;return e=new _e({props:{$$slots:{default:[Hi],header:[Yi]},$$scope:{ctx:s}}}),e.$on("close",s[5]),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p(t,[l]){const r={};l&79&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Fi(s,e,n){let t,l,r,a;return A(s,U,c=>n(0,t=c)),A(s,we,c=>n(1,l=c)),A(s,lt,c=>n(2,r=c)),A(s,ze,c=>n(3,a=c)),[t,l,r,a,c=>{ae({cmd:"direct",val:{cmd:"add_to_chat",val:{chatid:l,username:c.target[0].value}}}),r.push(c.target[0].value),V(U,t=!1,t),ie.set("blank"),be().then(()=>ie.set("groupchat"))},()=>{V(U,t=!1,t)}]}class Ji extends ee{constructor(e){super(),Z(this,e,Fi,Wi,X,{})}}function Vi(s){let e;return{c(){e=m("h2"),e.textContent="Invalid modalPage string",f(e,"slot","header")},m(n,t){b(n,e,t)},p:M,d(n){n&&h(e)}}}function Qi(s){let e,n,t="Invalid modalPage string for '"+s[1]+"'",l,r,a;return{c(){e=m("div"),n=m("p"),l=z(t),r=q(),a=m("small"),a.textContent="PS to devlopers, Your code may be working!",f(a,"class","smol svelte-mytpja"),f(e,"slot","default")},m(i,o){b(i,e,o),p(e,n),p(n,l),p(e,r),p(e,a)},p(i,o){o&2&&t!==(t="Invalid modalPage string for '"+i[1]+"'")&&F(l,t)},d(i){i&&h(e)}}}function Xi(s){let e,n;return e=new _e({props:{$$slots:{default:[Qi],header:[Vi]},$$scope:{ctx:s}}}),e.$on("close",s[2]),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p(t,[l]){const r={};l&10&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Zi(s,e,n){let t,l;return A(s,U,a=>n(0,t=a)),A(s,fe,a=>n(1,l=a)),[t,l,()=>{V(U,t=!1,t)}]}class ea extends ee{constructor(e){super(),Z(this,e,Zi,Xi,X,{})}}function ta(s){let e;return{c(){e=m("h2"),e.textContent="Change Password",f(e,"slot","header")},m(n,t){b(n,e,t)},p:M,d(n){n&&h(e)}}}function al(s){let e,n,t;return{c(){e=m("span"),n=z(s[0]),t=m("br"),f(e,"class","login-status")},m(l,r){b(l,e,r),p(e,n),b(l,t,r)},p(l,r){r&1&&F(n,l[0])},d(l){l&&h(e),l&&h(t)}}}function na(s){let e,n,t,l,r,a,i,o,c,u,d,_,$,k,g,v,w,y=s[0]&&al(s);return{c(){e=m("div"),n=m("form"),y&&y.c(),t=q(),l=m("input"),r=m("br"),a=m("br"),i=q(),o=m("input"),c=m("br"),u=m("br"),d=q(),_=m("div"),$=m("button"),$.textContent="Cancel",k=q(),g=m("button"),g.textContent="Change Password",f(l,"type","password"),f(l,"class","modal-input white"),f(l,"placeholder","New Password"),f(l,"maxlength","64"),f(o,"type","password"),f(o,"class","modal-input white"),f(o,"placeholder","Confirm New Password"),f(o,"maxlength","64"),f($,"type","button"),f(g,"type","submit"),f(_,"class","modal-buttons"),f(e,"slot","default")},m(P,E){b(P,e,E),p(e,n),y&&y.m(n,null),p(n,t),p(n,l),p(n,r),p(n,a),p(n,i),p(n,o),p(n,c),p(n,u),p(n,d),p(n,_),p(_,$),p(_,k),p(_,g),v||(w=[R($,"click",s[2]),R(n,"submit",he(s[3]))],v=!0)},p(P,E){P[0]?y?y.p(P,E):(y=al(P),y.c(),y.m(n,t)):y&&(y.d(1),y=null)},d(P){P&&h(e),y&&y.d(),v=!1,ue(w)}}}function la(s){let e,n;return e=new _e({props:{$$slots:{default:[na],header:[ta]},$$scope:{ctx:s}}}),e.$on("close",s[4]),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p(t,[l]){const r={};l&35&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function sa(s,e,n){let t;A(s,U,o=>n(1,t=o));let l="";return[l,t,()=>{V(U,t=!1,t)},async o=>{if(!o.target[0].value)return n(0,l="You must specify a new password to change your password!"),!1;if(o.target[0].value!==o.target[1].value)return n(0,l="Passwords do not match!"),!1;n(0,l="Changing password..."),await ae({cmd:"direct",val:{cmd:"change_pswd",val:o.target[0].value}}),V(U,t=!1,t),Te.set("setup"),await be(),me.set("reconnect")},()=>{V(U,t=!1,t)}]}class ra extends ee{constructor(e){super(),Z(this,e,sa,la,X,{})}}function oa(s){let e;return{c(){e=m("div"),f(e,"class","spinner check svelte-o9ugf6")},m(n,t){b(n,e,t)},p:M,i:M,o:M,d(n){n&&h(e)}}}class ia extends ee{constructor(e){super(),Z(this,e,null,oa,X,{})}}function cl(s){let e,n;return e=new _e({props:{$$slots:{default:[_a],header:[aa]},$$scope:{ctx:s}}}),e.$on("close",s[8]),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},p(t,l){const r={};l&516&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function aa(s){let e;return{c(){e=m("h2"),e.textContent="Me-owch.",f(e,"slot","header")},m(n,t){b(n,e,t)},p:M,d(n){n&&h(e)}}}function ca(s){let e,n,t,l;return{c(){e=z(`We ran into an error trying to connect to the server.\r
						`),n=m("pre"),t=m("code"),l=z(s[2])},m(r,a){b(r,e,a),b(r,n,a),p(n,t),p(t,l)},p(r,a){a&4&&F(l,r[2])},d(r){r&&h(e),r&&h(n)}}}function ua(s){let e;return{c(){e=z("You have been kicked by a moderator.")},m(n,t){b(n,e,t)},p:M,d(n){n&&h(e)}}}function fa(s){let e;return{c(){e=z("You have been banned by a moderator.")},m(n,t){b(n,e,t)},p:M,d(n){n&&h(e)}}}function da(s){let e,n,t,l;return{c(){e=z(`There has been a hiccup! Looks like you logged into Meower from another device.\r
						`),n=m("br"),t=m("br"),l=z(`\r
						Please check any devices currently logged into Meower and try again.`)},m(r,a){b(r,e,a),b(r,n,a),b(r,t,a),b(r,l,a)},p:M,d(r){r&&h(e),r&&h(n),r&&h(t),r&&h(l)}}}function ma(s){let e,n=K.ip+"",t,l;return{c(){e=z("The server has blocked your IP address ("),t=z(n),l=z(").")},m(r,a){b(r,e,a),b(r,t,a),b(r,l,a)},p:M,d(r){r&&h(e),r&&h(t),r&&h(l)}}}function pa(s){let e;return{c(){e=z("Something went wrong and the connection to Meower was lost.")},m(n,t){b(n,e,t)},p:M,d(n){n&&h(e)}}}function _a(s){let e,n,t,l,r,a;function i(u,d){return u[2]===""?pa:u[2]==="E:119 | IP Blocked"?ma:u[2]=="E:110 | ID conflict"?da:u[2]=="E:018 | Account Banned"?fa:u[2]=="E:020 | Kicked"?ua:ca}let o=i(s),c=o(s);return{c(){e=m("div"),n=m("p"),c.c(),t=q(),l=m("button"),l.textContent="Reconnect",f(e,"slot","default")},m(u,d){b(u,e,d),p(e,n),c.m(n,null),p(e,t),p(e,l),r||(a=R(l,"click",s[7]),r=!0)},p(u,d){o===(o=i(u))&&c?c.p(u,d):(c.d(1),c=o(u),c&&(c.c(),c.m(n,null)))},d(u){u&&h(e),c.d(),r=!1,a()}}}function ul(s){let e,n,t,l;const r=[Ea,Ma,Pa,Sa,qa,Ca,ya,wa,$a,ka,ba,ha,va,ga],a=[];function i(o,c){return o[4]==="login"?0:o[4]==="signup"?1:o[4]==="banned"?2:o[4]==="ipBanned"?3:o[4]==="reportPost"?4:o[4]==="deletePost"?5:o[4]==="createChat"?6:o[4]==="chatMembers"?7:o[4]==="changePassword"?8:o[4]==="GC_Member"?9:o[4]==="Memberem"?10:o[4]==="AddMember"?11:o[4]==="AddMemberBN"?12:13}return e=i(s),n=a[e]=r[e](s),{c(){n.c(),t=Le()},m(o,c){a[e].m(o,c),b(o,t,c),l=!0},p(o,c){let u=e;e=i(o),e!==u&&(ne(),S(a[u],1,1,()=>{a[u]=null}),le(),n=a[e],n||(n=a[e]=r[e](o),n.c()),C(n,1),n.m(t.parentNode,t))},i(o){l||(C(n),l=!0)},o(o){S(n),l=!1},d(o){a[e].d(o),o&&h(t)}}}function ga(s){let e,n;return e=new ea({}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function va(s){let e,n;return e=new Ji({}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function ha(s){let e,n;return e=new Oi({}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function ba(s){let e,n;return e=new Ei({}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function ka(s){let e,n;return e=new Ci({}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function $a(s){let e,n;return e=new ra({}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function wa(s){let e,n;return e=new Ki({}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function ya(s){let e,n;return e=new Ai({}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Ca(s){let e,n;return e=new pi({}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function qa(s){let e,n;return e=new ci({}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Sa(s){let e,n;return e=new ni({}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Pa(s){let e,n;return e=new Qo({}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Ma(s){let e,n;return e=new Ho({}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Ea(s){let e,n;return e=new Ao({}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Ia(s){let e,n;return e=new ko({}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function za(s){let e,n;return e=new Lo({}),{c(){x(e.$$.fragment)},m(t,l){j(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function fl(s){let e,n,t;return n=new ia({}),{c(){e=m("div"),x(n.$$.fragment),f(e,"class","spinner-container svelte-17c7hqb")},m(l,r){b(l,e,r),j(n,e,null),t=!0},i(l){t||(C(n.$$.fragment,l),t=!0)},o(l){S(n.$$.fragment,l),t=!1},d(l){l&&h(e),O(n)}}}function La(s){let e,n,t,l,r,a,i,o=s[1]&&cl(s),c=s[3]&&ul(s);const u=[za,Ia],d=[];function _(k,g){return k[5]==="setup"?0:1}l=_(s),r=d[l]=u[l](s);let $=s[6]&&fl();return{c(){e=m("main"),o&&o.c(),n=q(),c&&c.c(),t=q(),r.c(),a=q(),$&&$.c(),f(e,"id","main"),f(e,"class","svelte-17c7hqb"),pe(e,"theme-orange",s[0].theme==="orange"),pe(e,"theme-blue",s[0].theme==="blue"),pe(e,"mode-light",s[0].mode!==!1),pe(e,"mode-dark",s[0].mode===!1),pe(e,"layout-old",s[0].layout==="old")},m(k,g){b(k,e,g),o&&o.m(e,null),p(e,n),c&&c.m(e,null),p(e,t),d[l].m(e,null),p(e,a),$&&$.m(e,null),i=!0},p(k,[g]){k[1]?o?(o.p(k,g),g&2&&C(o,1)):(o=cl(k),o.c(),C(o,1),o.m(e,n)):o&&(ne(),S(o,1,1,()=>{o=null}),le()),k[3]?c?(c.p(k,g),g&8&&C(c,1)):(c=ul(k),c.c(),C(c,1),c.m(e,t)):c&&(ne(),S(c,1,1,()=>{c=null}),le());let v=l;l=_(k),l!==v&&(ne(),S(d[v],1,1,()=>{d[v]=null}),le(),r=d[l],r||(r=d[l]=u[l](k),r.c()),C(r,1),r.m(e,a)),k[6]?$?g&64&&C($,1):($=fl(),$.c(),C($,1),$.m(e,null)):$&&(ne(),S($,1,1,()=>{$=null}),le()),g&1&&pe(e,"theme-orange",k[0].theme==="orange"),g&1&&pe(e,"theme-blue",k[0].theme==="blue"),g&1&&pe(e,"mode-light",k[0].mode!==!1),g&1&&pe(e,"mode-dark",k[0].mode===!1),g&1&&pe(e,"layout-old",k[0].layout==="old")},i(k){i||(C(o),C(c),C(r),C($),i=!0)},o(k){S(o),S(c),S(r),S($),i=!1},d(k){k&&h(e),o&&o.d(),c&&c.d(),d[l].d(),$&&$.d()}}}function ja(s,e,n){let t,l,r,a,i,o,c;return A(s,ce,_=>n(0,t=_)),A(s,Oe,_=>n(1,l=_)),A(s,vt,_=>n(2,r=_)),A(s,U,_=>n(3,a=_)),A(s,fe,_=>n(4,i=_)),A(s,Te,_=>n(5,o=_)),A(s,Re,_=>n(6,c=_)),[t,l,r,a,i,o,c,async()=>{Te.set("setup"),Oe.set(!1),await be(),me.set("reconnect")},()=>{V(Oe,l=!1,l)}]}class Oa extends ee{constructor(e){super(),Z(this,e,ja,La,X,{})}}try{navigator.serviceWorker&&navigator.serviceWorker.register("../sw.js",{type:"classic"})}catch(s){console.error(s)}new Oa({target:document.getElementById("app")});
