const Cl=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))t(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerpolicy&&(r.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?r.credentials="include":l.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(l){if(l.ep)return;l.ep=!0;const r=n(l);fetch(l.href,r)}};Cl();function M(){}const bt=s=>s;function ql(s,e){for(const n in e)s[n]=e[n];return s}function Sl(s){return s&&typeof s=="object"&&typeof s.then=="function"}function il(s){return s()}function Bt(){return Object.create(null)}function ae(s){s.forEach(il)}function kt(s){return typeof s=="function"}function X(s,e){return s!=s?e==e:s!==e||s&&typeof s=="object"||typeof s=="function"}let it;function pe(s,e){return it||(it=document.createElement("a")),it.href=e,s===it.href}function Pl(s){return Object.keys(s).length===0}function Ml(s,...e){if(s==null)return M;const n=s.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function B(s,e,n){s.$$.on_destroy.push(Ml(e,n))}function Ct(s,e,n,t){if(s){const l=al(s,e,n,t);return s[0](l)}}function al(s,e,n,t){return s[1]&&t?ql(n.ctx.slice(),s[1](t(e))):n.ctx}function qt(s,e,n,t){if(s[2]&&t){const l=s[2](t(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const r=[],a=Math.max(e.dirty.length,l.length);for(let i=0;i<a;i+=1)r[i]=e.dirty[i]|l[i];return r}return e.dirty|l}return e.dirty}function St(s,e,n,t,l,r){if(l){const a=al(e,n,t,r);s.p(a,l)}}function Pt(s){if(s.ctx.length>32){const e=[],n=s.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function V(s,e,n){return s.set(n),e}const cl=typeof window!="undefined";let Et=cl?()=>window.performance.now():()=>Date.now(),It=cl?s=>requestAnimationFrame(s):M;const Be=new Set;function ul(s){Be.forEach(e=>{e.c(s)||(Be.delete(e),e.f())}),Be.size!==0&&It(ul)}function zt(s){let e;return Be.size===0&&It(ul),{promise:new Promise(n=>{Be.add(e={c:s,f:n})}),abort(){Be.delete(e)}}}function v(s,e){s.appendChild(e)}function fl(s){if(!s)return document;const e=s.getRootNode?s.getRootNode():s.ownerDocument;return e&&e.host?e:s.ownerDocument}function El(s){const e=p("style");return Il(fl(s),e),e.sheet}function Il(s,e){v(s.head||s,e)}function b(s,e,n){s.insertBefore(e,n||null)}function h(s){s.parentNode.removeChild(s)}function Lt(s,e){for(let n=0;n<s.length;n+=1)s[n]&&s[n].d(e)}function p(s){return document.createElement(s)}function z(s){return document.createTextNode(s)}function S(){return z(" ")}function Ie(){return z("")}function N(s,e,n,t){return s.addEventListener(e,n,t),()=>s.removeEventListener(e,n,t)}function _e(s){return function(e){return e.preventDefault(),s.call(this,e)}}function f(s,e,n){n==null?s.removeAttribute(e):s.getAttribute(e)!==n&&s.setAttribute(e,n)}function zl(s){return Array.from(s.childNodes)}function W(s,e){e=""+e,s.wholeText!==e&&(s.data=e)}function Oe(s,e,n,t){n===null?s.style.removeProperty(e):s.style.setProperty(e,n,t?"important":"")}function de(s,e,n){s.classList[n?"add":"remove"](e)}function dl(s,e,{bubbles:n=!1,cancelable:t=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(s,n,t,e),l}const _t=new Map;let gt=0;function Ll(s){let e=5381,n=s.length;for(;n--;)e=(e<<5)-e^s.charCodeAt(n);return e>>>0}function jl(s,e){const n={stylesheet:El(e),rules:{}};return _t.set(s,n),n}function vt(s,e,n,t,l,r,a,i=0){const o=16.666/t;let c=`{
`;for(let _=0;_<=1;_+=o){const w=e+(n-e)*r(_);c+=_*100+`%{${a(w,1-w)}}
`}const u=c+`100% {${a(n,1-n)}}
}`,d=`__svelte_${Ll(u)}_${i}`,g=fl(s),{stylesheet:$,rules:k}=_t.get(g)||jl(g,s);k[d]||(k[d]=!0,$.insertRule(`@keyframes ${d} ${u}`,$.cssRules.length));const m=s.style.animation||"";return s.style.animation=`${m?`${m}, `:""}${d} ${t}ms linear ${l}ms 1 both`,gt+=1,d}function jt(s,e){const n=(s.style.animation||"").split(", "),t=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),l=n.length-t.length;l&&(s.style.animation=t.join(", "),gt-=l,gt||Ol())}function Ol(){It(()=>{gt||(_t.forEach(s=>{const{stylesheet:e}=s;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);s.rules={}}),_t.clear())})}function tt(s,e,n,t){if(!e)return M;const l=s.getBoundingClientRect();if(e.left===l.left&&e.right===l.right&&e.top===l.top&&e.bottom===l.bottom)return M;const{delay:r=0,duration:a=300,easing:i=bt,start:o=Et()+r,end:c=o+a,tick:u=M,css:d}=n(s,{from:e,to:l},t);let g=!0,$=!1,k;function m(){d&&(k=vt(s,0,1,a,r,i,d)),r||($=!0)}function _(){d&&jt(s,k),g=!1}return zt(w=>{if(!$&&w>=o&&($=!0),$&&w>=c&&(u(1,0),_()),!g)return!1;if($){const y=w-o,P=0+1*i(y/a);u(P,1-P)}return!0}),m(),u(0,1),_}function nt(s){const e=getComputedStyle(s);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:n,height:t}=e,l=s.getBoundingClientRect();s.style.position="absolute",s.style.width=n,s.style.height=t,Ke(s,l)}}function Ke(s,e){const n=s.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const t=getComputedStyle(s),l=t.transform==="none"?"":t.transform;s.style.transform=`${l} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}let Ze;function Me(s){Ze=s}function $t(){if(!Ze)throw new Error("Function called outside component initialization");return Ze}function Ot(s){$t().$$.on_mount.push(s)}function Tl(s){$t().$$.on_destroy.push(s)}function xl(){const s=$t();return(e,n,{cancelable:t=!1}={})=>{const l=s.$$.callbacks[e];if(l){const r=dl(e,n,{cancelable:t});return l.slice().forEach(a=>{a.call(s,r)}),!r.defaultPrevented}return!0}}const Qe=[],Ue=[],dt=[],Ut=[],ml=Promise.resolve();let Mt=!1;function pl(){Mt||(Mt=!0,ml.then(Tt))}function ge(){return pl(),ml}function ke(s){dt.push(s)}const wt=new Set;let at=0;function Tt(){const s=Ze;do{for(;at<Qe.length;){const e=Qe[at];at++,Me(e),Nl(e.$$)}for(Me(null),Qe.length=0,at=0;Ue.length;)Ue.pop()();for(let e=0;e<dt.length;e+=1){const n=dt[e];wt.has(n)||(wt.add(n),n())}dt.length=0}while(Qe.length);for(;Ut.length;)Ut.pop()();Mt=!1,wt.clear(),Me(s)}function Nl(s){if(s.fragment!==null){s.update(),ae(s.before_update);const e=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,e),s.after_update.forEach(ke)}}let Ve;function _l(){return Ve||(Ve=Promise.resolve(),Ve.then(()=>{Ve=null})),Ve}function Xe(s,e,n){s.dispatchEvent(dl(`${e?"intro":"outro"}${n}`))}const mt=new Set;let qe;function te(){qe={r:0,c:[],p:qe}}function ne(){qe.r||ae(qe.c),qe=qe.p}function C(s,e){s&&s.i&&(mt.delete(s),s.i(e))}function q(s,e,n,t){if(s&&s.o){if(mt.has(s))return;mt.add(s),qe.c.push(()=>{mt.delete(s),t&&(n&&s.d(1),t())}),s.o(e)}else t&&t()}const gl={duration:0};function vl(s,e,n){let t=e(s,n),l=!0,r;const a=qe;a.r+=1;function i(){const{delay:o=0,duration:c=300,easing:u=bt,tick:d=M,css:g}=t||gl;g&&(r=vt(s,1,0,c,o,u,g));const $=Et()+o,k=$+c;ke(()=>Xe(s,!1,"start")),zt(m=>{if(l){if(m>=k)return d(0,1),Xe(s,!1,"end"),--a.r||ae(a.c),!1;if(m>=$){const _=u((m-$)/c);d(1-_,_)}}return l})}return kt(t)?_l().then(()=>{t=t(),i()}):i(),{end(o){o&&t.tick&&t.tick(1,0),l&&(r&&jt(s,r),l=!1)}}}function he(s,e,n,t){let l=e(s,n),r=t?0:1,a=null,i=null,o=null;function c(){o&&jt(s,o)}function u(g,$){const k=g.b-r;return $*=Math.abs(k),{a:r,b:g.b,d:k,duration:$,start:g.start,end:g.start+$,group:g.group}}function d(g){const{delay:$=0,duration:k=300,easing:m=bt,tick:_=M,css:w}=l||gl,y={start:Et()+$,b:g};g||(y.group=qe,qe.r+=1),a||i?i=y:(w&&(c(),o=vt(s,r,g,k,$,m,w)),g&&_(0,1),a=u(y,k),ke(()=>Xe(s,g,"start")),zt(P=>{if(i&&P>i.start&&(a=u(i,k),i=null,Xe(s,a.b,"start"),w&&(c(),o=vt(s,r,a.b,a.duration,0,m,l.css))),a){if(P>=a.end)_(r=a.b,1-r),Xe(s,a.b,"end"),i||(a.b?c():--a.group.r||ae(a.group.c)),a=null;else if(P>=a.start){const E=P-a.start;r=a.a+a.d*m(E/a.duration),_(r,1-r)}}return!!(a||i)}))}return{run(g){kt(l)?_l().then(()=>{l=l(),d(g)}):d(g)},end(){c(),a=i=null}}}function Ye(s,e){const n=e.token={};function t(l,r,a,i){if(e.token!==n)return;e.resolved=i;let o=e.ctx;a!==void 0&&(o=o.slice(),o[a]=i);const c=l&&(e.current=l)(o);let u=!1;e.block&&(e.blocks?e.blocks.forEach((d,g)=>{g!==r&&d&&(te(),q(d,1,1,()=>{e.blocks[g]===d&&(e.blocks[g]=null)}),ne())}):e.block.d(1),c.c(),C(c,1),c.m(e.mount(),e.anchor),u=!0),e.block=c,e.blocks&&(e.blocks[r]=c),u&&Tt()}if(Sl(s)){const l=$t();if(s.then(r=>{Me(l),t(e.then,1,e.value,r),Me(null)},r=>{if(Me(l),t(e.catch,2,e.error,r),Me(null),!e.hasCatch)throw r}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,s),!0;e.resolved=s}}function He(s,e,n){const t=e.slice(),{resolved:l}=s;s.current===s.then&&(t[s.value]=l),s.current===s.catch&&(t[s.error]=l),s.block.p(t,n)}function Rl(s,e){q(s,1,1,()=>{e.delete(s.key)})}function lt(s,e){s.f(),Rl(s,e)}function st(s,e,n,t,l,r,a,i,o,c,u,d){let g=s.length,$=r.length,k=g;const m={};for(;k--;)m[s[k].key]=k;const _=[],w=new Map,y=new Map;for(k=$;k--;){const I=d(l,r,k),L=n(I);let R=a.get(L);R?t&&R.p(I,e):(R=c(L,I),R.c()),w.set(L,_[k]=R),L in m&&y.set(L,Math.abs(k-m[L]))}const P=new Set,E=new Set;function j(I){C(I,1),I.m(i,u),a.set(I.key,I),u=I.first,$--}for(;g&&$;){const I=_[$-1],L=s[g-1],R=I.key,D=L.key;I===L?(u=I.first,g--,$--):w.has(D)?!a.has(R)||P.has(R)?j(I):E.has(D)?g--:y.get(R)>y.get(D)?(E.add(R),j(I)):(P.add(D),g--):(o(L,a),g--)}for(;g--;){const I=s[g];w.has(I.key)||o(I,a)}for(;$;)j(_[$-1]);return _}function x(s){s&&s.c()}function O(s,e,n,t){const{fragment:l,on_mount:r,on_destroy:a,after_update:i}=s.$$;l&&l.m(e,n),t||ke(()=>{const o=r.map(il).filter(kt);a?a.push(...o):ae(o),s.$$.on_mount=[]}),i.forEach(ke)}function T(s,e){const n=s.$$;n.fragment!==null&&(ae(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Al(s,e){s.$$.dirty[0]===-1&&(Qe.push(s),pl(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}function Z(s,e,n,t,l,r,a,i=[-1]){const o=Ze;Me(s);const c=s.$$={fragment:null,ctx:null,props:r,update:M,not_equal:l,bound:Bt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:Bt(),dirty:i,skip_bound:!1,root:e.target||o.$$.root};a&&a(c.root);let u=!1;if(c.ctx=n?n(s,e.props||{},(d,g,...$)=>{const k=$.length?$[0]:g;return c.ctx&&l(c.ctx[d],c.ctx[d]=k)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](k),u&&Al(s,d)),g}):[],c.update(),u=!0,ae(c.before_update),c.fragment=t?t(c.ctx):!1,e.target){if(e.hydrate){const d=zl(e.target);c.fragment&&c.fragment.l(d),d.forEach(h)}else c.fragment&&c.fragment.c();e.intro&&C(s.$$.fragment),O(s,e.target,e.anchor,e.customElement),Tt()}Me(o)}class ee{$destroy(){T(this,1),this.$destroy=M}$on(e,n){const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const l=t.indexOf(n);l!==-1&&t.splice(l,1)}}$set(e){this.$$set&&!Pl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ne=[];function ue(s,e=M){let n;const t=new Set;function l(i){if(X(s,i)&&(s=i,n)){const o=!Ne.length;for(const c of t)c[1](),Ne.push(c,s);if(o){for(let c=0;c<Ne.length;c+=2)Ne[c][0](Ne[c+1]);Ne.length=0}}}function r(i){l(i(s))}function a(i,o=M){const c=[i,o];return t.add(c),t.size===1&&(n=e(l)||M),i(s),()=>{t.delete(c),t.size===0&&(n(),n=null)}}return{set:l,update:r,subscribe:a}}const Te=ue("setup"),se=ue("home"),fe=ue("logo"),U=ue(!1),ce=ue(""),Le=ue(!1),pt=ue(""),Ee=ue(""),be=ue(""),et=ue([]),ye=ue({}),$e=ue([]),ht=ue({}),De=ue(""),Bl=ue(""),xt=ue(""),Ge=ue({}),ie=ue({name:null,lvl:0,unread_inbox:!1,theme:"orange",mode:!0,sfx:!0,bgm:!0,bgm_song:2,layout:"new",pfp_data:1,quote:""}),xe=ue(!1);function Ul(){var s=new Audio("../src/assets/menu_notify.wav");s.play()}function hl(){Ul()}function Dl(s){let e,n;const t=s[1].default,l=Ct(t,s,s[0],null);return{c(){e=p("div"),l&&l.c(),f(e,"class","svelte-6zv9mh")},m(r,a){b(r,e,a),l&&l.m(e,null),n=!0},p(r,[a]){l&&l.p&&(!n||a&1)&&St(l,t,r,r[0],n?qt(t,r[0],a,null):Pt(r[0]),null)},i(r){n||(C(l,r),n=!0)},o(r){q(l,r),n=!1},d(r){r&&h(e),l&&l.d(r)}}}function Gl(s,e,n){let{$$slots:t={},$$scope:l}=e;return s.$$set=r=>{"$$scope"in r&&n(0,l=r.$$scope)},[l,t]}class le extends ee{constructor(e){super(),Z(this,e,Gl,Dl,X,{})}}var Dt="./assets/icon_0.ab82a5ad.svg",Gt="./assets/icon_1.3649891f.svg",Kt="./assets/icon_10.4bd3e33c.svg",Yt="./assets/icon_100.026e1a7d.svg",Ht="./assets/icon_101.0a8d8a50.svg",Wt="./assets/icon_11.521812d2.svg",Ft="./assets/icon_12.0f7ed126.svg",Jt="./assets/icon_13.58e2dcbb.svg",Vt="./assets/icon_14.6513f659.svg",Qt="./assets/icon_15.d1b06a28.svg",Xt="./assets/icon_16.e5e55f53.svg",Zt="./assets/icon_17.39e35340.svg",en="./assets/icon_18.dc1f4b4e.svg",tn="./assets/icon_19.8ad18d14.svg",nn="./assets/icon_2.03a60034.svg",ln="./assets/icon_20.d1301d19.svg",sn="./assets/icon_21.2ef6b9a3.svg",rn="./assets/icon_22.c642b6ff.svg",on="./assets/icon_23.cd7c45d1.svg",an="./assets/icon_24.6026f708.svg",cn="./assets/icon_25.cc78b147.svg",un="./assets/icon_26.1722b6b8.svg",fn="./assets/icon_27.89761f19.svg",dn="./assets/icon_3.79effa11.svg",mn="./assets/icon_4.078d1185.svg",pn="./assets/icon_5.656d31e0.svg",_n="./assets/icon_6.d72d5ba2.svg",gn="./assets/icon_7.16e301c0.svg",vn="./assets/icon_8.515d5ae7.svg",hn="./assets/icon_9.25c74dcc.svg",bn="./assets/icon_err.8c194397.svg";function kn(s){let e;return{c(){e=p("span"),f(e,"class","online svelte-ss20c8")},m(n,t){b(n,e,t)},d(n){n&&h(e)}}}function Kl(s){let e,n,t,l,r,a,i,o=s[2]&&kn();return{c(){e=p("span"),o&&o.c(),n=S(),t=p("span"),l=p("img"),f(l,"alt",s[1]),f(l,"title",s[1]),pe(l.src,r=new URL({"./../assets/avatars/icon_0.svg":Dt,"./../assets/avatars/icon_1.svg":Gt,"./../assets/avatars/icon_10.svg":Kt,"./../assets/avatars/icon_100.svg":Yt,"./../assets/avatars/icon_101.svg":Ht,"./../assets/avatars/icon_11.svg":Wt,"./../assets/avatars/icon_12.svg":Ft,"./../assets/avatars/icon_13.svg":Jt,"./../assets/avatars/icon_14.svg":Vt,"./../assets/avatars/icon_15.svg":Qt,"./../assets/avatars/icon_16.svg":Xt,"./../assets/avatars/icon_17.svg":Zt,"./../assets/avatars/icon_18.svg":en,"./../assets/avatars/icon_19.svg":tn,"./../assets/avatars/icon_2.svg":nn,"./../assets/avatars/icon_20.svg":ln,"./../assets/avatars/icon_21.svg":sn,"./../assets/avatars/icon_22.svg":rn,"./../assets/avatars/icon_23.svg":on,"./../assets/avatars/icon_24.svg":an,"./../assets/avatars/icon_25.svg":cn,"./../assets/avatars/icon_26.svg":un,"./../assets/avatars/icon_27.svg":fn,"./../assets/avatars/icon_3.svg":dn,"./../assets/avatars/icon_4.svg":mn,"./../assets/avatars/icon_5.svg":pn,"./../assets/avatars/icon_6.svg":_n,"./../assets/avatars/icon_7.svg":gn,"./../assets/avatars/icon_8.svg":vn,"./../assets/avatars/icon_9.svg":hn,"./../assets/avatars/icon_err.svg":bn}[`./../assets/avatars/icon_${s[0]===-1?21:s[0]===-2?"err":s[0]-1}.svg`],self.location).href)||f(l,"src",r),f(l,"draggable",!1),f(l,"width","auto"),f(l,"height","100%"),f(l,"class","svelte-ss20c8"),de(l,"loading",s[0]===-1),f(t,"class","pfp svelte-ss20c8"),f(e,"class","pfp-container svelte-ss20c8"),de(e,"big",s[3])},m(c,u){b(c,e,u),o&&o.m(e,null),v(e,n),v(e,t),v(t,l),a||(i=N(l,"error",s[4],{once:!0}),a=!0)},p(c,[u]){c[2]?o||(o=kn(),o.c(),o.m(e,n)):o&&(o.d(1),o=null),u&2&&f(l,"alt",c[1]),u&2&&f(l,"title",c[1]),u&1&&!pe(l.src,r=new URL({"./../assets/avatars/icon_0.svg":Dt,"./../assets/avatars/icon_1.svg":Gt,"./../assets/avatars/icon_10.svg":Kt,"./../assets/avatars/icon_100.svg":Yt,"./../assets/avatars/icon_101.svg":Ht,"./../assets/avatars/icon_11.svg":Wt,"./../assets/avatars/icon_12.svg":Ft,"./../assets/avatars/icon_13.svg":Jt,"./../assets/avatars/icon_14.svg":Vt,"./../assets/avatars/icon_15.svg":Qt,"./../assets/avatars/icon_16.svg":Xt,"./../assets/avatars/icon_17.svg":Zt,"./../assets/avatars/icon_18.svg":en,"./../assets/avatars/icon_19.svg":tn,"./../assets/avatars/icon_2.svg":nn,"./../assets/avatars/icon_20.svg":ln,"./../assets/avatars/icon_21.svg":sn,"./../assets/avatars/icon_22.svg":rn,"./../assets/avatars/icon_23.svg":on,"./../assets/avatars/icon_24.svg":an,"./../assets/avatars/icon_25.svg":cn,"./../assets/avatars/icon_26.svg":un,"./../assets/avatars/icon_27.svg":fn,"./../assets/avatars/icon_3.svg":dn,"./../assets/avatars/icon_4.svg":mn,"./../assets/avatars/icon_5.svg":pn,"./../assets/avatars/icon_6.svg":_n,"./../assets/avatars/icon_7.svg":gn,"./../assets/avatars/icon_8.svg":vn,"./../assets/avatars/icon_9.svg":hn,"./../assets/avatars/icon_err.svg":bn}[`./../assets/avatars/icon_${c[0]===-1?21:c[0]===-2?"err":c[0]-1}.svg`],self.location).href)&&f(l,"src",r),u&1&&de(l,"loading",c[0]===-1),u&8&&de(e,"big",c[3])},i:M,o:M,d(c){c&&h(e),o&&o.d(),a=!1,i()}}}function Yl(s,e,n){let{icon:t=-1}=e,{alt:l="Profile picture"}=e,{online:r=!1}=e,{big:a=!1}=e;const i=()=>n(0,t=-2);return s.$$set=o=>{"icon"in o&&n(0,t=o.icon),"alt"in o&&n(1,l=o.alt),"online"in o&&n(2,r=o.online),"big"in o&&n(3,a=o.big)},[t,l,r,a,i]}class We extends ee{constructor(e){super(),Z(this,e,Yl,Kl,X,{icon:0,alt:1,online:2,big:3})}}function Hl(s){let e;return{c(){e=z(s[1])},m(n,t){b(n,e,t)},p(n,t){t&2&&W(e,n[1])},d(n){n&&h(e)}}}function Wl(s){let e=s[1]+" [BRIDGED]",n;return{c(){n=z(e)},m(t,l){b(t,n,l)},p(t,l){l&2&&e!==(e=t[1]+" [BRIDGED]")&&W(n,e)},d(t){t&&h(n)}}}function Fl(s){let e;function n(r,a){return r[0]?Wl:Hl}let t=n(s),l=t(s);return{c(){e=p("span"),l.c(),f(e,"title",s[2]),f(e,"class","date svelte-190wm28")},m(r,a){b(r,e,a),l.m(e,null)},p(r,[a]){t===(t=n(r))&&l?l.p(r,a):(l.d(1),l=t(r),l&&(l.c(),l.m(e,null))),a&4&&f(e,"title",r[2])},i:M,o:M,d(r){r&&h(e),l.d()}}}function Jl(s,e,n){let{date:t=0}=e,{bridged:l=!1}=e,r,a;return s.$$set=i=>{"date"in i&&n(3,t=i.date),"bridged"in i&&n(0,l=i.bridged)},s.$$.update=()=>{if(s.$$.dirty&8){const i=new Date(t*1e3);n(1,r=i.toLocaleString()),n(2,a=`Time is in your local timezone (UTC+${-(i.getTimezoneOffset()/60)}).
12-hour time: ${i.toLocaleString([],{hourCycle:"h11"})}
24-hour time: ${i.toLocaleString([],{hourCycle:"h23"})}
ISO: ${i.toISOString()}`)}},[l,r,a,t]}class Vl extends ee{constructor(e){super(),Z(this,e,Jl,Fl,X,{date:3,bridged:0})}}window.onkeydown=function(s){s||(s=window.event),rt=s.shiftKey};window.onkeyup=function(s){s||(s=window.event),rt=s.shiftKey};window.onmousemove=function(s){s||(s=window.event),rt=s.shiftKey};let rt;function ze(s){return new Promise(e=>setTimeout(e,s))}const Ql=localStorage.getItem("meower_linkurl")||"wss://server.meower.org/",Se=localStorage.getItem("meower_apiurl")||"https://api.meower.org/",Fe=localStorage.getItem("meower_encodeapi")||!1;class Xl{constructor(e){return this.events={},this._numevents=1,this.ip=null,e&&this.connect(e),this}_console(e,n,t){const l=Array.from(arguments).slice(2),r="%o".repeat(l.length);console[e](`%cCLJS%c${n}%c ${r}`,"background:#0fbd8c;color:white;font-weight:bold;border-radius:4px 0 0 4px;padding:0 3px;display:inline-block","background:#000;color:white;font-weight:bold;border-radius:0 4px 4px 0;padding:0 3px;display:inline-block","",...l)}log(e,n){this._console.apply(this,["log",...arguments])}warn(e,n){this._console.apply(this,["warn",...arguments])}error(e,n){this._console.apply(this,["error",...arguments])}connect(e){return new Promise((n,t)=>{try{this.ws&&this.ws.readyState===1&&(this.log("connection","already connected, disconnecting..."),this.disconnect(1e3,"Intentional disconnect")),this.ws=new WebSocket(e),this.emit("connectionstart"),this.ws.addEventListener("open",async()=>{try{this.log("connection","connected to websockets");const l=localStorage.getItem("meower_ip");l||l===""?this.ip=l:this.ip=await(await fetch(Se+"ip")).text(),this.send({cmd:"direct",val:{cmd:"ip",val:this.ip}}),await ze(100),this.send({cmd:"direct",val:{cmd:"type",val:"js"},listener:"send_type"});const r=this.sendListener({cmd:"direct",val:"meower",listener:"send_tkey"},a=>{a.cmd==="statuscode"&&(this.off(r),a.val==="I:100 | OK"?(n(),this.log("connection","successfully connected")):(t(a.val),this.error("connection","error connecting; code:",a.val)))});this.emit("connected")}catch(l){this.error("connection","error connecting:",l),t(l)}}),this.ws.addEventListener("message",l=>{const r=JSON.parse(l.data);this.log("< incoming",r),this.emit(r.cmd,r),r.listener&&this.emit("__listener_"+r.listener,r)}),this.ws.addEventListener("close",l=>{this.log("connection","disconnected with code ",l.code," and reason",l.reason),this.emit("disconnected",l)}),this.ws.addEventListener("error",l=>{this.error("connection","error:",l),this.emit("error",l)})}catch(l){t(l)}})}send(e){if(!this.ws||this.ws.readyState!==1)throw new Error("Not connected; use link.connect(server) to connect");this.log("> outgoing",e),this.ws.send(JSON.stringify(e))}sendListener(e,n){if(!e.listener)throw new Error("data must have a listener");return this.send(e),this.onListener(e.listener,n)}on(e,n){this._numevents++;const t=(this._numevents-1).toString();return this.events[t]={event:e,cb:n},t}onListener(e,n){return this.on("__listener_"+e,n)}off(e){if(!this.events[e])throw new Error("Tried to remove nonexistent listener");delete this.events[e]}once(e,n){const t=this.on(e,()=>{n(arguments),this.off(t)})}emit(e,n){Object.values(this.events).forEach(t=>{t.event===e&&t.cb(n)})}disconnect(e,n){!this.ws||this.ws.readyState!==1||(console.log(e,n),this.ws.close(e,n))}}function Nt(){return{name:null,theme:"orange",mode:!0,sfx:!0,bgm:!0,bgm_song:2,layout:"new",pfp_data:1,quote:""}}let Re=null;ie.subscribe(s=>Re=s);const G=new Xl;window.cljs=G;G.log("manager","started");let yt=null,je=null,ct=null,ut=null,ft=null,Ce=null;async function Zl(){yt&&(G.off(yt),je=null),je&&(G.off(je),je=null),ct&&(G.off(ct),ct=null),ut&&(G.off(ut),ut=null),ft&&(G.off(ft),ft=null),Ce&&(clearInterval(Ce),Ce=null),pt.set(""),G.once("connectionstart",()=>{yt=G.on("connected",()=>{Le.set(!1),Ce=setInterval(()=>{G.send({cmd:"ping",val:""})},1e4)}),je=G.on("disconnected",s=>{$e.set([]),s.reason!=="Intentional disconnect"&&Le.set(!0);let e=Nt();e.theme=Re.theme,e.mode=Re.mode,ie.set(e),Ce&&(clearInterval(Ce),Ce=null)}),ct=G.on("ulist",s=>{const e=s.val.split(";");e[e.length-1]===""&&e.pop(),$e.set(e)}),ut=G.on("direct",s=>{s.val.mode=="inbox_message"&&(Re.unread_inbox=!0,ie.set(Re))}),ft=G.on("direct",s=>{(s.val=="E:018 | Account Banned"||s.val=="E:020 | Kicked"||s.val=="E:110 | ID conflict"||s.val=="E:119 | IP Blocked")&&(G.disconnect(),pt.set(s.val),Le.set(!0),G.log("manager","requested disconnect:",s.val))})}),Le.set(!1);try{return await G.connect(Ql)}catch(s){return G.disconnect(),pt.set(s),Le.set(!0),G.error("manager","conenction error:",s),s}}async function $n(){return G.ws?G.ws.readyState!==1?(G.log("manager","already disconnected or disconnecting, cancelling safe disconnect"),new Promise(s=>s())):(G.log("manager","safely disconnecting"),new Promise(s=>{$e.set([]),ie.set(Nt()),je&&(G.off(je),je=null),Ce&&(clearInterval(Ce),Ce=null),G.once("disconnected",s),G.disconnect(1e3,"Intentional disconnect")})):(G.log("manager","websocket not present, cancelling safe disconnect"),new Promise(s=>s()))}async function re(s){return G.log("manager","meower request",s),xe.set(!0),new Promise((e,n)=>{let t=null;const l=setTimeout(()=>{n("Timed out"),xe.set(!1)},1e4),r=G.sendListener({...s,listener:"listener_"+Math.floor(Math.random()*1e7)},a=>{a.cmd==="statuscode"?(G.off(r),xe.set(!1),clearTimeout(l),a.val==="I:100 | OK"?e(t):n(a.val)):a.cmd==="direct"&&(t=a.val)})})}async function Ae(){const s=Re;return re({cmd:"direct",val:{cmd:"update_config",val:{unread_inbox:s.unread_inbox,theme:s.theme,mode:s.mode,sfx:s.sfx,bgm:s.bgm,bgm_song:s.bgm_song,layout:s.layout,pfp_data:s.pfp_data,quote:s.quote}}})}function wn(s){let e,n,t=s[0].user!=="Notification"&&s[0].user!=="Announcement"&&yn(s);function l(i,o){return i[4].lvl>=1||i[0].user===i[4].name?ts:es}let r=l(s),a=r(s);return{c(){t&&t.c(),e=S(),a.c(),n=Ie()},m(i,o){t&&t.m(i,o),b(i,e,o),a.m(i,o),b(i,n,o)},p(i,o){i[0].user!=="Notification"&&i[0].user!=="Announcement"?t?t.p(i,o):(t=yn(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),r===(r=l(i))&&a?a.p(i,o):(a.d(1),a=r(i),a&&(a.c(),a.m(n.parentNode,n)))},d(i){t&&t.d(i),i&&h(e),a.d(i),i&&h(n)}}}function yn(s){let e,n,t;return{c(){e=p("button"),f(e,"class","circle join svelte-r298n5")},m(l,r){b(l,e,r),n||(t=N(e,"click",s[7]),n=!0)},p:M,d(l){l&&h(e),n=!1,t()}}}function es(s){let e,n,t;return{c(){e=p("button"),f(e,"class","circle report svelte-r298n5")},m(l,r){b(l,e,r),n||(t=N(e,"click",s[9]),n=!0)},p:M,d(l){l&&h(e),n=!1,t()}}}function ts(s){let e,n,t;return{c(){e=p("button"),f(e,"class","circle close svelte-r298n5")},m(l,r){b(l,e,r),n||(t=N(e,"click",s[8]),n=!0)},p:M,d(l){l&&h(e),n=!1,t()}}}function ns(s){let e,n,t,l,r,a,i,o,c=s[0].user+"",u,d,g,$,k,m=s[0].content+"",_,w,y,P,E=s[1]&&s[4].name&&s[5]!=="livechat"&&s[0].user!=="Server"&&wn(s);return r=new We({props:{icon:s[3][s[0].user]?s[3][s[0].user].pfp_data:-3,alt:s[0].user+"'s profile picture",online:s[6].includes(s[0].user)}}),g=new Vl({props:{date:s[0].date,bridged:s[2]}}),{c(){e=p("div"),n=p("div"),E&&E.c(),t=S(),l=p("button"),x(r.$$.fragment),a=S(),i=p("div"),o=p("h2"),u=z(c),d=S(),x(g.$$.fragment),$=S(),k=p("p"),_=z(m),f(n,"class","settings-controls svelte-r298n5"),f(l,"class","pfp svelte-r298n5"),f(o,"class","creator svelte-r298n5"),f(i,"class","creator svelte-r298n5"),f(e,"class","post-header svelte-r298n5"),f(k,"class","post-content svelte-r298n5")},m(j,I){b(j,e,I),v(e,n),E&&E.m(n,null),v(e,t),v(e,l),O(r,l,null),v(e,a),v(e,i),v(i,o),v(o,u),v(i,d),O(g,i,null),b(j,$,I),b(j,k,I),v(k,_),w=!0,y||(P=N(l,"click",s[10]),y=!0)},p(j,I){j[1]&&j[4].name&&j[5]!=="livechat"&&j[0].user!=="Server"?E?E.p(j,I):(E=wn(j),E.c(),E.m(n,null)):E&&(E.d(1),E=null);const L={};I&9&&(L.icon=j[3][j[0].user]?j[3][j[0].user].pfp_data:-3),I&1&&(L.alt=j[0].user+"'s profile picture"),I&65&&(L.online=j[6].includes(j[0].user)),r.$set(L),(!w||I&1)&&c!==(c=j[0].user+"")&&W(u,c);const R={};I&1&&(R.date=j[0].date),I&4&&(R.bridged=j[2]),g.$set(R),(!w||I&1)&&m!==(m=j[0].content+"")&&W(_,m)},i(j){w||(C(r.$$.fragment,j),C(g.$$.fragment,j),w=!0)},o(j){q(r.$$.fragment,j),q(g.$$.fragment,j),w=!1},d(j){j&&h(e),E&&E.d(),T(r),T(g),j&&h($),j&&h(k),y=!1,P()}}}function ls(s){let e,n;return e=new le({props:{$$slots:{default:[ns]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p(t,[l]){const r={};l&4223&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function ss(s,e,n){let t,l,r,a;B(s,ye,m=>n(3,t=m)),B(s,ie,m=>n(4,l=m)),B(s,be,m=>n(5,r=m)),B(s,$e,m=>n(6,a=m));let{post:i={}}=e,{buttons:o=!0}=e,c=!1;function u(){if(!i.user)return;i.user=="Discord"&&i.content.includes(":")&&n(2,c=!0);var m="";i.user=="Discord"&&i.content.includes(":")&&(n(0,i.user=i.content.split(": ")[0],i),n(0,i.content=i.content.slice(i.content.indexOf(": ")+1),i)),m=i.user;const _=async()=>{let y=t;if(m==="Notification"){y[m]={pfp_data:101},ye.set(y);return}else if(m==="Announcement"){y[m]={pfp_data:102},ye.set(y);return}else if(m==="Server"){y[m]={pfp_data:102},ye.set(y);return}y[m]={pfp_data:-1},ye.set(y),fetch(`${Se}/users/${m}`).then(P=>P.json()).then(P=>{y[m]=P,console.log(P),ye.set(y)}).catch(P=>{console.log(P),y[m]={error:!0,pfp_data:-2,temporary:!0},ye.set(y)})},w=t;w[m]?w[m].temporary&&_():_()}Ot(u);const d=()=>{document.getElementById("postinput").value="@"+i.user,document.getElementById("postinput").focus()},g=()=>{if(rt){re({cmd:"direct",val:{cmd:"delete_post",val:i.post_id}});return}ht.set(i),ce.set("deletePost"),U.set(!0)},$=()=>{ht.set(i),ce.set("reportPost"),U.set(!0)},k=()=>{!o||i.user==="Notification"||i.user==="Announcement"||i.user==="Server"||(De.set(i.user),se.set("profile"))};return s.$$set=m=>{"post"in m&&n(0,i=m.post),"buttons"in m&&n(1,o=m.buttons)},[i,o,c,t,l,r,a,d,g,$,k]}class Je extends ee{constructor(e){super(),Z(this,e,ss,ls,X,{post:0,buttons:1})}}function rs(s){let e;return{c(){e=p("span"),e.innerHTML='<span class="circle circle1 svelte-idse3p"></span><span class="circle circle2 svelte-idse3p"></span><span class="circle circle3 svelte-idse3p"></span>',f(e,"class","loading svelte-idse3p")},m(n,t){b(n,e,t)},p:M,i:M,o:M,d(n){n&&h(e)}}}class ve extends ee{constructor(e){super(),Z(this,e,null,rs,X,{})}}function Rt(s){const e=s-1;return e*e*e+1}function bl(s,{delay:e=0,duration:n=400,easing:t=bt}={}){const l=+getComputedStyle(s).opacity;return{delay:e,duration:n,easing:t,css:r=>`opacity: ${r*l}`}}function Pe(s,{delay:e=0,duration:n=400,easing:t=Rt,x:l=0,y:r=0,opacity:a=0}={}){const i=getComputedStyle(s),o=+i.opacity,c=i.transform==="none"?"":i.transform,u=o*(1-a);return{delay:e,duration:n,easing:t,css:(d,g)=>`
			transform: ${c} translate(${(1-d)*l}px, ${(1-d)*r}px);
			opacity: ${o-u*g}`}}function Cn(s,{delay:e=0,duration:n=400,easing:t=Rt,start:l=0,opacity:r=0}={}){const a=getComputedStyle(s),i=+a.opacity,o=a.transform==="none"?"":a.transform,c=1-l,u=i*(1-r);return{delay:e,duration:n,easing:t,css:(d,g)=>`
			transform: ${o} scale(${1-c*g});
			opacity: ${i-u*g}
		`}}function ot(s,{from:e,to:n},t={}){const l=getComputedStyle(s),r=l.transform==="none"?"":l.transform,[a,i]=l.transformOrigin.split(" ").map(parseFloat),o=e.left+e.width*a/n.width-(n.left+a),c=e.top+e.height*i/n.height-(n.top+i),{delay:u=0,duration:d=$=>Math.sqrt($)*120,easing:g=Rt}=t;return{delay:u,duration:kt(d)?d(Math.sqrt(o*o+c*c)):d,easing:g,css:($,k)=>{const m=k*o,_=k*c,w=$+k*e.width/n.width,y=$+k*e.height/n.height;return`transform: ${r} translate(${m}px, ${_}px) scale(${w}, ${y});`}}}function qn(s,e,n){const t=s.slice();return t[16]=e[n],t}function os(s){let e,n;return e=new le({props:{$$slots:{default:[is]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p(t,l){const r={};l&1048576&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function is(s){let e,n,t,l,r=s[19]+"",a;return{c(){e=p("h1"),e.textContent="Home",n=z(`\r
			Error loading posts. Please try again.\r
			`),t=p("pre"),l=p("code"),a=z(r)},m(i,o){b(i,e,o),b(i,n,o),b(i,t,o),v(t,l),v(l,a)},p:M,d(i){i&&h(e),i&&h(n),i&&h(t)}}}function as(s){let e,n,t,l,r,a,i,o,c,u;e=new le({props:{$$slots:{default:[cs]},$$scope:{ctx:s}}});let d=s[6].name&&Pn(s);const g=[fs,us],$=[];function k(y,P){return y[0].length<1?0:1}l=k(s),r=$[l]=g[l](s);const m=[_s,ps],_=[];function w(y,P){return y[2]?0:y[3]&&y[3]>y[1]?1:-1}return~(o=w(s))&&(c=_[o]=m[o](s)),{c(){x(e.$$.fragment),n=S(),d&&d.c(),t=S(),r.c(),a=S(),i=p("div"),c&&c.c(),f(i,"class","center svelte-jtrv5i")},m(y,P){O(e,y,P),b(y,n,P),d&&d.m(y,P),b(y,t,P),$[l].m(y,P),b(y,a,P),b(y,i,P),~o&&_[o].m(i,null),u=!0},p(y,P){const E={};P&1048608&&(E.$$scope={dirty:P,ctx:y}),e.$set(E),y[6].name?d?d.p(y,P):(d=Pn(y),d.c(),d.m(t.parentNode,t)):d&&(d.d(1),d=null);let j=l;l=k(y),l===j?$[l].p(y,P):(te(),q($[j],1,1,()=>{$[j]=null}),ne(),r=$[l],r?r.p(y,P):(r=$[l]=g[l](y),r.c()),C(r,1),r.m(a.parentNode,a));let I=o;o=w(y),o===I?~o&&_[o].p(y,P):(c&&(te(),q(_[I],1,1,()=>{_[I]=null}),ne()),~o?(c=_[o],c?c.p(y,P):(c=_[o]=m[o](y),c.c()),C(c,1),c.m(i,null)):c=null)},i(y){u||(C(e.$$.fragment,y),C(r),C(c),u=!0)},o(y){q(e.$$.fragment,y),q(r),q(c),u=!1},d(y){T(e,y),y&&h(n),d&&d.d(y),y&&h(t),$[l].d(y),y&&h(a),y&&h(i),~o&&_[o].d()}}}function Sn(s){let e=" ",n,t,l=s[5].join(", ")+"",r,a;return{c(){n=z(e),t=z("("),r=z(l),a=z(")")},m(i,o){b(i,n,o),b(i,t,o),b(i,r,o),b(i,a,o)},p(i,o){o&32&&l!==(l=i[5].join(", ")+"")&&W(r,l)},d(i){i&&h(n),i&&h(t),i&&h(r),i&&h(a)}}}function cs(s){let e,n,t=s[5].length+"",l,r,a,i=s[5].length&&Sn(s);return{c(){e=p("h1"),e.textContent="Home",n=z(`\r
			There are currently `),l=z(t),r=z(" user(s) online"),i&&i.c(),a=z(".")},m(o,c){b(o,e,c),b(o,n,c),b(o,l,c),b(o,r,c),i&&i.m(o,c),b(o,a,c)},p(o,c){c&32&&t!==(t=o[5].length+"")&&W(l,t),o[5].length?i?i.p(o,c):(i=Sn(o),i.c(),i.m(a.parentNode,a)):i&&(i.d(1),i=null)},d(o){o&&h(e),o&&h(n),o&&h(l),o&&h(r),i&&i.d(o),o&&h(a)}}}function Pn(s){let e,n,t,l,r,a;return{c(){e=p("form"),e.innerHTML=`<input type="text" class="white svelte-jtrv5i" placeholder="Write something..." id="postinput" name="postinput" autocomplete="false" maxlength="250"/> 
				<button>Post</button>`,n=S(),t=p("div"),l=z(s[4]),f(e,"class","createpost svelte-jtrv5i"),f(t,"class","post-errors svelte-jtrv5i")},m(i,o){b(i,e,o),b(i,n,o),b(i,t,o),v(t,l),r||(a=N(e,"submit",_e(s[8])),r=!0)},p(i,o){o&16&&W(l,i[4])},d(i){i&&h(e),i&&h(n),i&&h(t),r=!1,a()}}}function us(s){let e=[],n=new Map,t,l,r=s[0];const a=i=>i[16].id;for(let i=0;i<r.length;i+=1){let o=qn(s,r,i),c=a(o);n.set(c,e[i]=Mn(c,o))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=Ie()},m(i,o){for(let c=0;c<e.length;c+=1)e[c].m(i,o);b(i,t,o),l=!0},p(i,o){if(o&1){r=i[0],te();for(let c=0;c<e.length;c+=1)e[c].r();e=st(e,o,a,1,i,r,n,t.parentNode,lt,Mn,t,qn);for(let c=0;c<e.length;c+=1)e[c].a();ne()}},i(i){if(!l){for(let o=0;o<r.length;o+=1)C(e[o]);l=!0}},o(i){for(let o=0;o<e.length;o+=1)q(e[o]);l=!1},d(i){for(let o=0;o<e.length;o+=1)e[o].d(i);i&&h(t)}}}function fs(s){let e;function n(r,a){return r[6].name?ms:ds}let t=n(s),l=t(s);return{c(){l.c(),e=Ie()},m(r,a){l.m(r,a),b(r,e,a)},p(r,a){t!==(t=n(r))&&(l.d(1),l=t(r),l&&(l.c(),l.m(e.parentNode,e)))},i:M,o:M,d(r){l.d(r),r&&h(e)}}}function Mn(s,e){let n,t,l,r,a,i=M,o;return t=new Je({props:{post:e[16]}}),{key:s,first:null,c(){n=p("div"),x(t.$$.fragment),l=S(),this.first=n},m(c,u){b(c,n,u),O(t,n,null),v(n,l),o=!0},p(c,u){e=c;const d={};u&1&&(d.post=e[16]),t.$set(d)},r(){a=n.getBoundingClientRect()},f(){nt(n),i(),Ke(n,a)},a(){i(),i=tt(n,a,ot,{duration:250})},i(c){o||(C(t.$$.fragment,c),c&&ke(()=>{r||(r=he(n,Pe,{y:-50,duration:250},!0)),r.run(1)}),o=!0)},o(c){q(t.$$.fragment,c),c&&(r||(r=he(n,Pe,{y:-50,duration:250},!1)),r.run(0)),o=!1},d(c){c&&h(n),T(t),c&&r&&r.end()}}}function ds(s){let e;return{c(){e=z("No posts here. Check back later!")},m(n,t){b(n,e,t)},d(n){n&&h(e)}}}function ms(s){let e;return{c(){e=z("No posts here. Check back later or be the first to post!")},m(n,t){b(n,e,t)},d(n){n&&h(e)}}}function ps(s){let e,n,t;return{c(){e=p("button"),e.textContent="Load More",f(e,"class","load-more svelte-jtrv5i")},m(l,r){b(l,e,r),n||(t=N(e,"click",s[9]),n=!0)},p:M,i:M,o:M,d(l){l&&h(e),n=!1,t()}}}function _s(s){let e,n;return e=new ve({}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p:M,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function gs(s){let e,n,t;return n=new ve({}),{c(){e=p("div"),x(n.$$.fragment),f(e,"class","fullcenter svelte-jtrv5i")},m(l,r){b(l,e,r),O(n,e,null),t=!0},p:M,i(l){t||(C(n.$$.fragment,l),t=!0)},o(l){q(n.$$.fragment,l),t=!1},d(l){l&&h(e),T(n)}}}function vs(s){let e,n,t={ctx:s,current:null,token:null,hasCatch:!0,pending:gs,then:as,catch:os,error:19,blocks:[,,,]};return Ye(s[7](1),t),{c(){e=p("div"),t.block.c(),f(e,"class","home svelte-jtrv5i")},m(l,r){b(l,e,r),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null,n=!0},p(l,[r]){s=l,He(t,s,r)},i(l){n||(C(t.block),n=!0)},o(l){for(let r=0;r<3;r+=1){const a=t.blocks[r];q(a)}n=!1},d(l){l&&h(e),t.block.d(),t.token=null,t=null}}}function hs(s,e,n){let t,l,r;B(s,$e,P=>n(12,t=P)),B(s,ie,P=>n(6,l=P)),B(s,se,P=>n(13,r=P));let a=0,{posts:i=[]}=e,o=0,c=!1,u=null,d="",g=0;async function $(P){if(n(2,c=!0),P===void 0)n(0,i=[]);else{let E=P+Math.floor(g/25),j=g%25;try{let I="home?autoget&page=";Fe&&(I=encodeURIComponent(I));const L=await fetch(`${Se}${I}${E}`);if(!L.ok)throw new Error("Response code is not OK; code is "+L.status);const R=await L.json();let D=R.autoget;D.splice(0,j),n(3,u=R.pages);let A,H;if(j>0&&o<u){if(A=await fetch(`${Se}${I}${E+1}`),!L.ok)throw new Error("Overflow response code is not OK; code is "+L.status);H=await A.json(),D=D.concat(H.autoget.slice(0,j))}for(const Q of D)i.push({id:a++,post_id:Q.post_id,user:Q.u,content:Q.p,date:Q.t.e});n(1,o=P)}catch(I){throw n(2,c=!1),I}}return n(0,i),n(2,c=!1),i}function k(P){i.unshift({id:a++,...P}),n(0,i)}function m(){G.on("direct",P=>{if(r==="home"&&P.val.mode===1){if(P.val.post_origin!=="home")return;k({post_id:P.val._id,user:P.val.u,content:P.val.p,date:P.val.t.e}),g++,n(0,i),l.sfx&&P.val.u!==l.name&&hl()}P.val.mode==="delete"&&n(0,i=i.filter(E=>E.post_id!==P.val.id))})}G.ws.readyState===1?m():G.ws.addEventListener("open",m);let _=t;$e.subscribe(P=>{n(5,_=P)});const w=P=>{if(n(4,d=""),!P.target[0].value.trim())return n(4,d="You cannot send an empty post!"),!1;xe.set(!0),P.target[1].disabled=!0,G.send({cmd:"direct",val:{cmd:"post_home",val:P.target[0].value},listener:"post_home"});const E=G.on("statuscode",j=>{j.listener==="post_home"&&(G.off(E),xe.set(!1),P.target[1].disabled=!1,j.val==="I:100 | OK"?P.target[0].value="":j.val==="E:106 | Too many requests"?n(4,d="You're posting too fast!"):n(4,d="Unexpected "+j.val+" error!"))});return!1},y=()=>$(o+1);return s.$$set=P=>{"posts"in P&&n(0,i=P.posts)},[i,o,c,u,d,_,l,$,w,y]}class bs extends ee{constructor(e){super(),Z(this,e,hs,vs,X,{posts:0})}}function En(s,e,n){const t=s.slice();return t[10]=e[n],t}function ks(s){let e,n;return e=new le({props:{$$slots:{default:[$s]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p(t,l){const r={};l&16384&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function $s(s){let e,n,t,l,r=s[13]+"",a;return{c(){e=p("h1"),e.textContent="Inbox Messages",n=z(`\r
			Error loading messages. Please try again.\r
			`),t=p("pre"),l=p("code"),a=z(r)},m(i,o){b(i,e,o),b(i,n,o),b(i,t,o),v(t,l),v(l,a)},p:M,d(i){i&&h(e),i&&h(n),i&&h(t)}}}function ws(s){let e,n,t,l,r,a,i,o,c;e=new le({props:{$$slots:{default:[ys]},$$scope:{ctx:s}}});const u=[qs,Cs],d=[];function g(_,w){return _[0].length<1?0:1}t=g(s),l=d[t]=u[t](s);const $=[Ps,Ss],k=[];function m(_,w){return _[2]?0:_[3]&&_[3]>_[1]?1:-1}return~(i=m(s))&&(o=k[i]=$[i](s)),{c(){x(e.$$.fragment),n=S(),l.c(),r=S(),a=p("div"),o&&o.c(),f(a,"class","center svelte-1y77739")},m(_,w){O(e,_,w),b(_,n,w),d[t].m(_,w),b(_,r,w),b(_,a,w),~i&&k[i].m(a,null),c=!0},p(_,w){const y={};w&16384&&(y.$$scope={dirty:w,ctx:_}),e.$set(y);let P=t;t=g(_),t===P?d[t].p(_,w):(te(),q(d[P],1,1,()=>{d[P]=null}),ne(),l=d[t],l?l.p(_,w):(l=d[t]=u[t](_),l.c()),C(l,1),l.m(r.parentNode,r));let E=i;i=m(_),i===E?~i&&k[i].p(_,w):(o&&(te(),q(k[E],1,1,()=>{k[E]=null}),ne()),~i?(o=k[i],o?o.p(_,w):(o=k[i]=$[i](_),o.c()),C(o,1),o.m(a,null)):o=null)},i(_){c||(C(e.$$.fragment,_),C(l),C(o),c=!0)},o(_){q(e.$$.fragment,_),q(l),q(o),c=!1},d(_){T(e,_),_&&h(n),d[t].d(_),_&&h(r),_&&h(a),~i&&k[i].d()}}}function ys(s){let e,n;return{c(){e=p("h1"),e.textContent="Inbox Messages",n=z(`\r
			Here are your latest inbox messages. We will send announcements and moderator messages to here!`)},m(t,l){b(t,e,l),b(t,n,l)},p:M,d(t){t&&h(e),t&&h(n)}}}function Cs(s){let e=[],n=new Map,t,l,r=s[0];const a=i=>i[10].id;for(let i=0;i<r.length;i+=1){let o=En(s,r,i),c=a(o);n.set(c,e[i]=In(c,o))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=Ie()},m(i,o){for(let c=0;c<e.length;c+=1)e[c].m(i,o);b(i,t,o),l=!0},p(i,o){if(o&1){r=i[0],te();for(let c=0;c<e.length;c+=1)e[c].r();e=st(e,o,a,1,i,r,n,t.parentNode,lt,In,t,En);for(let c=0;c<e.length;c+=1)e[c].a();ne()}},i(i){if(!l){for(let o=0;o<r.length;o+=1)C(e[o]);l=!0}},o(i){for(let o=0;o<e.length;o+=1)q(e[o]);l=!1},d(i){for(let o=0;o<e.length;o+=1)e[o].d(i);i&&h(t)}}}function qs(s){let e;return{c(){e=z("No messages yet. Check back later!")},m(n,t){b(n,e,t)},p:M,i:M,o:M,d(n){n&&h(e)}}}function In(s,e){let n,t,l,r,a,i=M,o;return t=new Je({props:{post:e[10]}}),{key:s,first:null,c(){n=p("div"),x(t.$$.fragment),l=S(),this.first=n},m(c,u){b(c,n,u),O(t,n,null),v(n,l),o=!0},p(c,u){e=c;const d={};u&1&&(d.post=e[10]),t.$set(d)},r(){a=n.getBoundingClientRect()},f(){nt(n),i(),Ke(n,a)},a(){i(),i=tt(n,a,ot,{duration:250})},i(c){o||(C(t.$$.fragment,c),c&&ke(()=>{r||(r=he(n,Pe,{y:-50,duration:250},!0)),r.run(1)}),o=!0)},o(c){q(t.$$.fragment,c),c&&(r||(r=he(n,Pe,{y:-50,duration:250},!1)),r.run(0)),o=!1},d(c){c&&h(n),T(t),c&&r&&r.end()}}}function Ss(s){let e,n,t;return{c(){e=p("button"),e.textContent="Load More",f(e,"class","load-more svelte-1y77739")},m(l,r){b(l,e,r),n||(t=N(e,"click",s[5]),n=!0)},p:M,i:M,o:M,d(l){l&&h(e),n=!1,t()}}}function Ps(s){let e,n;return e=new ve({}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p:M,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Ms(s){let e,n,t;return n=new ve({}),{c(){e=p("div"),x(n.$$.fragment),f(e,"class","fullcenter svelte-1y77739")},m(l,r){b(l,e,r),O(n,e,null),t=!0},p:M,i(l){t||(C(n.$$.fragment,l),t=!0)},o(l){q(n.$$.fragment,l),t=!1},d(l){l&&h(e),T(n)}}}function Es(s){let e,n,t={ctx:s,current:null,token:null,hasCatch:!0,pending:Ms,then:ws,catch:ks,error:13,blocks:[,,,]};return Ye(s[4](1),t),{c(){e=p("div"),t.block.c(),f(e,"class","messages svelte-1y77739")},m(l,r){b(l,e,r),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null,n=!0},p(l,[r]){s=l,He(t,s,r)},i(l){n||(C(t.block),n=!0)},o(l){for(let r=0;r<3;r+=1){const a=t.blocks[r];q(a)}n=!1},d(l){l&&h(e),t.block.d(),t.token=null,t=null}}}let zn=0;function Is(s,e,n){let t,l;B(s,Ge,$=>n(7,t=$)),B(s,ie,$=>n(8,l=$));let r=0,{posts:a=[]}=e,i=0,o=!1,c=null;async function u($){if(V(ie,l.unread_inbox=!1,l),Ae(),n(2,o=!0),$===void 0)n(0,a=[]);else{let k=$+Math.floor(zn/25),m=zn%25;try{let _="inbox?autoget&page=";Fe&&(_=encodeURIComponent(_));const w=await fetch(`${Se}${_}${k}`,{headers:t});if(!w.ok)throw new Error("Response code is not OK; code is "+w.status);const y=await w.json();let P=y.autoget;P.splice(0,m),n(3,c=y.pages);let E,j;m>0&&i<c;for(const I of P)I.u==="Server"?I.u="Announcement":I.u="Notification",a.push({id:r++,post_id:I.post_id,user:I.u,content:I.p,date:I.t.e});n(1,i=$)}catch(_){throw n(2,o=!1),_}}return n(0,a),n(2,o=!1),a}function d(){G.on("direct",$=>{$.val.mode==="delete"&&n(0,a=a.filter(k=>k.post_id!==$.val.id))})}G.ws.readyState===1?d():G.ws.addEventListener("open",d);const g=()=>u(i+1);return s.$$set=$=>{"posts"in $&&n(0,a=$.posts)},[a,i,o,c,u,g]}class zs extends ee{constructor(e){super(),Z(this,e,Is,Es,X,{posts:0})}}const Ls=s=>({}),Ln=s=>({});function js(s){let e,n,t,l,r,a,i,o,c,u;const d=s[4].header,g=Ct(d,s,s[3],Ln),$=s[4].default,k=Ct($,s,s[3],null);return{c(){e=p("div"),n=S(),t=p("div"),g&&g.c(),l=S(),r=p("hr"),a=S(),k&&k.c(),f(e,"class","modal-background svelte-c5nskh"),f(t,"class","modal svelte-c5nskh"),f(t,"role","dialog"),f(t,"aria-modal","true")},m(m,_){b(m,e,_),b(m,n,_),b(m,t,_),g&&g.m(t,null),v(t,l),v(t,r),v(t,a),k&&k.m(t,null),s[5](t),o=!0,c||(u=[N(window,"keydown",s[2]),N(e,"click",s[1])],c=!0)},p(m,[_]){g&&g.p&&(!o||_&8)&&St(g,d,m,m[3],o?qt(d,m[3],_,Ls):Pt(m[3]),Ln),k&&k.p&&(!o||_&8)&&St(k,$,m,m[3],o?qt($,m[3],_,null):Pt(m[3]),null)},i(m){o||(C(g,m),C(k,m),ke(()=>{i||(i=he(t,Cn,{duration:200},!0)),i.run(1)}),o=!0)},o(m){q(g,m),q(k,m),i||(i=he(t,Cn,{duration:200},!1)),i.run(0),o=!1},d(m){m&&h(e),m&&h(n),m&&h(t),g&&g.d(m),k&&k.d(m),s[5](null),m&&i&&i.end(),c=!1,ae(u)}}}function Os(s,e,n){let{$$slots:t={},$$scope:l}=e;const r=xl(),a=()=>r("close");let i;const o=d=>{if(d.key==="Escape"){a();return}if(d.key==="Tab"){const g=i.querySelectorAll("*"),$=Array.from(g).filter(m=>m.tabIndex>=0);let k=$.indexOf(document.activeElement);k===-1&&d.shiftKey&&(k=0),k+=$.length+(d.shiftKey?-1:1),k%=$.length,$[k].focus(),d.preventDefault()}},c=typeof document!="undefined"&&document.activeElement;c&&Tl(()=>{c.focus()});function u(d){Ue[d?"unshift":"push"](()=>{i=d,n(0,i)})}return s.$$set=d=>{"$$scope"in d&&n(3,l=d.$$scope)},[i,a,o,l,t,u]}class me extends ee{constructor(e){super(),Z(this,e,Os,js,X,{})}}function jn(s,e,n){const t=s.slice();return t[17]=e[n],t}function Ts(s){let e,n,t,l,r=[],a=new Map,i,o,c,u,d;e=new le({props:{$$slots:{default:[Ns]},$$scope:{ctx:s}}}),t=new le({props:{$$slots:{default:[Rs]},$$scope:{ctx:s}}});let g=s[0];const $=w=>w[17]._id;for(let w=0;w<g.length;w+=1){let y=jn(s,g,w),P=$(y);a.set(P,r[w]=On(P,y))}const k=[Us,Bs],m=[];function _(w,y){return w[3]?0:w[4]&&w[4]>w[2]?1:-1}return~(c=_(s))&&(u=m[c]=k[c](s)),{c(){x(e.$$.fragment),n=S(),x(t.$$.fragment),l=S();for(let w=0;w<r.length;w+=1)r[w].c();i=S(),o=p("div"),u&&u.c(),f(o,"class","center svelte-ruol0l")},m(w,y){O(e,w,y),b(w,n,y),O(t,w,y),b(w,l,y);for(let P=0;P<r.length;P+=1)r[P].m(w,y);b(w,i,y),b(w,o,y),~c&&m[c].m(o,null),d=!0},p(w,y){const P={};y&1048576&&(P.$$scope={dirty:y,ctx:w}),e.$set(P);const E={};if(y&1048576&&(E.$$scope={dirty:y,ctx:w}),t.$set(E),y&3){g=w[0],te();for(let I=0;I<r.length;I+=1)r[I].r();r=st(r,y,$,1,w,g,a,i.parentNode,lt,On,i,jn);for(let I=0;I<r.length;I+=1)r[I].a();ne()}let j=c;c=_(w),c===j?~c&&m[c].p(w,y):(u&&(te(),q(m[j],1,1,()=>{m[j]=null}),ne()),~c?(u=m[c],u?u.p(w,y):(u=m[c]=k[c](w),u.c()),C(u,1),u.m(o,null)):u=null)},i(w){if(!d){C(e.$$.fragment,w),C(t.$$.fragment,w);for(let y=0;y<g.length;y+=1)C(r[y]);C(u),d=!0}},o(w){q(e.$$.fragment,w),q(t.$$.fragment,w);for(let y=0;y<r.length;y+=1)q(r[y]);q(u),d=!1},d(w){T(e,w),w&&h(n),T(t,w),w&&h(l);for(let y=0;y<r.length;y+=1)r[y].d(w);w&&h(i),w&&h(o),~c&&m[c].d()}}}function xs(s){let e,n,t;return n=new ve({}),{c(){e=p("div"),x(n.$$.fragment),f(e,"class","fullcenter svelte-ruol0l")},m(l,r){b(l,e,r),O(n,e,null),t=!0},p:M,i(l){t||(C(n.$$.fragment,l),t=!0)},o(l){q(n.$$.fragment,l),t=!1},d(l){l&&h(e),T(n)}}}function Ns(s){let e,n,t,l,r,a;return{c(){e=p("h1"),e.textContent="Chats",n=z(`\r
			Here are your chats. Press the chat button to enter a chat.\r
			`),t=p("div"),l=p("button"),f(l,"class","circle plus svelte-ruol0l"),f(t,"class","settings-controls svelte-ruol0l")},m(i,o){b(i,e,o),b(i,n,o),b(i,t,o),v(t,l),r||(a=N(l,"click",s[9]),r=!0)},p:M,d(i){i&&h(e),i&&h(n),i&&h(t),r=!1,a()}}}function Rs(s){let e,n,t,l,r,a,i;return{c(){e=p("div"),n=p("button"),t=S(),l=p("h1"),l.textContent="Livechat",r=z(`\r
			This is the public livechat. Messages in this chat don't save.`),f(n,"class","circle join svelte-ruol0l"),f(e,"class","settings-controls svelte-ruol0l")},m(o,c){b(o,e,c),v(e,n),b(o,t,c),b(o,l,c),b(o,r,c),a||(i=N(n,"click",s[10]),a=!0)},p:M,d(o){o&&h(e),o&&h(t),o&&h(l),o&&h(r),a=!1,i()}}}function As(s){let e,n,t,l,r,a,i=s[17].nickname+"",o,c,u="Members: "+s[17].members.join(", "),d,g,$;function k(){return s[11](s[17])}function m(){return s[12](s[17])}return{c(){e=p("div"),n=p("button"),t=S(),l=p("button"),r=S(),a=p("h1"),o=z(i),c=S(),d=z(u),f(n,"class","circle join svelte-ruol0l"),f(l,"class","circle close svelte-ruol0l"),f(e,"class","settings-controls svelte-ruol0l")},m(_,w){b(_,e,w),v(e,n),v(e,t),v(e,l),b(_,r,w),b(_,a,w),v(a,o),b(_,c,w),b(_,d,w),g||($=[N(n,"click",k),N(l,"click",m)],g=!0)},p(_,w){s=_,w&1&&i!==(i=s[17].nickname+"")&&W(o,i),w&1&&u!==(u="Members: "+s[17].members.join(", "))&&W(d,u)},d(_){_&&h(e),_&&h(r),_&&h(a),_&&h(c),_&&h(d),g=!1,ae($)}}}function On(s,e){let n,t,l,r,a=M,i;return t=new le({props:{$$slots:{default:[As]},$$scope:{ctx:e}}}),{key:s,first:null,c(){n=p("div"),x(t.$$.fragment),this.first=n},m(o,c){b(o,n,c),O(t,n,null),i=!0},p(o,c){e=o;const u={};c&1048579&&(u.$$scope={dirty:c,ctx:e}),t.$set(u)},r(){r=n.getBoundingClientRect()},f(){nt(n),a(),Ke(n,r)},a(){a(),a=tt(n,r,ot,{duration:250})},i(o){i||(C(t.$$.fragment,o),o&&ke(()=>{l||(l=he(n,Pe,{y:-50,duration:250},!0)),l.run(1)}),i=!0)},o(o){q(t.$$.fragment,o),o&&(l||(l=he(n,Pe,{y:-50,duration:250},!1)),l.run(0)),i=!1},d(o){o&&h(n),T(t),o&&l&&l.end()}}}function Bs(s){let e,n,t;return{c(){e=p("button"),e.textContent="Load More",f(e,"class","load-more svelte-ruol0l")},m(l,r){b(l,e,r),n||(t=N(e,"click",s[13]),n=!0)},p:M,i:M,o:M,d(l){l&&h(e),n=!1,t()}}}function Us(s){let e,n;return e=new ve({}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p:M,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Tn(s){let e,n;return e=new me({props:{$$slots:{default:[Gs],header:[Ds]},$$scope:{ctx:s}}}),e.$on("close",s[15]),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p(t,l){const r={};l&1048675&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Ds(s){let e,n,t,l;return{c(){e=p("h2"),n=z("Are you sure you want to leave "),t=z(s[6]),l=z("?"),f(e,"slot","header")},m(r,a){b(r,e,a),v(e,n),v(e,t),v(e,l)},p(r,a){a&64&&W(t,r[6])},d(r){r&&h(e)}}}function Gs(s){let e,n,t,l;return{c(){e=p("div"),n=p("button"),n.textContent="Leave",f(e,"slot","default")},m(r,a){b(r,e,a),v(e,n),t||(l=N(n,"click",s[14]),t=!0)},p:M,d(r){r&&h(e),t=!1,l()}}}function Ks(s){let e,n,t,l,r;const a=[xs,Ts],i=[];function o(u,d){return u[3]?0:1}n=o(s),t=i[n]=a[n](s);let c=s[1]&&Tn(s);return{c(){e=p("div"),t.c(),l=S(),c&&c.c(),f(e,"class","chats svelte-ruol0l")},m(u,d){b(u,e,d),i[n].m(e,null),v(e,l),c&&c.m(e,null),r=!0},p(u,[d]){let g=n;n=o(u),n===g?i[n].p(u,d):(te(),q(i[g],1,1,()=>{i[g]=null}),ne(),t=i[n],t?t.p(u,d):(t=i[n]=a[n](u),t.c()),C(t,1),t.m(e,l)),u[1]?c?(c.p(u,d),d&2&&C(c,1)):(c=Tn(u),c.c(),C(c,1),c.m(e,null)):c&&(te(),q(c,1,1,()=>{c=null}),ne())},i(u){r||(C(t),C(c),r=!0)},o(u){q(t),q(c),r=!1},d(u){u&&h(e),i[n].d(),c&&c.d()}}}let xn=0;function Ys(s,e,n){let t,l;B(s,be,E=>n(5,t=E)),B(s,Ee,E=>n(6,l=E));let{chats:r=[]}=e,a=!1;function i(E){return E._id!==t}let o=0,c=!1,u=null;async function d(E){if(n(3,c=!0),E===void 0)n(0,r=[]);else{let j=E+Math.floor(xn/25);re({cmd:"direct",val:{cmd:"get_chat_list",val:{page:j}}})}}function g(){G.on("direct",E=>{if(E.val.mode==="chats"){let j=xn%25,I=E.val.payload.all_chats;I.splice(0,j),n(4,u=E.val.payload.pages),n(2,o=E.val.payload["page#"]),n(0,r=I),n(3,c=!1)}})}G.ws.readyState===1?g():G.ws.addEventListener("open",g),d(1);const $=()=>{ce.set("createChat"),U.set(!0)},k=()=>{Ee.set("Livechat"),be.set("livechat"),window.scrollTo(0,0),se.set("blank"),ge().then(()=>se.set("groupchat"))},m=E=>{Ee.set(E.nickname),be.set(E._id),et.set(E.members),window.scrollTo(0,0),se.set("blank"),ge().then(()=>se.set("groupchat"))},_=E=>{Ee.set(E.nickname),be.set(E._id),n(1,a=!0)},w=()=>d(o+1),y=()=>{n(0,r=r.filter(i)),re({cmd:"direct",val:{cmd:"leave_chat",val:t}}),n(1,a=!1)},P=()=>{n(1,a=!1)};return s.$$set=E=>{"chats"in E&&n(0,r=E.chats)},[r,a,o,c,u,t,l,i,d,$,k,m,_,w,y,P]}class Hs extends ee{constructor(e){super(),Z(this,e,Ys,Ks,X,{chats:0})}}function Ws(s){let e,n,t,l,r,a,i;return t=new We({props:{icon:s[1],alt:s[0]+"'s profile picture",online:s[2].includes(s[0])}}),{c(){e=p("div"),n=p("div"),x(t.$$.fragment),l=S(),r=p("p"),a=z(s[0]),f(n,"class","member-pfp svelte-2ni8cc"),f(r,"class","member-name svelte-2ni8cc"),f(e,"id","Member")},m(o,c){b(o,e,c),v(e,n),O(t,n,null),v(e,l),v(e,r),v(r,a),i=!0},p(o,[c]){const u={};c&2&&(u.icon=o[1]),c&1&&(u.alt=o[0]+"'s profile picture"),c&5&&(u.online=o[2].includes(o[0])),t.$set(u),(!i||c&1)&&W(a,o[0])},i(o){i||(C(t.$$.fragment,o),i=!0)},o(o){q(t.$$.fragment,o),i=!1},d(o){o&&h(e),T(t)}}}function Fs(s,e,n){let t;B(s,$e,i=>n(2,t=i));let{member:l=""}=e,r=0;function a(){re({cmd:"direct",val:{cmd:"get_profile",val:l},listener:"get_profileGC_"+l}).then(i=>{n(1,r=i.payload.pfp_data)}).catch(i=>{alert("Error while loading member: "+l+", "+i),n(1,r=-2)})}return Ot(a),s.$$set=i=>{"member"in i&&n(0,l=i.member)},[l,r,t]}class Js extends ee{constructor(e){super(),Z(this,e,Fs,Ws,X,{member:0})}}function Nn(s,e,n){const t=s.slice();return t[23]=e[n],t}function Rn(s,e,n){const t=s.slice();return t[26]=e[n],t}function Vs(s){let e,n;return e=new le({props:{$$slots:{default:[Qs]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p(t,l){const r={};l&1073741824&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Qs(s){let e,n,t,l,r=s[29]+"",a;return{c(){e=p("h1"),e.textContent=`${Ee}`,n=z(`\r
			Error loading posts. Please try again.\r
			`),t=p("pre"),l=p("code"),a=z(r)},m(i,o){b(i,e,o),b(i,n,o),b(i,t,o),v(t,l),v(l,a)},p:M,d(i){i&&h(e),i&&h(n),i&&h(t)}}}function Xs(s){let e,n,t,l,r,a,i,o,c,u,d,g,$,k,m;n=new le({props:{$$slots:{default:[Zs]},$$scope:{ctx:s}}});let _=s[7].name&&An(s);const w=[tr,er],y=[];function P(A,H){return A[0].length<1?0:1}r=P(s),a=y[r]=w[r](s);const E=[rr,sr],j=[];function I(A,H){return A[2]?0:A[3]&&A[3]>A[1]?1:-1}~(c=I(s))&&(u=j[c]=E[c](s));const L=[ir,or],R=[];function D(A,H){return A[5]!=="Livechat"?0:1}return $=D(s),k=R[$]=L[$](s),{c(){e=p("div"),x(n.$$.fragment),t=S(),_&&_.c(),l=S(),a.c(),i=S(),o=p("div"),u&&u.c(),d=S(),g=p("div"),k.c(),f(o,"class","center svelte-mgsuvb"),f(e,"id","chat"),f(e,"class","svelte-mgsuvb"),f(g,"id","members"),f(g,"class","svelte-mgsuvb")},m(A,H){b(A,e,H),O(n,e,null),v(e,t),_&&_.m(e,null),v(e,l),y[r].m(e,null),v(e,i),v(e,o),~c&&j[c].m(o,null),b(A,d,H),b(A,g,H),R[$].m(g,null),m=!0},p(A,H){const Q={};H&1073741920&&(Q.$$scope={dirty:H,ctx:A}),n.$set(Q),A[7].name?_?_.p(A,H):(_=An(A),_.c(),_.m(e,l)):_&&(_.d(1),_=null);let oe=r;r=P(A),r===oe?y[r].p(A,H):(te(),q(y[oe],1,1,()=>{y[oe]=null}),ne(),a=y[r],a?a.p(A,H):(a=y[r]=w[r](A),a.c()),C(a,1),a.m(e,i));let K=c;c=I(A),c===K?~c&&j[c].p(A,H):(u&&(te(),q(j[K],1,1,()=>{j[K]=null}),ne()),~c?(u=j[c],u?u.p(A,H):(u=j[c]=E[c](A),u.c()),C(u,1),u.m(o,null)):u=null);let F=$;$=D(A),$===F?R[$].p(A,H):(te(),q(R[F],1,1,()=>{R[F]=null}),ne(),k=R[$],k?k.p(A,H):(k=R[$]=L[$](A),k.c()),C(k,1),k.m(g,null))},i(A){m||(C(n.$$.fragment,A),C(a),C(u),C(k),m=!0)},o(A){q(n.$$.fragment,A),q(a),q(u),q(k),m=!1},d(A){A&&h(e),T(n),_&&_.d(),y[r].d(),~c&&j[c].d(),A&&h(d),A&&h(g),R[$].d()}}}function Zs(s){let e,n,t,l;return{c(){e=p("h1"),n=z(s[5]),t=z(`\r
				Chat ID: `),l=z(s[6])},m(r,a){b(r,e,a),v(e,n),b(r,t,a),b(r,l,a)},p(r,a){a&32&&W(n,r[5]),a&64&&W(l,r[6])},d(r){r&&h(e),r&&h(t),r&&h(l)}}}function An(s){let e,n,t,l,r,a;return{c(){e=p("form"),e.innerHTML=`<input type="text" class="white svelte-mgsuvb" placeholder="Write something..." id="postinput" name="postinput" autocomplete="false" maxlength="360"/> 
					<button>Post</button>`,n=S(),t=p("div"),l=z(s[4]),f(e,"class","createpost svelte-mgsuvb"),f(t,"class","post-errors svelte-mgsuvb")},m(i,o){b(i,e,o),b(i,n,o),b(i,t,o),v(t,l),r||(a=N(e,"submit",_e(s[10])),r=!0)},p(i,o){o&16&&W(l,i[4])},d(i){i&&h(e),i&&h(n),i&&h(t),r=!1,a()}}}function er(s){let e=[],n=new Map,t,l,r=s[0];const a=i=>i[26].id;for(let i=0;i<r.length;i+=1){let o=Rn(s,r,i),c=a(o);n.set(c,e[i]=Bn(c,o))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=Ie()},m(i,o){for(let c=0;c<e.length;c+=1)e[c].m(i,o);b(i,t,o),l=!0},p(i,o){if(o&1){r=i[0],te();for(let c=0;c<e.length;c+=1)e[c].r();e=st(e,o,a,1,i,r,n,t.parentNode,lt,Bn,t,Rn);for(let c=0;c<e.length;c+=1)e[c].a();ne()}},i(i){if(!l){for(let o=0;o<r.length;o+=1)C(e[o]);l=!0}},o(i){for(let o=0;o<e.length;o+=1)q(e[o]);l=!1},d(i){for(let o=0;o<e.length;o+=1)e[o].d(i);i&&h(t)}}}function tr(s){let e;function n(r,a){return r[7].name?lr:nr}let t=n(s),l=t(s);return{c(){l.c(),e=Ie()},m(r,a){l.m(r,a),b(r,e,a)},p(r,a){t!==(t=n(r))&&(l.d(1),l=t(r),l&&(l.c(),l.m(e.parentNode,e)))},i:M,o:M,d(r){l.d(r),r&&h(e)}}}function Bn(s,e){let n,t,l,r,a,i=M,o;return t=new Je({props:{post:e[26]}}),{key:s,first:null,c(){n=p("div"),x(t.$$.fragment),l=S(),this.first=n},m(c,u){b(c,n,u),O(t,n,null),v(n,l),o=!0},p(c,u){e=c;const d={};u&1&&(d.post=e[26]),t.$set(d)},r(){a=n.getBoundingClientRect()},f(){nt(n),i(),Ke(n,a)},a(){i(),i=tt(n,a,ot,{duration:250})},i(c){o||(C(t.$$.fragment,c),c&&ke(()=>{r||(r=he(n,Pe,{y:-50,duration:250},!0)),r.run(1)}),o=!0)},o(c){q(t.$$.fragment,c),c&&(r||(r=he(n,Pe,{y:-50,duration:250},!1)),r.run(0)),o=!1},d(c){c&&h(n),T(t),c&&r&&r.end()}}}function nr(s){let e;return{c(){e=z("No posts here. Check back later!")},m(n,t){b(n,e,t)},d(n){n&&h(e)}}}function lr(s){let e;return{c(){e=z("No posts here. Check back later or be the first to post!")},m(n,t){b(n,e,t)},d(n){n&&h(e)}}}function sr(s){let e,n,t;return{c(){e=p("button"),e.textContent="Load More",f(e,"class","load-more svelte-mgsuvb")},m(l,r){b(l,e,r),n||(t=N(e,"click",s[11]),n=!0)},p:M,i:M,o:M,d(l){l&&h(e),n=!1,t()}}}function rr(s){let e,n;return e=new ve({}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p:M,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function or(s){let e;return{c(){e=p("h1"),e.textContent="In LiveChat",Oe(e,"margin","0"),Oe(e,"left","4%"),Oe(e,"position","absolute")},m(n,t){b(n,e,t)},p:M,i:M,o:M,d(n){n&&h(e)}}}function ir(s){let e,n,t,l,r,a,i,o,c,u,d,g=s[8],$=[];for(let m=0;m<g.length;m+=1)$[m]=Un(Nn(s,g,m));const k=m=>q($[m],1,1,()=>{$[m]=null});return{c(){e=p("div"),n=p("button"),t=S(),l=p("br"),r=S(),a=p("br"),i=S(),o=p("div");for(let m=0;m<$.length;m+=1)$[m].c();f(n,"class","circle join"),f(e,"class","settings-controls svelte-mgsuvb"),f(o,"id","members-inner"),f(o,"class","svelte-mgsuvb")},m(m,_){b(m,e,_),v(e,n),b(m,t,_),b(m,l,_),b(m,r,_),b(m,a,_),b(m,i,_),b(m,o,_);for(let w=0;w<$.length;w+=1)$[w].m(o,null);c=!0,u||(d=N(n,"click",s[12]),u=!0)},p(m,_){if(_&256){g=m[8];let w;for(w=0;w<g.length;w+=1){const y=Nn(m,g,w);$[w]?($[w].p(y,_),C($[w],1)):($[w]=Un(y),$[w].c(),C($[w],1),$[w].m(o,null))}for(te(),w=g.length;w<$.length;w+=1)k(w);ne()}},i(m){if(!c){for(let _=0;_<g.length;_+=1)C($[_]);c=!0}},o(m){$=$.filter(Boolean);for(let _=0;_<$.length;_+=1)q($[_]);c=!1},d(m){m&&h(e),m&&h(t),m&&h(l),m&&h(r),m&&h(a),m&&h(i),m&&h(o),Lt($,m),u=!1,d()}}}function Un(s){let e,n,t,l,r,a;n=new Js({props:{member:s[23]}});function i(){return s[13](s[23])}return{c(){e=p("button"),x(n.$$.fragment),t=S(),f(e,"class","Memberbutton svelte-mgsuvb")},m(o,c){b(o,e,c),O(n,e,null),v(e,t),l=!0,r||(a=N(e,"click",i),r=!0)},p(o,c){s=o;const u={};c&256&&(u.member=s[23]),n.$set(u)},i(o){l||(C(n.$$.fragment,o),l=!0)},o(o){q(n.$$.fragment,o),l=!1},d(o){o&&h(e),T(n),r=!1,a()}}}function ar(s){let e,n,t;return n=new ve({}),{c(){e=p("div"),x(n.$$.fragment),f(e,"class","fullcenter svelte-mgsuvb")},m(l,r){b(l,e,r),O(n,e,null),t=!0},p:M,i(l){t||(C(n.$$.fragment,l),t=!0)},o(l){q(n.$$.fragment,l),t=!1},d(l){l&&h(e),T(n)}}}function cr(s){let e,n,t={ctx:s,current:null,token:null,hasCatch:!0,pending:ar,then:Xs,catch:Vs,error:29,blocks:[,,,]};return Ye(s[9](1),t),{c(){e=p("div"),t.block.c(),f(e,"class","posts svelte-mgsuvb")},m(l,r){b(l,e,r),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null,n=!0},p(l,[r]){s=l,He(t,s,r)},i(l){n||(C(t.block),n=!0)},o(l){for(let r=0;r<3;r+=1){const a=t.blocks[r];q(a)}n=!1},d(l){l&&h(e),t.block.d(),t.token=null,t=null}}}function ur(s,e,n){let t,l,r,a,i,o;B(s,$e,L=>n(17,L)),B(s,Ee,L=>n(5,t=L)),B(s,be,L=>n(6,l=L)),B(s,se,L=>n(18,r=L)),B(s,ie,L=>n(7,a=L)),B(s,Ge,L=>n(19,i=L)),B(s,et,L=>n(8,o=L));let c=0,{posts:u=[]}=e,d=0,g=!1,$=null,k="",m=0;async function _(L){if(l==="livechat"){re({cmd:"direct",val:{cmd:"set_chat_state",val:{state:1,chatid:l}}});return}if(n(2,g=!0),L===void 0)n(0,u=[]);else{let R=L+Math.floor(m/25),D=m%25;try{let A=`posts/${l}?autoget&page=`;Fe&&(A=encodeURIComponent(A));const H=await fetch(`${Se}${A}${R}`,{headers:i});if(!H.ok)throw new Error("Response code is not OK; code is "+H.status);const Q=await H.json();let oe=Q.autoget;oe.splice(0,D),n(3,$=Q.pages);let K,F;if(D>0&&d<$){if(K=await fetch(`${Se}${A}${R+1}`),!H.ok)throw new Error("Overflow response code is not OK; code is "+H.status);F=await K.json(),oe=oe.concat(F.autoget.slice(0,D))}for(const Y of oe)u.push({id:c++,post_id:Y.post_id,user:Y.u,content:Y.p,date:Y.t.e});n(1,d=L)}catch(A){throw n(2,g=!1),A}}return re({cmd:"direct",val:{cmd:"set_chat_state",val:{state:1,chatid:l}}}),n(0,u),n(2,g=!1),u}function w(L){u.unshift({id:c++,...L}),n(0,u)}function y(){G.on("direct",L=>{if(r==="groupchat"&&L.val.state===2){if(L.val.post_origin!==l)return;w({post_id:L.val._id,user:L.val.u,content:L.val.p,date:L.val.t.e}),m++,n(0,u),a.sfx&&L.val.u!==a.name&&hl()}if(r==="groupchat"&&L.val.state===0){if(L.val.chatid!==l)return;w({post_id:c++,user:"Server",content:`${L.val.u} left ${t}.`,date:new Date().getTime()/1e3})}if(r==="groupchat"&&L.val.state===1){if(L.val.chatid!==l)return;w({post_id:c++,user:"Server",content:`${L.val.u} joined ${t}!`,date:new Date().getTime()/1e3})}L.val.mode==="delete"&&n(0,u=u.filter(R=>R.post_id!==L.val.id))})}G.ws.readyState===1?y():G.ws.addEventListener("open",y),$e.subscribe(L=>{});const P=L=>{if(n(4,k=""),!L.target[0].value.trim())return n(4,k="You cannot send an empty post!"),!1;xe.set(!0),L.target[1].disabled=!0,G.send({cmd:"direct",val:{cmd:"post_chat",val:{p:L.target[0].value,chatid:l}},listener:"post_chat"});const R=G.on("statuscode",D=>{D.listener==="post_chat"&&(G.off(R),xe.set(!1),L.target[1].disabled=!1,D.val==="I:100 | OK"?L.target[0].value="":D.val==="E:106 | Too many requests"?n(4,k="You're posting too fast!"):n(4,k="Unexpected "+D.val+" error!"))});return!1},E=()=>_(d+1),j=()=>{ce.set("AddMember"),U.set(!0)},I=L=>{ce.set("GC_Member"),U.set(!0),xt.set(L)};return s.$$set=L=>{"posts"in L&&n(0,u=L.posts)},[u,d,g,$,k,t,l,a,o,_,P,E,j,I]}class kl extends ee{constructor(e){super(),Z(this,e,ur,cr,X,{posts:0})}}const $l={0:"User",1:"Low-level Moderator",2:"Moderator",3:"Administrator",4:"Operator"};function Dn(s,e,n){const t=s.slice();return t[13]=e[n],t}function fr(s){let e,n,t,l;return e=new le({props:{$$slots:{default:[dr]},$$scope:{ctx:s}}}),t=new le({props:{$$slots:{default:[mr]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment),n=S(),x(t.$$.fragment)},m(r,a){O(e,r,a),b(r,n,a),O(t,r,a),l=!0},p(r,a){const i={};a&131084&&(i.$$scope={dirty:a,ctx:r}),e.$set(i);const o={};a&131072&&(o.$$scope={dirty:a,ctx:r}),t.$set(o)},i(r){l||(C(e.$$.fragment,r),C(t.$$.fragment,r),l=!0)},o(r){q(e.$$.fragment,r),q(t.$$.fragment,r),l=!1},d(r){T(e,r),r&&h(n),T(t,r)}}}function dr(s){let e,n,t,l,r,a,i,o,c=s[3].includes(s[2])?"Online":"Offline",u,d,g,$;return n=new We({props:{online:s[3].includes(s[2]),icon:-2,alt:s[2]+"'s profile picture",big:!0}}),{c(){e=p("div"),x(n.$$.fragment),t=S(),l=p("div"),r=p("h1"),a=z(s[2]),i=S(),o=p("div"),u=z(c),d=S(),g=p("div"),g.textContent="Unknown",f(r,"class","profile-username svelte-1yh2t3i"),f(o,"class","profile-active svelte-1yh2t3i"),f(g,"class","profile-role svelte-1yh2t3i"),f(l,"class","profile-header-info svelte-1yh2t3i"),f(e,"class","profile-header svelte-1yh2t3i")},m(k,m){b(k,e,m),O(n,e,null),v(e,t),v(e,l),v(l,r),v(r,a),v(l,i),v(l,o),v(o,u),v(l,d),v(l,g),$=!0},p(k,m){const _={};m&12&&(_.online=k[3].includes(k[2])),m&4&&(_.alt=k[2]+"'s profile picture"),n.$set(_),(!$||m&4)&&W(a,k[2]),(!$||m&12)&&c!==(c=k[3].includes(k[2])?"Online":"Offline")&&W(u,c)},i(k){$||(C(n.$$.fragment,k),$=!0)},o(k){q(n.$$.fragment,k),$=!1},d(k){k&&h(e),T(n)}}}function mr(s){let e,n,t,l,r=s[16]+"",a,i,o,c;return{c(){e=p("h2"),e.textContent="Error",n=z(`\r
			We couldn't get this user's profile info.\r
			`),t=p("pre"),l=p("code"),a=z(r),i=z(`\r
			Try again. If this issue persists,\r
			`),o=p("a"),o.textContent="create an issue on Meower Svelte's issue tracker",c=z(" with the error code shown above."),f(o,"href","https://github.com/Meower-Media-Co/Meower-Svelte/issues/new")},m(u,d){b(u,e,d),b(u,n,d),b(u,t,d),v(t,l),v(l,a),b(u,i,d),b(u,o,d),b(u,c,d)},p:M,d(u){u&&h(e),u&&h(n),u&&h(t),u&&h(i),u&&h(o),u&&h(c)}}}function pr(s){let e,n,t,l,r,a,i,o,c,u,d;e=new le({props:{$$slots:{default:[_r]},$$scope:{ctx:s}}});const g=[vr,gr],$=[];function k(_,w){return _[0]?0:_[2]===_[1].name?1:-1}~(t=k(s))&&(l=$[t]=g[t](s));let m=s[1].name&&s[2]!==s[1].name&&Kn(s);return{c(){x(e.$$.fragment),n=S(),l&&l.c(),r=S(),a=p("button"),a.textContent="View recent posts",i=S(),m&&m.c(),o=Ie(),f(a,"class","long svelte-1yh2t3i"),f(a,"title","View Recet Posts")},m(_,w){O(e,_,w),b(_,n,w),~t&&$[t].m(_,w),b(_,r,w),b(_,a,w),b(_,i,w),m&&m.m(_,w),b(_,o,w),c=!0,u||(d=N(a,"click",s[9]),u=!0)},p(_,w){const y={};w&131086&&(y.$$scope={dirty:w,ctx:_}),e.$set(y);let P=t;t=k(_),t===P?~t&&$[t].p(_,w):(l&&(te(),q($[P],1,1,()=>{$[P]=null}),ne()),~t?(l=$[t],l?l.p(_,w):(l=$[t]=g[t](_),l.c()),C(l,1),l.m(r.parentNode,r)):l=null),_[1].name&&_[2]!==_[1].name?m?m.p(_,w):(m=Kn(_),m.c(),m.m(o.parentNode,o)):m&&(m.d(1),m=null)},i(_){c||(C(e.$$.fragment,_),C(l),c=!0)},o(_){q(e.$$.fragment,_),q(l),c=!1},d(_){T(e,_),_&&h(n),~t&&$[t].d(_),_&&h(r),_&&h(a),_&&h(i),m&&m.d(_),_&&h(o),u=!1,d()}}}function _r(s){let e,n,t,l,r,a=s[12]._id+"",i,o,c,u=s[3].includes(s[12]._id)?"Online":"Offline",d,g,$,k=($l[s[12].lvl]||"Unknown")+"",m,_;return n=new We({props:{online:s[3].includes(s[12]._id),icon:s[2]===s[1].name?s[1].pfp_data:s[12].pfp_data,alt:s[12]._id+"'s profile picture",big:!0}}),{c(){e=p("div"),x(n.$$.fragment),t=S(),l=p("div"),r=p("h1"),i=z(a),o=S(),c=p("div"),d=z(u),g=S(),$=p("div"),m=z(k),f(r,"class","profile-username svelte-1yh2t3i"),f(c,"class","profile-active svelte-1yh2t3i"),f($,"class","profile-role svelte-1yh2t3i"),f(l,"class","profile-header-info svelte-1yh2t3i"),f(e,"class","profile-header svelte-1yh2t3i")},m(w,y){b(w,e,y),O(n,e,null),v(e,t),v(e,l),v(l,r),v(r,i),v(l,o),v(l,c),v(c,d),v(l,g),v(l,$),v($,m),_=!0},p(w,y){const P={};y&8&&(P.online=w[3].includes(w[12]._id)),y&6&&(P.icon=w[2]===w[1].name?w[1].pfp_data:w[12].pfp_data),n.$set(P),(!_||y&8)&&u!==(u=w[3].includes(w[12]._id)?"Online":"Offline")&&W(d,u)},i(w){_||(C(n.$$.fragment,w),_=!0)},o(w){q(n.$$.fragment,w),_=!1},d(w){w&&h(e),T(n)}}}function gr(s){let e,n,t;return{c(){e=p("button"),e.textContent="Change Profile Picture",f(e,"class","long svelte-1yh2t3i"),f(e,"title","Change Profile Picture")},m(l,r){b(l,e,r),n||(t=N(e,"click",s[8]),n=!0)},p:M,i:M,o:M,d(l){l&&h(e),n=!1,t()}}}function vr(s){let e,n;return e=new le({props:{$$slots:{default:[hr]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p(t,l){const r={};l&131075&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Gn(s){let e,n,t,l,r;n=new We({props:{online:!1,icon:s[13],alt:"Profile picture "+s[13]}});function a(){return s[7](s[13])}return{c(){e=p("span"),x(n.$$.fragment),f(e,"class","pfp svelte-1yh2t3i"),de(e,"selected",s[1].pfp_data===s[13])},m(i,o){b(i,e,o),O(n,e,null),t=!0,l||(r=N(e,"click",a),l=!0)},p(i,o){s=i,o&18&&de(e,"selected",s[1].pfp_data===s[13])},i(i){t||(C(n.$$.fragment,i),t=!0)},o(i){q(n.$$.fragment,i),t=!1},d(i){i&&h(e),T(n),l=!1,r()}}}function hr(s){let e,n,t,l,r=s[4],a=[];for(let o=0;o<r.length;o+=1)a[o]=Gn(Dn(s,r,o));const i=o=>q(a[o],1,1,()=>{a[o]=null});return{c(){e=p("h2"),e.textContent="Profile Picture",n=S(),t=p("div");for(let o=0;o<a.length;o+=1)a[o].c();f(t,"id","pfp-list"),f(t,"class","svelte-1yh2t3i")},m(o,c){b(o,e,c),b(o,n,c),b(o,t,c);for(let u=0;u<a.length;u+=1)a[u].m(t,null);l=!0},p(o,c){if(c&83){r=o[4];let u;for(u=0;u<r.length;u+=1){const d=Dn(o,r,u);a[u]?(a[u].p(d,c),C(a[u],1)):(a[u]=Gn(d),a[u].c(),C(a[u],1),a[u].m(t,null))}for(te(),u=r.length;u<a.length;u+=1)i(u);ne()}},i(o){if(!l){for(let c=0;c<r.length;c+=1)C(a[c]);l=!0}},o(o){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)q(a[c]);l=!1},d(o){o&&h(e),o&&h(n),o&&h(t),Lt(a,o)}}}function Kn(s){let e,n,t,l,r;return{c(){e=p("button"),e.textContent="Add to chat",n=S(),t=p("button"),t.textContent="Report User",f(e,"class","long svelte-1yh2t3i"),f(e,"title","Moved to GC member management"),e.disabled=!0,f(t,"class","long svelte-1yh2t3i"),f(t,"title","Report User")},m(a,i){b(a,e,i),b(a,n,i),b(a,t,i),l||(r=N(t,"click",s[10]),l=!0)},p:M,d(a){a&&h(e),a&&h(n),a&&h(t),l=!1,r()}}}function br(s){let e,n,t;return n=new ve({}),{c(){e=p("div"),x(n.$$.fragment),f(e,"class","fullcenter svelte-1yh2t3i")},m(l,r){b(l,e,r),O(n,e,null),t=!0},p:M,i(l){t||(C(n.$$.fragment,l),t=!0)},o(l){q(n.$$.fragment,l),t=!1},d(l){l&&h(e),T(n)}}}function kr(s){let e,n,t={ctx:s,current:null,token:null,hasCatch:!0,pending:br,then:pr,catch:fr,value:12,error:16,blocks:[,,,]};return Ye(s[5](),t),{c(){e=p("div"),t.block.c(),f(e,"class","OtherProfile")},m(l,r){b(l,e,r),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null,n=!0},p(l,[r]){s=l,He(t,s,r)},i(l){n||(C(t.block),n=!0)},o(l){for(let r=0;r<3;r+=1){const a=t.blocks[r];q(a)}n=!1},d(l){l&&h(e),t.block.d(),t.token=null,t=null}}}function $r(s,e,n){let t,l,r,a;B(s,ie,m=>n(1,t=m)),B(s,ye,m=>n(11,l=m)),B(s,De,m=>n(2,r=m)),B(s,$e,m=>n(3,a=m));const i=new Array(28).fill().map((m,_)=>_+1);let o=!1;async function c(){let m=`users/${r}`;Fe&&(m=encodeURIComponent(m));const _=await fetch(`${Se}${m}`);if(!_.ok)throw new Error("Response code is not OK; code is "+_.status);return await _.json()}function u(){if(l[t.name]){const m=l;delete m[t.name],ye.set(m)}Ae()}return[o,t,r,a,i,c,u,m=>{n(0,o=!1),V(ie,t.pfp_data=m,t),u()},()=>n(0,o=!0),()=>{window.scrollTo(0,0),se.set("blank"),ge().then(()=>se.set("recent"))},()=>{confirm("Are you sure you want to report this user?")&&re({cmd:"direct",val:{cmd:"report",val:{type:1,id:r}}})}]}class wr extends ee{constructor(e){super(),Z(this,e,$r,kr,X,{})}}function Yn(s,e,n){const t=s.slice();return t[9]=e[n],t}function yr(s){let e,n;return e=new le({props:{$$slots:{default:[Cr]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p(t,l){const r={};l&8208&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Cr(s){let e,n,t,l,r,a,i=s[12]+"",o;return{c(){e=p("h1"),n=z(s[4]),t=z("'s Recent Posts"),l=z(`\r
			Error loading posts. Please try again.\r
			`),r=p("pre"),a=p("code"),o=z(i)},m(c,u){b(c,e,u),v(e,n),v(e,t),b(c,l,u),b(c,r,u),v(r,a),v(a,o)},p(c,u){u&16&&W(n,c[4])},d(c){c&&h(e),c&&h(l),c&&h(r)}}}function qr(s){let e,n,t,l,r,a,i,o,c;e=new le({props:{$$slots:{default:[Sr]},$$scope:{ctx:s}}});const u=[Mr,Pr],d=[];function g(_,w){return _[0].length<1?0:1}t=g(s),l=d[t]=u[t](s);const $=[Ir,Er],k=[];function m(_,w){return _[2]?0:_[3]&&_[3]>_[1]?1:-1}return~(i=m(s))&&(o=k[i]=$[i](s)),{c(){x(e.$$.fragment),n=S(),l.c(),r=S(),a=p("div"),o&&o.c(),f(a,"class","center svelte-1wbtcfa")},m(_,w){O(e,_,w),b(_,n,w),d[t].m(_,w),b(_,r,w),b(_,a,w),~i&&k[i].m(a,null),c=!0},p(_,w){const y={};w&8208&&(y.$$scope={dirty:w,ctx:_}),e.$set(y);let P=t;t=g(_),t===P?d[t].p(_,w):(te(),q(d[P],1,1,()=>{d[P]=null}),ne(),l=d[t],l?l.p(_,w):(l=d[t]=u[t](_),l.c()),C(l,1),l.m(r.parentNode,r));let E=i;i=m(_),i===E?~i&&k[i].p(_,w):(o&&(te(),q(k[E],1,1,()=>{k[E]=null}),ne()),~i?(o=k[i],o?o.p(_,w):(o=k[i]=$[i](_),o.c()),C(o,1),o.m(a,null)):o=null)},i(_){c||(C(e.$$.fragment,_),C(l),C(o),c=!0)},o(_){q(e.$$.fragment,_),q(l),q(o),c=!1},d(_){T(e,_),_&&h(n),d[t].d(_),_&&h(r),_&&h(a),~i&&k[i].d()}}}function Sr(s){let e,n,t,l,r,a;return{c(){e=p("h1"),n=z(s[4]),t=z("'s Recent Posts"),l=z(`\r
			Here are `),r=z(s[4]),a=z("'s recent posts.")},m(i,o){b(i,e,o),v(e,n),v(e,t),b(i,l,o),b(i,r,o),b(i,a,o)},p(i,o){o&16&&W(n,i[4]),o&16&&W(r,i[4])},d(i){i&&h(e),i&&h(l),i&&h(r),i&&h(a)}}}function Pr(s){let e=[],n=new Map,t,l,r=s[0];const a=i=>i[9].id;for(let i=0;i<r.length;i+=1){let o=Yn(s,r,i),c=a(o);n.set(c,e[i]=Hn(c,o))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=Ie()},m(i,o){for(let c=0;c<e.length;c+=1)e[c].m(i,o);b(i,t,o),l=!0},p(i,o){if(o&1){r=i[0],te();for(let c=0;c<e.length;c+=1)e[c].r();e=st(e,o,a,1,i,r,n,t.parentNode,lt,Hn,t,Yn);for(let c=0;c<e.length;c+=1)e[c].a();ne()}},i(i){if(!l){for(let o=0;o<r.length;o+=1)C(e[o]);l=!0}},o(i){for(let o=0;o<e.length;o+=1)q(e[o]);l=!1},d(i){for(let o=0;o<e.length;o+=1)e[o].d(i);i&&h(t)}}}function Mr(s){let e,n;return{c(){e=z(s[4]),n=z(" hasn't made any posts yet.")},m(t,l){b(t,e,l),b(t,n,l)},p(t,l){l&16&&W(e,t[4])},i:M,o:M,d(t){t&&h(e),t&&h(n)}}}function Hn(s,e){let n,t,l,r,a,i=M,o;return t=new Je({props:{post:e[9]}}),{key:s,first:null,c(){n=p("div"),x(t.$$.fragment),l=S(),this.first=n},m(c,u){b(c,n,u),O(t,n,null),v(n,l),o=!0},p(c,u){e=c;const d={};u&1&&(d.post=e[9]),t.$set(d)},r(){a=n.getBoundingClientRect()},f(){nt(n),i(),Ke(n,a)},a(){i(),i=tt(n,a,ot,{duration:250})},i(c){o||(C(t.$$.fragment,c),c&&ke(()=>{r||(r=he(n,Pe,{y:-50,duration:250},!0)),r.run(1)}),o=!0)},o(c){q(t.$$.fragment,c),c&&(r||(r=he(n,Pe,{y:-50,duration:250},!1)),r.run(0)),o=!1},d(c){c&&h(n),T(t),c&&r&&r.end()}}}function Er(s){let e,n,t;return{c(){e=p("button"),e.textContent="Load More",f(e,"class","load-more svelte-1wbtcfa")},m(l,r){b(l,e,r),n||(t=N(e,"click",s[6]),n=!0)},p:M,i:M,o:M,d(l){l&&h(e),n=!1,t()}}}function Ir(s){let e,n;return e=new ve({}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p:M,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function zr(s){let e,n,t;return n=new ve({}),{c(){e=p("div"),x(n.$$.fragment),f(e,"class","fullcenter svelte-1wbtcfa")},m(l,r){b(l,e,r),O(n,e,null),t=!0},p:M,i(l){t||(C(n.$$.fragment,l),t=!0)},o(l){q(n.$$.fragment,l),t=!1},d(l){l&&h(e),T(n)}}}function Lr(s){let e,n,t={ctx:s,current:null,token:null,hasCatch:!0,pending:zr,then:qr,catch:yr,error:12,blocks:[,,,]};return Ye(s[5](1),t),{c(){e=p("div"),t.block.c(),f(e,"class","posts svelte-1wbtcfa")},m(l,r){b(l,e,r),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null,n=!0},p(l,[r]){s=l,He(t,s,r)},i(l){n||(C(t.block),n=!0)},o(l){for(let r=0;r<3;r+=1){const a=t.blocks[r];q(a)}n=!1},d(l){l&&h(e),t.block.d(),t.token=null,t=null}}}let Wn=0;function jr(s,e,n){let t;B(s,De,g=>n(4,t=g));let l=0,{posts:r=[]}=e,a=0,i=!1,o=null;async function c(g){if(n(2,i=!0),g===void 0)n(0,r=[]);else{let $=g+Math.floor(Wn/25),k=Wn%25;try{let m=`users/${t}/posts?autoget&page=`;Fe&&(m=encodeURIComponent(m));const _=await fetch(`${Se}${m}${$}`);if(!_.ok)throw new Error("Response code is not OK; code is "+_.status);const w=await _.json();let y=w.autoget;y.splice(0,k),n(3,o=w.pages);let P,E;k>0&&a<o;for(const j of y)r.push({id:l++,post_id:j.post_id,user:j.u,content:j.p,date:j.t.e});n(1,a=g)}catch(m){throw n(2,i=!1),m}}return n(0,r),n(2,i=!1),r}function u(){G.on("direct",g=>{g.val.mode==="delete"&&n(0,r=r.filter($=>$.post_id!==g.val.id))})}G.ws.readyState===1?u():G.ws.addEventListener("open",u);const d=()=>c(a+1);return s.$$set=g=>{"posts"in g&&n(0,r=g.posts)},[r,a,i,o,t,c,d]}class Or extends ee{constructor(e){super(),Z(this,e,jr,Lr,X,{posts:0})}}function Tr(s){let e,n;return{c(){e=p("h1"),e.textContent="Settings",n=z(`\r
	You can change your settings here. These will save to your account, so they will carry over into other clients.`)},m(t,l){b(t,e,l),b(t,n,l)},p:M,d(t){t&&h(e),t&&h(n)}}}function xr(s){let e,n,t,l,r,a=s[5].layout+"",i,o,c,u;return{c(){e=p("div"),n=p("button"),t=S(),l=p("h2"),l.textContent="Layout",r=z(`\r
	The layout is currently set to `),i=z(a),o=z("."),f(n,"class","circle settings svelte-1undfiq"),f(e,"class","settings-controls svelte-1undfiq")},m(d,g){b(d,e,g),v(e,n),b(d,t,g),b(d,l,g),b(d,r,g),b(d,i,g),b(d,o,g),c||(u=N(n,"click",s[9]),c=!0)},p(d,g){g&32&&a!==(a=d[5].layout+"")&&W(i,a)},d(d){d&&h(e),d&&h(t),d&&h(l),d&&h(r),d&&h(i),d&&h(o),c=!1,u()}}}function Nr(s){let e,n,t,l,r,a=s[5].theme+"",i,o,c,u;return{c(){e=p("div"),n=p("button"),t=S(),l=p("h2"),l.textContent="Theme",r=z(`\r
	The theme is currently set to `),i=z(a),o=z("."),f(n,"class","circle settings svelte-1undfiq"),f(e,"class","settings-controls svelte-1undfiq")},m(d,g){b(d,e,g),v(e,n),b(d,t,g),b(d,l,g),b(d,r,g),b(d,i,g),b(d,o,g),c||(u=N(n,"click",s[10]),c=!0)},p(d,g){g&32&&a!==(a=d[5].theme+"")&&W(i,a)},d(d){d&&h(e),d&&h(t),d&&h(l),d&&h(r),d&&h(i),d&&h(o),c=!1,u()}}}function Rr(s){let e,n,t,l,r,a,i=s[5].mode?"disabled":"enabled",o,c,u,d;return{c(){e=p("div"),n=p("input"),l=S(),r=p("h2"),r.textContent="Dark Mode",a=z(`\r
	Dark mode is currently `),o=z(i),c=z("."),f(n,"type","checkbox"),n.checked=t=!s[5].mode,f(n,"class","svelte-1undfiq"),f(e,"class","settings-controls svelte-1undfiq")},m(g,$){b(g,e,$),v(e,n),b(g,l,$),b(g,r,$),b(g,a,$),b(g,o,$),b(g,c,$),u||(d=N(n,"change",s[11]),u=!0)},p(g,$){$&32&&t!==(t=!g[5].mode)&&(n.checked=t),$&32&&i!==(i=g[5].mode?"disabled":"enabled")&&W(o,i)},d(g){g&&h(e),g&&h(l),g&&h(r),g&&h(a),g&&h(o),g&&h(c),u=!1,d()}}}function Ar(s){let e,n,t,l,r,a,i=s[5].sfx?"enabled":"disabled",o,c,u,d;return{c(){e=p("div"),n=p("input"),l=S(),r=p("h2"),r.textContent="Sound Effects",a=z(`\r
	Sound effects are currently `),o=z(i),c=z("."),f(n,"type","checkbox"),n.checked=t=s[5].sfx,f(n,"class","svelte-1undfiq"),f(e,"class","settings-controls svelte-1undfiq")},m(g,$){b(g,e,$),v(e,n),b(g,l,$),b(g,r,$),b(g,a,$),b(g,o,$),b(g,c,$),u||(d=N(n,"change",s[12]),u=!0)},p(g,$){$&32&&t!==(t=g[5].sfx)&&(n.checked=t),$&32&&i!==(i=g[5].sfx?"enabled":"disabled")&&W(o,i)},d(g){g&&h(e),g&&h(l),g&&h(r),g&&h(a),g&&h(o),g&&h(c),u=!1,d()}}}function Fn(s){let e,n,t,l;return e=new le({props:{$$slots:{default:[Br]},$$scope:{ctx:s}}}),t=new le({props:{$$slots:{default:[Ur]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment),n=S(),x(t.$$.fragment)},m(r,a){O(e,r,a),b(r,n,a),O(t,r,a),l=!0},p(r,a){const i={};a&1048768&&(i.$$scope={dirty:a,ctx:r}),e.$set(i);const o={};a&1048607&&(o.$$scope={dirty:a,ctx:r}),t.$set(o)},i(r){l||(C(e.$$.fragment,r),C(t.$$.fragment,r),l=!0)},o(r){q(e.$$.fragment,r),q(t.$$.fragment,r),l=!1},d(r){T(e,r),r&&h(n),T(t,r)}}}function Br(s){let e,n,t,l,r,a,i;return{c(){e=p("div"),n=p("button"),t=S(),l=p("h2"),l.textContent="Change Password",r=z(`\r
	Change your account password.`),f(n,"class","circle settings svelte-1undfiq"),f(e,"class","settings-controls svelte-1undfiq")},m(o,c){b(o,e,c),v(e,n),b(o,t,c),b(o,l,c),b(o,r,c),a||(i=N(n,"click",s[13]),a=!0)},p:M,d(o){o&&h(e),o&&h(t),o&&h(l),o&&h(r),a=!1,i()}}}function Ur(s){let e,n,t,l,r,a,i,o,c,u,d,g,$,k,m;return{c(){e=p("div"),n=p("input"),t=S(),l=p("input"),r=S(),a=p("input"),i=S(),o=p("input"),c=S(),u=p("input"),d=S(),g=p("h2"),g.textContent="Delete Account",$=z(`\r
	THIS CANNOT BE UNDONE. Enable all the switches to delete your account, if you are really sure.`),f(n,"type","checkbox"),f(n,"class","svelte-1undfiq"),f(l,"type","checkbox"),f(l,"class","svelte-1undfiq"),f(a,"type","checkbox"),f(a,"class","svelte-1undfiq"),f(o,"type","checkbox"),f(o,"class","svelte-1undfiq"),f(u,"type","checkbox"),f(u,"class","svelte-1undfiq"),f(e,"class","settings-controls svelte-1undfiq")},m(_,w){b(_,e,w),v(e,n),n.checked=s[0],v(e,t),v(e,l),l.checked=s[1],v(e,r),v(e,a),a.checked=s[2],v(e,i),v(e,o),o.checked=s[3],v(e,c),v(e,u),u.checked=s[4],b(_,d,w),b(_,g,w),b(_,$,w),k||(m=[N(n,"change",s[14]),N(n,"change",s[8]),N(l,"change",s[15]),N(l,"change",s[8]),N(a,"change",s[16]),N(a,"change",s[8]),N(o,"change",s[17]),N(o,"change",s[8]),N(u,"change",s[18]),N(u,"change",s[8])],k=!0)},p(_,w){w&1&&(n.checked=_[0]),w&2&&(l.checked=_[1]),w&4&&(a.checked=_[2]),w&8&&(o.checked=_[3]),w&16&&(u.checked=_[4])},d(_){_&&h(e),_&&h(d),_&&h(g),_&&h($),k=!1,ae(m)}}}function Dr(s){let e,n,t,l,r,a,i,o,c,u,d,g,$;e=new le({props:{$$slots:{default:[Tr]},$$scope:{ctx:s}}}),t=new le({props:{$$slots:{default:[xr]},$$scope:{ctx:s}}}),r=new le({props:{$$slots:{default:[Nr]},$$scope:{ctx:s}}}),i=new le({props:{$$slots:{default:[Rr]},$$scope:{ctx:s}}}),c=new le({props:{$$slots:{default:[Ar]},$$scope:{ctx:s}}});let k=s[5].name&&Fn(s);return{c(){x(e.$$.fragment),n=S(),x(t.$$.fragment),l=S(),x(r.$$.fragment),a=S(),x(i.$$.fragment),o=S(),x(c.$$.fragment),u=S(),k&&k.c(),d=S(),g=p("div"),f(g,"class","eee")},m(m,_){O(e,m,_),b(m,n,_),O(t,m,_),b(m,l,_),O(r,m,_),b(m,a,_),O(i,m,_),b(m,o,_),O(c,m,_),b(m,u,_),k&&k.m(m,_),b(m,d,_),b(m,g,_),$=!0},p(m,[_]){const w={};_&1048576&&(w.$$scope={dirty:_,ctx:m}),e.$set(w);const y={};_&1048608&&(y.$$scope={dirty:_,ctx:m}),t.$set(y);const P={};_&1048608&&(P.$$scope={dirty:_,ctx:m}),r.$set(P);const E={};_&1048608&&(E.$$scope={dirty:_,ctx:m}),i.$set(E);const j={};_&1048608&&(j.$$scope={dirty:_,ctx:m}),c.$set(j),m[5].name?k?(k.p(m,_),_&32&&C(k,1)):(k=Fn(m),k.c(),C(k,1),k.m(d.parentNode,d)):k&&(te(),q(k,1,1,()=>{k=null}),ne())},i(m){$||(C(e.$$.fragment,m),C(t.$$.fragment,m),C(r.$$.fragment,m),C(i.$$.fragment,m),C(c.$$.fragment,m),C(k),$=!0)},o(m){q(e.$$.fragment,m),q(t.$$.fragment,m),q(r.$$.fragment,m),q(i.$$.fragment,m),q(c.$$.fragment,m),q(k),$=!1},d(m){T(e,m),m&&h(n),T(t,m),m&&h(l),T(r,m),m&&h(a),T(i,m),m&&h(o),T(c,m),m&&h(u),k&&k.d(m),m&&h(d),m&&h(g)}}}function Gr(s,e,n){let t,l,r;B(s,ie,I=>n(5,t=I)),B(s,ce,I=>n(6,l=I)),B(s,U,I=>n(7,r=I));let a=!1,i=!1,o=!1,c=!1,u=!1;async function d(){a&&i&&o&&c&&u&&(t.name===localStorage.getItem("meower_savedusername")&&(localStorage.removeItem("meower_savedusername"),localStorage.removeItem("meower_savedpassword")),await re({cmd:"direct",val:{cmd:"del_account",val:""}}),Te.set("setup"),await ge(),fe.set("reconnect"))}const g=()=>{const I=t;I.layout=I.layout==="new"?"old":"new",ie.set(I),Ae()},$=()=>{const I=t;I.theme=I.theme==="orange"?"blue":"orange",ie.set(I),Ae()},k=()=>{const I=t;I.mode=!I.mode,ie.set(I),Ae()},m=()=>{const I=t;I.sfx=!I.sfx,ie.set(I),Ae()},_=()=>{V(ce,l="changePassword",l),V(U,r=!0,r)};function w(){a=this.checked,n(0,a)}function y(){i=this.checked,n(1,i)}function P(){o=this.checked,n(2,o)}function E(){c=this.checked,n(3,c)}function j(){u=this.checked,n(4,u)}return[a,i,o,c,u,t,l,r,d,g,$,k,m,_,w,y,P,E,j]}class Kr extends ee{constructor(e){super(),Z(this,e,Gr,Dr,X,{})}}var wl="./assets/meowy.93c25f40.svg";function Jn(s,e,n){const t=s.slice();return t[1]=e[n],t}function Vn(s){let e,n;return{c(){e=p("img"),f(e,"class","cat svelte-vuknl4"),f(e,"alt","MEOW"),f(e,"title","MEOW"),pe(e.src,n=wl)||f(e,"src",n),f(e,"height","100"),Oe(e,"left",(s[1].x||0)+"vw",!1),Oe(e,"top",(s[1].y||0)+"vh",!1),Oe(e,"animation-delay",-(s[1].offset||0)+"s",!1),Oe(e,"animation-duration",s[1].time+"s",!1)},m(t,l){b(t,e,l)},p:M,d(t){t&&h(e)}}}function Yr(s){let e,n=s[0],t=[];for(let l=0;l<n.length;l+=1)t[l]=Vn(Jn(s,n,l));return{c(){e=p("div");for(let l=0;l<t.length;l+=1)t[l].c();f(e,"class","cats svelte-vuknl4")},m(l,r){b(l,e,r);for(let a=0;a<t.length;a+=1)t[a].m(e,null)},p(l,[r]){if(r&1){n=l[0];let a;for(a=0;a<n.length;a+=1){const i=Jn(l,n,a);t[a]?t[a].p(i,r):(t[a]=Vn(i),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=n.length}},i:M,o:M,d(l){l&&h(e),Lt(t,l)}}}function Hr(s){return[new Array(100).fill({}).map(n=>({x:Math.random()*100,y:Math.random()*100,offset:Math.random()*15,time:5+Math.random()*10}))]}class Wr extends ee{constructor(e){super(),Z(this,e,Hr,Yr,X,{})}}function Fr(s){let e,n,t,l,r;return l=new Wr({}),{c(){e=p("div"),n=p("div"),n.textContent="GROUP CAT 2.0!!!!",t=S(),x(l.$$.fragment),f(n,"class","message svelte-w78hki")},m(a,i){b(a,e,i),v(e,n),v(e,t),O(l,e,null),r=!0},p:M,i(a){r||(C(l.$$.fragment,a),r=!0)},o(a){q(l.$$.fragment,a),r=!1},d(a){a&&h(e),T(l)}}}class Jr extends ee{constructor(e){super(),Z(this,e,null,Fr,X,{})}}var At="./assets/logo.22ae43ae.svg",Vr="./assets/home.a6e91ee5.svg",Qr="./assets/chat.8f7a11c0.svg",Qn="./assets/mail.adf4cbe0.svg",Xn="./assets/mail_new.2e8332f8.svg",Xr="./assets/profile.f90d67b3.svg",Zr="./assets/settings.10cdbd27.svg",eo="./assets/logout.32557676.svg";function to(s){let e,n,t,l,r,a,i,o,c,u,d,g,$,k,m,_,w,y,P,E,j,I,L,R,D,A,H,Q,oe,K,F;return{c(){e=p("div"),n=p("div"),t=p("span"),l=p("img"),a=S(),i=p("button"),o=p("img"),u=S(),d=p("button"),g=p("img"),k=S(),m=p("button"),_=p("img"),y=S(),P=p("button"),E=p("img"),I=S(),L=p("button"),R=p("img"),A=S(),H=p("button"),Q=p("img"),f(l,"alt","Meower"),pe(l.src,r=At)||f(l,"src",r),f(l,"draggable",!1),f(l,"height","100%"),f(l,"width","auto"),f(l,"class","svelte-n8zklt"),f(t,"class","logo-inner svelte-n8zklt"),f(n,"class","logo svelte-n8zklt"),pe(o.src,c=Vr)||f(o,"src",c),f(o,"alt","Home"),f(o,"width","90%"),f(o,"height","auto"),f(o,"draggable",!1),f(i,"class","home-btn round svelte-n8zklt"),pe(g.src,$=s[0].unread_inbox?Xn:Qn)||f(g,"src",$),f(g,"alt","Inbox Messages"),f(g,"width","90%"),f(g,"height","auto"),f(g,"draggable",!1),f(d,"class","gc-btn round svelte-n8zklt"),pe(_.src,w=Qr)||f(_,"src",w),f(_,"alt","Group Chats"),f(_,"width","90%"),f(_,"height","auto"),f(_,"draggable",!1),f(m,"class","gc-btn round svelte-n8zklt"),pe(E.src,j=Xr)||f(E,"src",j),f(E,"alt","Profile"),f(E,"width","90%"),f(E,"height","auto"),f(E,"draggable",!1),f(P,"class","profile-btn round svelte-n8zklt"),pe(R.src,D=Zr)||f(R,"src",D),f(R,"alt","Settings"),f(R,"width","90%"),f(R,"height","auto"),f(R,"draggable",!1),f(L,"class","settings-btn round svelte-n8zklt"),pe(Q.src,oe=eo)||f(Q,"src",oe),f(Q,"alt","Log out"),f(Q,"width","90%"),f(Q,"height","auto"),f(Q,"draggable",!1),f(H,"class","logout-btn round svelte-n8zklt"),f(e,"class","sidebar svelte-n8zklt")},m(Y,J){b(Y,e,J),v(e,n),v(n,t),v(t,l),v(e,a),v(e,i),v(i,o),v(e,u),v(e,d),v(d,g),v(e,k),v(e,m),v(m,_),v(e,y),v(e,P),v(P,E),v(e,I),v(e,L),v(L,R),v(e,A),v(e,H),v(H,Q),K||(F=[N(t,"click",s[3]),N(i,"click",s[4]),N(d,"click",s[5]),N(m,"click",s[6]),N(P,"click",s[7]),N(L,"click",s[8]),N(H,"click",s[9])],K=!0)},p(Y,[J]){J&1&&!pe(g.src,$=Y[0].unread_inbox?Xn:Qn)&&f(g,"src",$)},i:M,o:M,d(Y){Y&&h(e),K=!1,ae(F)}}}function no(s,e,n){let t,l,r,a;B(s,be,m=>n(10,t=m)),B(s,se,m=>n(11,l=m)),B(s,ie,m=>n(0,r=m)),B(s,De,m=>n(1,a=m));function i(m,_=!0){if(!r.name&&m!=="home"&&m!=="settings"){ce.set("signup"),U.set(!0);return}_&&window.scrollTo(0,0),l==="groupchat"&&re({cmd:"direct",val:{cmd:"set_chat_state",val:{state:0,chatid:t}}}),be.set(""),se.set("blank"),ge().then(()=>se.set(m))}return[r,a,i,()=>i("home"),()=>i("home"),()=>i("inbox"),()=>{i(rt?"groupcat":"chatlist")},()=>{V(De,a=r.name,a),i("profile")},()=>i("settings"),async()=>{r.name===localStorage.getItem("meower_savedusername")&&(localStorage.removeItem("meower_savedusername"),localStorage.removeItem("meower_savedpassword")),Te.set("setup"),await ge(),fe.set("reconnect")}]}class lo extends ee{constructor(e){super(),Z(this,e,no,to,X,{})}}function so(s){let e,n,t,l,r;return{c(){e=z(`Somehow, you got to a page that doesn't exist...\r
			`),n=p("br"),t=z(`\r
			(Current page: `),l=z(s[0]),r=z(")")},m(a,i){b(a,e,i),b(a,n,i),b(a,t,i),b(a,l,i),b(a,r,i)},p(a,i){i&1&&W(l,a[0])},i:M,o:M,d(a){a&&h(e),a&&h(n),a&&h(t),a&&h(l),a&&h(r)}}}function ro(s){let e;return{c(){e=p("div")},m(n,t){b(n,e,t)},p:M,i:M,o:M,d(n){n&&h(e)}}}function oo(s){let e,n;return e=new kl({}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p:M,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function io(s){let e,n;return e=new Jr({}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p:M,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function ao(s){let e,n;return e=new Kr({}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p:M,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function co(s){let e,n;return e=new Or({}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p:M,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function uo(s){let e,n;return e=new wr({}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p:M,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function fo(s){let e,n;return e=new kl({}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p:M,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function mo(s){let e,n;return e=new Hs({}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p:M,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function po(s){let e,n;return e=new zs({}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p:M,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function _o(s){let e,n;return e=new bs({}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p:M,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function go(s){let e,n,t,l,r,a,i,o;t=new lo({});const c=[_o,po,mo,fo,uo,co,ao,io,oo,ro,so],u=[];function d(g,$){return g[0]==="home"?0:g[0]==="inbox"?1:g[0]==="chatlist"?2:g[0]==="groupchat"?3:g[0]==="profile"?4:g[0]==="recent"?5:g[0]==="settings"?6:g[0]==="groupcat"?7:g[0]==="groupchat"?8:g[0]==="blank"?9:10}return a=d(s),i=u[a]=c[a](s),{c(){e=p("div"),n=p("div"),x(t.$$.fragment),l=S(),r=p("div"),i.c(),f(n,"class","sidebar svelte-88zg9i"),f(r,"class","view svelte-88zg9i"),f(e,"class","main-screen svelte-88zg9i")},m(g,$){b(g,e,$),v(e,n),O(t,n,null),v(e,l),v(e,r),u[a].m(r,null),o=!0},p(g,[$]){let k=a;a=d(g),a===k?u[a].p(g,$):(te(),q(u[k],1,1,()=>{u[k]=null}),ne(),i=u[a],i?i.p(g,$):(i=u[a]=c[a](g),i.c()),C(i,1),i.m(r,null))},i(g){o||(C(t.$$.fragment,g),C(i),o=!0)},o(g){q(t.$$.fragment,g),q(i),o=!1},d(g){g&&h(e),T(t),u[a].d()}}}function vo(s,e,n){let t;return B(s,se,l=>n(0,t=l)),se.set("home"),[t]}class ho extends ee{constructor(e){super(),Z(this,e,vo,go,X,{})}}function bo(s){let e,n,t,l,r,a,i,o,c,u,d;return{c(){e=p("div"),n=p("div"),t=z(`Somehow, you got to a page that doesn't exist...\r
				`),l=p("br"),r=z(`\r
				(Current page: `),a=z(s[8]),i=z(`)\r
\r
				`),o=p("div"),c=p("button"),c.textContent="Go back!",f(l,"class","svelte-slqvyn"),f(c,"class","svelte-slqvyn"),f(o,"class","buttons svelte-slqvyn"),f(n,"class","column-ui svelte-slqvyn"),f(e,"class","fullcenter svelte-slqvyn")},m(g,$){b(g,e,$),v(e,n),v(n,t),v(n,l),v(n,r),v(n,a),v(n,i),v(n,o),v(o,c),u||(d=N(c,"click",s[23]),u=!0)},p(g,$){$&256&&W(a,g[8])},i:M,o:M,d(g){g&&h(e),u=!1,d()}}}function ko(s){let e;return{c(){e=p("div"),e.textContent="Let's go!",f(e,"class","fullcenter svelte-slqvyn")},m(n,t){b(n,e,t)},p:M,i:M,o:M,d(n){n&&h(e)}}}function $o(s){let e;return{c(){e=p("div")},m(n,t){b(n,e,t)},p:M,i:M,o:M,d(n){n&&h(e)}}}function wo(s){let e,n,t,l,r,a,i,o,c,u,d,g,$,k,m,_,w,y,P,E,j,I,L,R,D,A,H,Q,oe,K,F,Y;return{c(){e=p("div"),n=p("h1"),n.textContent="Welcome to Meower",t=S(),l=p("form"),r=p("input"),a=S(),i=p("br"),o=S(),c=p("input"),u=S(),d=p("p"),g=p("input"),$=S(),k=p("label"),k.textContent="Save this login",m=S(),_=p("br"),w=S(),y=p("input"),P=S(),E=p("label"),E.innerHTML='I agree to <a href="https://meower.org/legal" target="_blank" class="svelte-slqvyn">Meower&#39;s Terms of Service and Privacy Policy</a>',j=S(),I=p("span"),L=z(s[3]),R=S(),D=p("div"),A=p("button"),A.textContent="Go back",H=S(),Q=p("button"),oe=z("Join!"),f(r,"type","text"),f(r,"placeholder","Username"),f(r,"maxlength","20"),f(r,"class","svelte-slqvyn"),f(i,"class","svelte-slqvyn"),f(c,"type","password"),f(c,"placeholder","Password"),f(c,"maxlength","64"),f(c,"class","svelte-slqvyn"),f(g,"id","remember-me"),f(g,"type","checkbox"),f(g,"class","svelte-slqvyn"),f(k,"for","remember-me"),f(k,"class","svelte-slqvyn"),f(_,"class","svelte-slqvyn"),f(y,"id","accept-terms"),f(y,"type","checkbox"),f(y,"class","svelte-slqvyn"),f(E,"for","accept-terms"),f(E,"class","svelte-slqvyn"),f(d,"class","checkboxes svelte-slqvyn"),f(I,"class","login-status svelte-slqvyn"),f(A,"type","button"),f(A,"class","svelte-slqvyn"),f(Q,"type","submit"),Q.disabled=K=!s[4],f(Q,"class","svelte-slqvyn"),f(D,"class","buttons svelte-slqvyn"),f(l,"class","column-ui svelte-slqvyn"),f(e,"class","fullcenter svelte-slqvyn")},m(J,we){b(J,e,we),v(e,n),v(e,t),v(e,l),v(l,r),v(l,a),v(l,i),v(l,o),v(l,c),v(l,u),v(l,d),v(d,g),g.checked=s[5],v(d,$),v(d,k),v(d,m),v(d,_),v(d,w),v(d,y),y.checked=s[4],v(d,P),v(d,E),v(l,j),v(l,I),v(I,L),v(l,R),v(l,D),v(D,A),v(D,H),v(D,Q),v(Q,oe),F||(Y=[N(g,"change",s[19]),N(y,"change",s[20]),N(A,"click",_e(s[21])),N(l,"submit",_e(s[22]))],F=!0)},p(J,we){we&32&&(g.checked=J[5]),we&16&&(y.checked=J[4]),we&8&&W(L,J[3]),we&16&&K!==(K=!J[4])&&(Q.disabled=K)},i:M,o:M,d(J){J&&h(e),F=!1,ae(Y)}}}function yo(s){let e,n,t,l,r,a,i,o,c,u,d,g,$,k,m,_,w,y,P,E,j,I,L,R;return{c(){e=p("div"),n=p("h1"),n.textContent="Login to Meower",t=S(),l=p("form"),r=p("input"),a=S(),i=p("br"),o=S(),c=p("input"),u=S(),d=p("p"),g=p("input"),$=S(),k=p("label"),k.textContent="Save this login",m=S(),_=p("span"),w=z(s[3]),y=S(),P=p("div"),E=p("button"),E.textContent="Go back",j=S(),I=p("button"),I.textContent="Log in",f(r,"type","text"),f(r,"placeholder","Username"),f(r,"maxlength","20"),f(r,"class","svelte-slqvyn"),f(i,"class","svelte-slqvyn"),f(c,"type","password"),f(c,"placeholder","Password"),f(c,"maxlength","64"),f(c,"class","svelte-slqvyn"),f(g,"id","remember-me"),f(g,"type","checkbox"),f(g,"class","svelte-slqvyn"),f(k,"for","remember-me"),f(k,"class","svelte-slqvyn"),f(d,"class","checkboxes svelte-slqvyn"),f(_,"class","login-status svelte-slqvyn"),f(E,"type","button"),f(E,"class","svelte-slqvyn"),f(I,"type","submit"),f(I,"class","svelte-slqvyn"),f(P,"class","buttons svelte-slqvyn"),f(l,"class","column-ui svelte-slqvyn"),f(e,"class","fullcenter svelte-slqvyn")},m(D,A){b(D,e,A),v(e,n),v(e,t),v(e,l),v(l,r),v(l,a),v(l,i),v(l,o),v(l,c),v(l,u),v(l,d),v(d,g),g.checked=s[5],v(d,$),v(d,k),v(l,m),v(l,_),v(_,w),v(l,y),v(l,P),v(P,E),v(P,j),v(P,I),L||(R=[N(g,"change",s[16]),N(E,"click",_e(s[17])),N(l,"submit",_e(s[18]))],L=!0)},p(D,A){A&32&&(g.checked=D[5]),A&8&&W(w,D[3])},i:M,o:M,d(D){D&&h(e),L=!1,ae(R)}}}function Co(s){let e,n,t,l,r,a,i,o,c,u,d,g,$,k,m,_,w,y=localStorage.getItem("meower_savedusername"),P,E,j,I,L,R,D,A,H,Q,oe,K,F=y&&Po(s);return{c(){e=p("div"),n=p("div"),t=p("div"),l=p("img"),a=S(),i=p("br"),o=p("br"),c=S(),u=p("button"),u.textContent="Log in",d=S(),g=p("br"),$=S(),k=p("button"),k.textContent="Create an account",m=S(),_=p("br"),w=S(),F&&F.c(),P=S(),E=p("button"),E.textContent="Skip",j=S(),I=p("p"),I.textContent="(Several features will be unavailable while not logged in.)",L=S(),R=p("div"),D=p("p"),D.textContent="Meower Svelte v1.4.0 Development",A=S(),H=p("img"),f(l,"alt","Meower"),pe(l.src,r=At)||f(l,"src",r),f(l,"class","logo-img svelte-slqvyn"),f(l,"height","70"),f(i,"class","svelte-slqvyn"),f(o,"class","svelte-slqvyn"),f(t,"class","svelte-slqvyn"),f(u,"class","svelte-slqvyn"),f(g,"class","svelte-slqvyn"),f(k,"class","svelte-slqvyn"),f(_,"class","svelte-slqvyn"),f(E,"class","svelte-slqvyn"),f(I,"class","small svelte-slqvyn"),f(D,"class","small svelte-slqvyn"),pe(H.src,Q=wl)||f(H,"src",Q),f(H,"alt",""),f(H,"height","64"),f(H,"class","svelte-slqvyn"),f(R,"class","svelte-slqvyn"),f(n,"class","column-ui svelte-slqvyn"),f(e,"class","fullcenter svelte-slqvyn")},m(Y,J){b(Y,e,J),v(e,n),v(n,t),v(t,l),v(t,a),v(t,i),v(t,o),v(n,c),v(n,u),v(n,d),v(n,g),v(n,$),v(n,k),v(n,m),v(n,_),v(n,w),F&&F.m(n,null),v(n,P),v(n,E),v(n,j),v(n,I),v(n,L),v(n,R),v(R,D),v(R,A),v(R,H),oe||(K=[N(u,"click",s[12]),N(k,"click",s[13]),N(E,"click",s[15])],oe=!0)},p(Y,J){y&&F.p(Y,J)},i:M,o:M,d(Y){Y&&h(e),F&&F.d(),oe=!1,ae(K)}}}function qo(s){let e;return{c(){e=p("div"),e.textContent="Reconnecting...",f(e,"class","fullcenter svelte-slqvyn")},m(n,t){b(n,e,t)},p:M,i:M,o:M,d(n){n&&h(e)}}}function So(s){let e,n,t,l,r,a,i,o,c,u;return{c(){e=p("div"),n=p("div"),t=p("div"),l=p("img"),a=S(),i=p("div"),o=z(s[3]),f(l,"alt","Meower"),pe(l.src,r=At)||f(l,"src",r),f(l,"class","logo-img svelte-slqvyn"),f(l,"height","40"),f(t,"class","logo top svelte-slqvyn"),f(i,"class","connecting svelte-slqvyn"),f(e,"class","fullcenter svelte-slqvyn")},m(d,g){b(d,e,g),v(e,n),v(n,t),v(t,l),s[10](l),s[11](t),v(n,a),v(n,i),v(i,o),u=!0},p(d,g){(!u||g&8)&&W(o,d[3])},i(d){u||(c&&c.end(1),u=!0)},o(d){c=vl(e,bl,{duration:300}),u=!1},d(d){d&&h(e),s[10](null),s[11](null),d&&c&&c.end()}}}function Po(s){let e,n,t,l,r,a;return{c(){e=p("button"),e.textContent=`Use saved login (${localStorage.getItem("meower_savedusername")})`,n=S(),t=p("p"),l=z(s[3]),f(e,"class","svelte-slqvyn"),f(t,"class","small svelte-slqvyn")},m(i,o){b(i,e,o),b(i,n,o),b(i,t,o),v(t,l),r||(a=N(e,"click",s[14]),r=!0)},p(i,o){o&8&&W(l,i[3])},d(i){i&&h(e),i&&h(n),i&&h(t),r=!1,a()}}}function Mo(s){let e,n,t,l,r;const a=[So,qo,Co,yo,wo,$o,ko,bo],i=[];function o(c,u){return c[8]==="logo"?0:c[8]==="reconnect"?1:c[8]==="welcome"?2:c[8]==="login"?3:c[8]==="join"?4:c[8]==="blank"?5:c[8]==="go"?6:7}return n=o(s),t=i[n]=a[n](s),{c(){e=p("div"),t.c(),f(e,"class","setup white svelte-slqvyn")},m(c,u){b(c,e,u),i[n].m(e,null),s[24](e),r=!0},p(c,[u]){let d=n;n=o(c),n===d?i[n].p(c,u):(te(),q(i[d],1,1,()=>{i[d]=null}),ne(),t=i[n],t?t.p(c,u):(t=i[n]=a[n](c),t.c()),C(t,1),t.m(e,null))},i(c){r||(C(t),l&&l.end(1),r=!0)},o(c){q(t),l=vl(e,bl,{duration:300}),r=!1},d(c){c&&h(e),i[n].d(),s[24](null),c&&l&&l.end()}}}function Eo(s,e,n){let t,l,r;B(s,U,K=>n(6,t=K)),B(s,ce,K=>n(7,l=K)),B(s,fe,K=>n(8,r=K));const a=G;let i,o,c,u="",d=!1;async function g(){await $n(),Zl(),await new Promise(K=>a.once("connected",K))}let $=!1;Ot(()=>{fe.subscribe(async K=>{!o||(n(5,$=!1),n(4,d=!1),o.classList.remove("white"),K==="logo"?($n(),n(3,u=""),await ge(),o.classList.add("white"),n(2,c.height=0,c),i.classList.remove("top"),await ze(600),n(2,c.height=80,c),await ze(300),o.classList.remove("white"),n(2,c.height=40,c),i.classList.add("top"),await ze(700),n(3,u="Connecting..."),await g(),await ze(800),n(3,u=""),fe.set("blank"),await ze(600),fe.set("welcome")):K==="reconnect"&&(await g(),await ze(100),fe.set("welcome")))})});function k(K,F){try{n(3,u="Logging in..."),re({cmd:"direct",val:{cmd:"authpswd",val:{username:K,pswd:F}}}).then(async Y=>{try{const J=await re({cmd:"direct",val:{cmd:"get_profile",val:Y.payload.username}});ie.update(we=>Object.assign(we,{...J.payload,name:Y.payload.username})),Ge.set({username:Y.payload.username,token:Y.payload.token}),$&&(localStorage.setItem("meower_savedusername",K),localStorage.setItem("meower_savedpassword",Y.payload.token)),Te.set("main")}catch(J){console.error(J),n(3,u="Unexpected "+J+" error getting user data!")}}).catch(Y=>{switch(Y){case"E:103 | ID not found":n(3,u="Invalid username!");break;case"I:011 | Invalid Password":n(3,u="Invalid password!");break;case"E:018 | Account Banned":V(ce,l="banned",l),V(U,t=!0,t),n(3,u="");break;case"E:019 | Illegal characters detected":n(3,u="Usernames must not have spaces or other special characters!");break;case"E:106 | Too many requests":n(3,u="Too many requests! Please try again later.");break;default:n(3,u=`Unexpected ${Y} error!`)}})}catch(Y){console.error(Y),n(3,u="Error logging in: "+Y)}}function m(K){Ue[K?"unshift":"push"](()=>{c=K,n(2,c)})}function _(K){Ue[K?"unshift":"push"](()=>{i=K,n(0,i)})}const w=()=>fe.set("login"),y=()=>fe.set("join"),P=()=>{n(5,$=!0),k(localStorage.getItem("meower_savedusername"),localStorage.getItem("meower_savedpassword"))},E=()=>{ie.set(Nt()),n(3,u=""),fe.set("blank"),Te.set("main")};function j(){$=this.checked,n(5,$)}const I=()=>(fe.set("welcome"),n(3,u=""),!1),L=K=>K.target[0].value&&K.target[1].value?(k(K.target[0].value,K.target[1].value),!1):(n(3,u="You must specify a username and a password to login!"),!1);function R(){$=this.checked,n(5,$)}function D(){d=this.checked,n(4,d)}const A=()=>(fe.set("welcome"),n(3,u=""),!1),H=K=>{const F=K.target[0].value,Y=K.target[1].value;if(!(F&&Y))return n(3,u="You must specify a username and a password to create an account!"),!1;n(3,u="Creating account..."),re({cmd:"direct",val:{cmd:"gen_account",val:{username:F,pswd:Y}},listener:"join"}).then(async J=>{if(J.mode==="auth"&&J.payload.username===F){n(3,u="Getting user data...");const we=await re({cmd:"direct",val:{cmd:"get_profile",val:J.payload.username}});ie.update(yl=>Object.assign(yl,{...we.payload,name:J.payload.username})),Ge.set({username:J.payload.username,token:J.payload.token}),n(3,u=""),$&&(localStorage.setItem("meower_savedusername",F),localStorage.setItem("meower_savedpassword",J.payload.token)),fe.set("go"),await ze(1e3),Te.set("main")}else n(3,u="Unexpected error logging in!")}).catch(J=>{switch(J){case"I:015 | Account exists":n(3,u="That username already exists!");break;case"I:011 | Invalid Password":n(3,u="Invalid password!");break;case"E:119 | IP Blocked":V(ce,l="ipBanned",l),V(U,t=!0,t),n(3,u="");break;case"E:019 | Illegal characters detected":n(3,u="Usernames must not have spaces or other special characters!");break;case"E:106 | Too many requests":n(3,u="Too many requests! Please try again later.");break;default:n(3,u=`Unexpected ${J} error!`)}})},Q=()=>fe.set("logo");function oe(K){Ue[K?"unshift":"push"](()=>{o=K,n(1,o)})}return[i,o,c,u,d,$,t,l,r,k,m,_,w,y,P,E,j,I,L,R,D,A,H,Q,oe]}class Io extends ee{constructor(e){super(),Z(this,e,Eo,Mo,X,{})}}function zo(s){let e;return{c(){e=p("h2"),e.textContent="Login to Meower",f(e,"slot","header")},m(n,t){b(n,e,t)},p:M,d(n){n&&h(e)}}}function Lo(s){let e,n,t,l,r,a,i,o,c,u,d,g,$,k,m,_,w,y,P,E,j,I,L=s[1]&&Zn(s);return{c(){e=p("form"),L&&L.c(),n=S(),t=p("input"),l=p("br"),r=p("br"),a=S(),i=p("input"),o=p("br"),c=S(),u=p("p"),d=p("input"),g=S(),$=p("label"),$.textContent="Remember me",k=S(),m=p("br"),_=S(),w=p("div"),y=p("a"),y.textContent="Join Meower",P=S(),E=p("button"),E.textContent="Login",f(t,"type","text"),f(t,"class","modal-input white"),f(t,"placeholder","Username"),f(t,"maxlength","20"),t.value=s[2],t.autofocus=!0,f(i,"type","password"),f(i,"class","modal-input white"),f(i,"placeholder","Password"),f(i,"maxlength","64"),i.value=s[3],f(d,"id","remember-me"),f(d,"type","checkbox"),f(d,"class","svelte-hkhckx"),f($,"for","remember-me"),f($,"class","svelte-hkhckx"),f(u,"class","checkboxes svelte-hkhckx"),f(y,"href","/"),f(E,"type","submit"),f(w,"class","modal-buttons")},m(R,D){b(R,e,D),L&&L.m(e,null),v(e,n),v(e,t),v(e,l),v(e,r),v(e,a),v(e,i),v(e,o),v(e,c),v(e,u),v(u,d),d.checked=s[4],v(u,g),v(u,$),v(e,k),v(e,m),v(e,_),v(e,w),v(w,y),v(w,P),v(w,E),t.focus(),j||(I=[N(d,"change",s[7]),N(y,"click",_e(s[8])),N(e,"submit",_e(s[9]))],j=!0)},p(R,D){R[1]?L?L.p(R,D):(L=Zn(R),L.c(),L.m(e,n)):L&&(L.d(1),L=null),D&4&&t.value!==R[2]&&(t.value=R[2]),D&8&&i.value!==R[3]&&(i.value=R[3]),D&16&&(d.checked=R[4])},i:M,o:M,d(R){R&&h(e),L&&L.d(),j=!1,ae(I)}}}function jo(s){let e,n,t;return n=new ve({}),{c(){e=p("div"),x(n.$$.fragment),f(e,"class","fullcenter svelte-hkhckx")},m(l,r){b(l,e,r),O(n,e,null),t=!0},p:M,i(l){t||(C(n.$$.fragment,l),t=!0)},o(l){q(n.$$.fragment,l),t=!1},d(l){l&&h(e),T(n)}}}function Zn(s){let e,n,t;return{c(){e=p("span"),n=z(s[1]),t=p("br"),f(e,"class","login-status svelte-hkhckx")},m(l,r){b(l,e,r),v(e,n),b(l,t,r)},p(l,r){r&2&&W(n,l[1])},d(l){l&&h(e),l&&h(t)}}}function Oo(s){let e,n,t,l;const r=[jo,Lo],a=[];function i(o,c){return o[0]?0:1}return n=i(s),t=a[n]=r[n](s),{c(){e=p("div"),t.c(),f(e,"slot","default")},m(o,c){b(o,e,c),a[n].m(e,null),l=!0},p(o,c){let u=n;n=i(o),n===u?a[n].p(o,c):(te(),q(a[u],1,1,()=>{a[u]=null}),ne(),t=a[n],t?t.p(o,c):(t=a[n]=r[n](o),t.c()),C(t,1),t.m(e,null))},i(o){l||(C(t),l=!0)},o(o){q(t),l=!1},d(o){o&&h(e),a[n].d()}}}function To(s){let e,n;return e=new me({props:{$$slots:{default:[Oo],header:[zo]},$$scope:{ctx:s}}}),e.$on("close",s[10]),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p(t,[l]){const r={};l&2079&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function xo(s,e,n){let t;B(s,U,k=>n(5,t=k));let l=!1,r="",a="",i="",o=!1;function c(){try{n(0,l=!0),re({cmd:"direct",val:{cmd:"authpswd",val:{username:a,pswd:i}}}).then(async k=>{try{const m=await re({cmd:"direct",val:{cmd:"get_profile",val:k.payload.username}});U.set(!1),ie.update(_=>Object.assign(_,{...m.payload,name:k.payload.username})),Ge.set({username:k.payload.username,token:k.payload.token}),o&&(localStorage.setItem("meower_savedusername",a),localStorage.setItem("meower_savedpassword",k.payload.token)),se.set("blank"),ge().then(()=>se.set("home"))}catch(m){n(0,l=!1),n(1,r="Unexpected "+m+" error getting user data!")}}).catch(k=>{switch(n(0,l=!1),k){case"E:103 | ID not found":n(1,r="Invalid username!");break;case"I:011 | Invalid Password":n(1,r="Invalid password!");break;case"E:018 | Account Banned":ce.set("banned");break;case"E:107 | Packet too large":n(1,r="The username and/or password is too long!");break;case"E:019 | Illegal characters detected":n(1,r="Usernames must not have spaces or other special characters!");break;case"E:106 | Too many requests":n(1,r="Too many requests! Please try again later.");break;default:n(1,r=`Unexpected ${k} error!`)}})}catch(k){console.log(k),n(0,l=!1),n(1,r="Error logging in: "+k)}}function u(){o=this.checked,n(4,o)}return[l,r,a,i,o,t,c,u,()=>{ce.set("signup")},k=>k.target[0].value&&k.target[1].value?(n(2,a=k.target[0].value),n(3,i=k.target[1].value),c(),!1):(n(1,r="You must specify a username and a password to login!"),!1),()=>{V(U,t=!1,t)}]}class No extends ee{constructor(e){super(),Z(this,e,xo,To,X,{})}}function Ro(s){let e;return{c(){e=p("h2"),e.textContent="Join Meower",f(e,"slot","header")},m(n,t){b(n,e,t)},p:M,d(n){n&&h(e)}}}function Ao(s){let e,n,t,l,r,a,i,o,c,u,d,g,$,k,m,_,w,y,P,E,j,I,L,R,D,A,H,Q,oe,K,F=s[1]&&el(s);return{c(){e=p("form"),F&&F.c(),n=S(),t=p("input"),l=p("br"),r=p("br"),a=S(),i=p("input"),o=p("br"),c=S(),u=p("p"),d=p("input"),g=S(),$=p("label"),$.textContent="Remember me",k=S(),m=p("br"),_=S(),w=p("input"),y=S(),P=p("label"),P.innerHTML='I agree to <a href="https://meower.org/legal" target="_blank">Meower&#39;s Terms of Service and Privacy Policy</a>',E=S(),j=p("br"),I=S(),L=p("div"),R=p("a"),R.textContent="Login to Meower",D=S(),A=p("button"),H=z("Create Account"),f(t,"type","text"),f(t,"class","modal-input white"),f(t,"placeholder","Username"),f(t,"maxlength","20"),t.value=s[2],t.autofocus=!0,f(i,"type","password"),f(i,"class","modal-input white"),f(i,"placeholder","Password"),f(i,"maxlength","64"),i.value=s[3],f(d,"id","remember-me"),f(d,"type","checkbox"),f(d,"class","svelte-hkhckx"),f($,"for","remember-me"),f($,"class","svelte-hkhckx"),f(w,"id","accept-terms"),f(w,"type","checkbox"),f(w,"class","svelte-hkhckx"),f(P,"for","accept-terms"),f(P,"class","svelte-hkhckx"),f(u,"class","checkboxes svelte-hkhckx"),f(R,"href","/"),f(A,"type","submit"),A.disabled=Q=!s[4],f(L,"class","modal-buttons")},m(Y,J){b(Y,e,J),F&&F.m(e,null),v(e,n),v(e,t),v(e,l),v(e,r),v(e,a),v(e,i),v(e,o),v(e,c),v(e,u),v(u,d),d.checked=s[5],v(u,g),v(u,$),v(u,k),v(u,m),v(u,_),v(u,w),w.checked=s[4],v(u,y),v(u,P),v(e,E),v(e,j),v(e,I),v(e,L),v(L,R),v(L,D),v(L,A),v(A,H),t.focus(),oe||(K=[N(d,"change",s[8]),N(w,"change",s[9]),N(R,"click",_e(s[10])),N(e,"submit",_e(s[11]))],oe=!0)},p(Y,J){Y[1]?F?F.p(Y,J):(F=el(Y),F.c(),F.m(e,n)):F&&(F.d(1),F=null),J&4&&t.value!==Y[2]&&(t.value=Y[2]),J&8&&i.value!==Y[3]&&(i.value=Y[3]),J&32&&(d.checked=Y[5]),J&16&&(w.checked=Y[4]),J&16&&Q!==(Q=!Y[4])&&(A.disabled=Q)},i:M,o:M,d(Y){Y&&h(e),F&&F.d(),oe=!1,ae(K)}}}function Bo(s){let e,n,t;return n=new ve({}),{c(){e=p("div"),x(n.$$.fragment),f(e,"class","fullcenter svelte-hkhckx")},m(l,r){b(l,e,r),O(n,e,null),t=!0},p:M,i(l){t||(C(n.$$.fragment,l),t=!0)},o(l){q(n.$$.fragment,l),t=!1},d(l){l&&h(e),T(n)}}}function el(s){let e,n,t;return{c(){e=p("span"),n=z(s[1]),t=p("br"),f(e,"class","login-status svelte-hkhckx")},m(l,r){b(l,e,r),v(e,n),b(l,t,r)},p(l,r){r&2&&W(n,l[1])},d(l){l&&h(e),l&&h(t)}}}function Uo(s){let e,n,t,l;const r=[Bo,Ao],a=[];function i(o,c){return o[0]?0:1}return n=i(s),t=a[n]=r[n](s),{c(){e=p("div"),t.c(),f(e,"slot","default")},m(o,c){b(o,e,c),a[n].m(e,null),l=!0},p(o,c){let u=n;n=i(o),n===u?a[n].p(o,c):(te(),q(a[u],1,1,()=>{a[u]=null}),ne(),t=a[n],t?t.p(o,c):(t=a[n]=r[n](o),t.c()),C(t,1),t.m(e,null))},i(o){l||(C(t),l=!0)},o(o){q(t),l=!1},d(o){o&&h(e),a[n].d()}}}function Do(s){let e,n;return e=new me({props:{$$slots:{default:[Uo],header:[Ro]},$$scope:{ctx:s}}}),e.$on("close",s[12]),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p(t,[l]){const r={};l&16447&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Go(s,e,n){let t,l;B(s,ce,w=>n(13,t=w)),B(s,U,w=>n(6,l=w));let r=!1,a="",i="",o="",c=!1,u=!1;function d(){try{n(0,r=!0),re({cmd:"direct",val:{cmd:"gen_account",val:{username:i,pswd:o}},listener:"join"}).then(async w=>{if(w.mode==="auth"&&w.payload.username===i){n(1,a="Getting user data...");const y=await re({cmd:"direct",val:{cmd:"get_profile",val:w.payload.username}});U.set(!1),ie.update(P=>Object.assign(P,{...y.payload,name:w.payload.username})),Ge.set({username:w.payload.username,token:w.payload.token}),n(1,a=""),u&&(localStorage.setItem("meower_savedusername",i),localStorage.setItem("meower_savedpassword",w.payload.token)),se.set("blank"),ge().then(()=>se.set("home"))}else n(1,a="Unexpected error logging in!")}).catch(w=>{switch(n(0,r=!1),w){case"I:015 | Account exists":n(1,a="That username already exists!");break;case"I:011 | Invalid Password":n(1,a="Invalid password!");break;case"E:119 | IP Blocked":V(ce,t="ipBanned",t);break;case"E:019 | Illegal characters detected":n(1,a="Usernames must not have spaces or other special characters!");break;case"E:106 | Too many requests":n(1,a="Too many requests! Please try again later.");break;default:n(1,a=`Unexpected ${w} error!`)}})}catch(w){console.log(w),n(0,r=!1),n(1,a="Error logging in: "+w)}}function g(){u=this.checked,n(5,u)}function $(){c=this.checked,n(4,c)}return[r,a,i,o,c,u,l,d,g,$,()=>{ce.set("login")},w=>w.target[0].value&&w.target[1].value?(n(2,i=w.target[0].value),n(3,o=w.target[1].value),d(),!1):(n(1,a="You must specify a username and a password to create an account!"),!1),()=>{V(U,l=!1,l)}]}class Ko extends ee{constructor(e){super(),Z(this,e,Go,Do,X,{})}}function Yo(s){let e;return{c(){e=p("h2"),e.textContent="Account Banned",f(e,"slot","header")},m(n,t){b(n,e,t)},p:M,d(n){n&&h(e)}}}function Ho(s){let e,n,t,l,r,a,i,o,c,u,d;return{c(){e=p("div"),n=p("p"),n.innerHTML=`Your account has been banned by the Meower moderation team because it was used to violate Meower&#39;s Terms of Service.
            <br/><br/>
            If you would like to discuss this ban, please email <a href="mailto:support@meower.org" target="_blank">support@meower.org</a>.`,t=S(),l=p("br"),r=S(),a=p("div"),i=p("a"),i.textContent="Terms of Service",o=S(),c=p("button"),c.textContent="Close",f(i,"href","https://meower.org/legal"),f(i,"target","_blank"),f(a,"class","modal-buttons"),f(e,"slot","default")},m(g,$){b(g,e,$),v(e,n),v(e,t),v(e,l),v(e,r),v(e,a),v(a,i),v(a,o),v(a,c),u||(d=N(c,"click",s[1]),u=!0)},p:M,d(g){g&&h(e),u=!1,d()}}}function Wo(s){let e,n;return e=new me({props:{$$slots:{default:[Ho],header:[Yo]},$$scope:{ctx:s}}}),e.$on("close",s[2]),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p(t,[l]){const r={};l&9&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Fo(s,e,n){let t;return B(s,U,a=>n(0,t=a)),[t,()=>{V(U,t=!1,t)},()=>{V(U,t=!1,t)}]}class Jo extends ee{constructor(e){super(),Z(this,e,Fo,Wo,X,{})}}function Vo(s){let e;return{c(){e=p("h2"),e.textContent="IP Blocked",f(e,"slot","header")},m(n,t){b(n,e,t)},p:M,d(n){n&&h(e)}}}function Qo(s){let e,n,t,l,r,a,i,o,c,u,d;return{c(){e=p("div"),n=p("p"),n.innerHTML=`Your IP address has been blocked from creating new accounts because it was used to violate Meower&#39;s Terms of Service.
            <br/><br/>
            If you would like to discuss this block, please email <a href="mailto:support@meower.org" target="_blank">support@meower.org</a>.`,t=S(),l=p("br"),r=S(),a=p("div"),i=p("a"),i.textContent="Terms of Service",o=S(),c=p("button"),c.textContent="Close",f(i,"href","https://meower.org/legal"),f(i,"target","_blank"),f(a,"class","modal-buttons"),f(e,"slot","default")},m(g,$){b(g,e,$),v(e,n),v(e,t),v(e,l),v(e,r),v(e,a),v(a,i),v(a,o),v(a,c),u||(d=N(c,"click",s[1]),u=!0)},p:M,d(g){g&&h(e),u=!1,d()}}}function Xo(s){let e,n;return e=new me({props:{$$slots:{default:[Qo],header:[Vo]},$$scope:{ctx:s}}}),e.$on("close",s[2]),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p(t,[l]){const r={};l&9&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Zo(s,e,n){let t;return B(s,U,a=>n(0,t=a)),[t,()=>{V(U,t=!1,t)},()=>{V(U,t=!1,t)}]}class ei extends ee{constructor(e){super(),Z(this,e,Zo,Xo,X,{})}}function ti(s){let e;return{c(){e=p("h2"),e.textContent="Report Post",f(e,"slot","header")},m(n,t){b(n,e,t)},p:M,d(n){n&&h(e)}}}function ni(s){let e,n,t,l,r,a,i,o;return{c(){e=p("p"),e.textContent="Successfully reported post! A member of the Meower moderation team will review it shortly.",n=S(),t=p("br"),l=S(),r=p("div"),a=p("button"),a.textContent="Close",f(r,"class","modal-buttons")},m(c,u){b(c,e,u),b(c,n,u),b(c,t,u),b(c,l,u),b(c,r,u),v(r,a),i||(o=N(a,"click",s[5]),i=!0)},p:M,i:M,o:M,d(c){c&&h(e),c&&h(n),c&&h(t),c&&h(l),c&&h(r),i=!1,o()}}}function li(s){let e,n,t,l,r,a,i,o,c,u,d,g,$;return t=new Je({props:{post:s[2],buttons:!1}}),{c(){e=p("p"),e.innerHTML=`Are you sure you would like to report this post?
                <br/><br/>
                Please make sure you&#39;re only reporting stuff that is against the Meower <a href="https://meower.org/legal" target="_blank">Terms of Service</a>.`,n=S(),x(t.$$.fragment),l=S(),r=p("br"),a=S(),i=p("div"),o=p("button"),o.textContent="Cancel",c=S(),u=p("button"),u.textContent="Report",f(i,"class","modal-buttons")},m(k,m){b(k,e,m),b(k,n,m),O(t,k,m),b(k,l,m),b(k,r,m),b(k,a,m),b(k,i,m),v(i,o),v(i,c),v(i,u),d=!0,g||($=[N(o,"click",s[3]),N(u,"click",s[4])],g=!0)},p(k,m){const _={};m&4&&(_.post=k[2]),t.$set(_)},i(k){d||(C(t.$$.fragment,k),d=!0)},o(k){q(t.$$.fragment,k),d=!1},d(k){k&&h(e),k&&h(n),T(t,k),k&&h(l),k&&h(r),k&&h(a),k&&h(i),g=!1,ae($)}}}function si(s){let e,n,t,l;const r=[li,ni],a=[];function i(o,c){return o[0]===0?0:o[0]===1?1:-1}return~(n=i(s))&&(t=a[n]=r[n](s)),{c(){e=p("div"),t&&t.c(),f(e,"slot","default")},m(o,c){b(o,e,c),~n&&a[n].m(e,null),l=!0},p(o,c){let u=n;n=i(o),n===u?~n&&a[n].p(o,c):(t&&(te(),q(a[u],1,1,()=>{a[u]=null}),ne()),~n?(t=a[n],t?t.p(o,c):(t=a[n]=r[n](o),t.c()),C(t,1),t.m(e,null)):t=null)},i(o){l||(C(t),l=!0)},o(o){q(t),l=!1},d(o){o&&h(e),~n&&a[n].d()}}}function ri(s){let e,n;return e=new me({props:{$$slots:{default:[si],header:[ti]},$$scope:{ctx:s}}}),e.$on("close",s[6]),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p(t,[l]){const r={};l&135&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function oi(s,e,n){let t,l;B(s,U,u=>n(1,t=u)),B(s,ht,u=>n(2,l=u));let r=0;return[r,t,l,()=>{V(U,t=!1,t)},()=>{re({cmd:"direct",val:{cmd:"report",val:{type:0,id:l.post_id}}}),n(0,r=1)},()=>{V(U,t=!1,t)},()=>{V(U,t=!1,t)}]}class ii extends ee{constructor(e){super(),Z(this,e,oi,ri,X,{})}}function ai(s){let e;return{c(){e=p("h2"),e.textContent="Delete Post",f(e,"slot","header")},m(n,t){b(n,e,t)},p:M,d(n){n&&h(e)}}}function ci(s){let e,n,t,l,r,a,i,o,c,u,d,g,$,k;return l=new Je({props:{post:s[1],buttons:!1}}),{c(){e=p("div"),n=p("p"),n.textContent="Are you sure you would like to delete this post?",t=S(),x(l.$$.fragment),r=S(),a=p("br"),i=S(),o=p("div"),c=p("button"),c.textContent="Cancel",u=S(),d=p("button"),d.textContent="Delete",d.autofocus=!0,f(o,"class","modal-buttons"),f(e,"slot","default")},m(m,_){b(m,e,_),v(e,n),v(e,t),O(l,e,null),v(e,r),v(e,a),v(e,i),v(e,o),v(o,c),v(o,u),v(o,d),g=!0,d.focus(),$||(k=[N(c,"click",s[2]),N(d,"click",s[3])],$=!0)},p(m,_){const w={};_&2&&(w.post=m[1]),l.$set(w)},i(m){g||(C(l.$$.fragment,m),g=!0)},o(m){q(l.$$.fragment,m),g=!1},d(m){m&&h(e),T(l),$=!1,ae(k)}}}function ui(s){let e,n;return e=new me({props:{$$slots:{default:[ci],header:[ai]},$$scope:{ctx:s}}}),e.$on("close",s[4]),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p(t,[l]){const r={};l&35&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function fi(s,e,n){let t,l;return B(s,U,o=>n(0,t=o)),B(s,ht,o=>n(1,l=o)),[t,l,()=>{V(U,t=!1,t)},()=>{re({cmd:"direct",val:{cmd:"delete_post",val:l.post_id}}),V(U,t=!1,t)},()=>{V(U,t=!1,t)}]}class di extends ee{constructor(e){super(),Z(this,e,fi,ui,X,{})}}function mi(s){let e,n="Profile of "+s[1],t;return{c(){e=p("h2"),t=z(n),f(e,"slot","header")},m(l,r){b(l,e,r),v(e,t)},p(l,r){r&2&&n!==(n="Profile of "+l[1])&&W(t,n)},d(l){l&&h(e)}}}function pi(s){let e,n,t,l,r,a,i,o;return e=new le({props:{$$slots:{default:[_i]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment),n=S(),t=p("button"),t.textContent="Remove from chat",l=S(),r=p("button"),r.textContent="Close",f(t,"class","long svelte-1q8brxa"),f(r,"class","long svelte-1q8brxa")},m(c,u){O(e,c,u),b(c,n,u),b(c,t,u),b(c,l,u),b(c,r,u),a=!0,i||(o=[N(t,"click",s[9]),N(r,"click",s[10])],i=!0)},p(c,u){const d={};u&65536&&(d.$$scope={dirty:u,ctx:c}),e.$set(d)},i(c){a||(C(e.$$.fragment,c),a=!0)},o(c){q(e.$$.fragment,c),a=!1},d(c){T(e,c),c&&h(n),c&&h(t),c&&h(l),c&&h(r),i=!1,ae(o)}}}function _i(s){let e,n,t,l=s[15]+"",r;return{c(){e=z(`Error loading user profile.\r
				`),n=p("pre"),t=p("code"),r=z(l)},m(a,i){b(a,e,i),b(a,n,i),v(n,t),v(t,r)},p:M,d(a){a&&h(e),a&&h(n)}}}function gi(s){let e,n,t,l,r,a,i,o,c,u;return e=new le({props:{$$slots:{default:[vi]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment),n=S(),t=p("button"),t.textContent="View full profile",l=S(),r=p("button"),r.textContent="Remove from chat",a=S(),i=p("button"),i.textContent="Close",f(t,"class","long svelte-1q8brxa"),f(r,"class","long svelte-1q8brxa"),f(i,"class","long svelte-1q8brxa")},m(d,g){O(e,d,g),b(d,n,g),b(d,t,g),b(d,l,g),b(d,r,g),b(d,a,g),b(d,i,g),o=!0,c||(u=[N(t,"click",s[6]),N(r,"click",s[7]),N(i,"click",s[8])],c=!0)},p(d,g){const $={};g&65547&&($.$$scope={dirty:g,ctx:d}),e.$set($)},i(d){o||(C(e.$$.fragment,d),o=!0)},o(d){q(e.$$.fragment,d),o=!1},d(d){T(e,d),d&&h(n),d&&h(t),d&&h(l),d&&h(r),d&&h(a),d&&h(i),c=!1,ae(u)}}}function vi(s){let e,n,t,l,r,a,i,o,c=s[3].includes(s[1])?"Online":"Offline",u,d,g,$=($l[s[14].lvl]||"Unknown")+"",k,m;return n=new We({props:{online:s[3].includes(s[1]),icon:s[1]===s[0].name?s[0].pfp_data:s[14].pfp_data,alt:s[1]+"'s profile picture",big:!0}}),{c(){e=p("div"),x(n.$$.fragment),t=S(),l=p("div"),r=p("h1"),a=z(s[1]),i=S(),o=p("div"),u=z(c),d=S(),g=p("div"),k=z($),f(r,"class","profile-username svelte-1q8brxa"),f(o,"class","profile-active svelte-1q8brxa"),f(g,"class","profile-role svelte-1q8brxa"),f(l,"class","profile-header-info svelte-1q8brxa"),f(e,"class","profile-header svelte-1q8brxa")},m(_,w){b(_,e,w),O(n,e,null),v(e,t),v(e,l),v(l,r),v(r,a),v(l,i),v(l,o),v(o,u),v(l,d),v(l,g),v(g,k),m=!0},p(_,w){const y={};w&10&&(y.online=_[3].includes(_[1])),w&3&&(y.icon=_[1]===_[0].name?_[0].pfp_data:_[14].pfp_data),w&2&&(y.alt=_[1]+"'s profile picture"),n.$set(y),(!m||w&2)&&W(a,_[1]),(!m||w&10)&&c!==(c=_[3].includes(_[1])?"Online":"Offline")&&W(u,c)},i(_){m||(C(n.$$.fragment,_),m=!0)},o(_){q(n.$$.fragment,_),m=!1},d(_){_&&h(e),T(n)}}}function hi(s){let e,n,t;return n=new ve({}),{c(){e=p("div"),x(n.$$.fragment),f(e,"class","fullcenter svelte-1q8brxa")},m(l,r){b(l,e,r),O(n,e,null),t=!0},p:M,i(l){t||(C(n.$$.fragment,l),t=!0)},o(l){q(n.$$.fragment,l),t=!1},d(l){l&&h(e),T(n)}}}function bi(s){let e,n,t={ctx:s,current:null,token:null,hasCatch:!0,pending:hi,then:gi,catch:pi,value:14,error:15,blocks:[,,,]};return Ye(s[5](),t),{c(){e=p("div"),t.block.c(),f(e,"slot","default")},m(l,r){b(l,e,r),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null,n=!0},p(l,r){s=l,He(t,s,r)},i(l){n||(C(t.block),n=!0)},o(l){for(let r=0;r<3;r+=1){const a=t.blocks[r];q(a)}n=!1},d(l){l&&h(e),t.block.d(),t.token=null,t=null}}}function ki(s){let e,n;return e=new me({props:{$$slots:{default:[bi],header:[mi]},$$scope:{ctx:s}}}),e.$on("close",s[11]),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p(t,[l]){const r={};l&65567&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function $i(s,e,n){let t,l,r,a,i;B(s,ie,m=>n(0,t=m)),B(s,ye,m=>n(12,m)),B(s,xt,m=>n(1,l=m)),B(s,U,m=>n(2,r=m)),B(s,$e,m=>n(3,a=m)),B(s,be,m=>n(4,i=m));async function o(){let m=`users/${l}`;Fe&&(m=encodeURIComponent(m));const _=await fetch(`${Se}${m}`);if(!_.ok)throw new Error("Response code is not OK; code is "+_.status);return await _.json()}return[t,l,r,a,i,o,()=>{V(U,r=!1,r),re({cmd:"direct",val:{cmd:"set_chat_state",val:{state:0,chatid:i}}}),De.set(l),se.set("profile")},()=>{ce.set("Memberem")},()=>{V(U,r=!1,r)},()=>{ce.set("Memberem")},()=>{V(U,r=!1,r)},()=>{V(U,r=!1,r)}]}class wi extends ee{constructor(e){super(),Z(this,e,$i,ki,X,{})}}function yi(s){let e,n="Remove "+s[0]+" From "+s[4]+"?",t;return{c(){e=p("h2"),t=z(n),f(e,"slot","header")},m(l,r){b(l,e,r),v(e,t)},p(l,r){r&17&&n!==(n="Remove "+l[0]+" From "+l[4]+"?")&&W(t,n)},d(l){l&&h(e)}}}function Ci(s){let e,n,t,l;return{c(){e=p("div"),n=p("button"),n.textContent="Yes",f(n,"class","long svelte-1ntawbt"),f(e,"slot","default")},m(r,a){b(r,e,a),v(e,n),t||(l=N(n,"click",s[6]),t=!0)},p:M,d(r){r&&h(e),t=!1,l()}}}function qi(s){let e,n;return e=new me({props:{$$slots:{default:[Ci],header:[yi]},$$scope:{ctx:s}}}),e.$on("close",s[7]),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p(t,[l]){const r={};l&287&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Si(s,e,n){let t,l,r,a,i;B(s,xt,d=>n(0,t=d)),B(s,U,d=>n(1,l=d)),B(s,be,d=>n(2,r=d)),B(s,et,d=>n(3,a=d)),B(s,Ee,d=>n(4,i=d));function o(d){return d!==t}return[t,l,r,a,i,o,()=>{re({cmd:"direct",val:{cmd:"remove_from_chat",val:{chatid:r,username:t}}}),V(et,a=a.filter(o),a),V(U,l=!1,l),se.set("blank"),ge().then(()=>se.set("groupchat"))},()=>{V(U,l=!1,l)}]}class Pi extends ee{constructor(e){super(),Z(this,e,Si,qi,X,{})}}function Mi(s){let e,n="Add Member To '"+s[1]+"'?",t;return{c(){e=p("h2"),t=z(n),f(e,"slot","header")},m(l,r){b(l,e,r),v(e,t)},p(l,r){r&2&&n!==(n="Add Member To '"+l[1]+"'?")&&W(t,n)},d(l){l&&h(e)}}}function Ei(s){let e,n,t,l;return{c(){e=p("div"),n=p("button"),n.textContent="Add Member By Name",f(n,"class","long svelte-1ntawbt"),f(e,"slot","default")},m(r,a){b(r,e,a),v(e,n),t||(l=N(n,"click",s[2]),t=!0)},p:M,d(r){r&&h(e),t=!1,l()}}}function Ii(s){let e,n;return e=new me({props:{$$slots:{default:[Ei],header:[Mi]},$$scope:{ctx:s}}}),e.$on("close",s[3]),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p(t,[l]){const r={};l&18&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function zi(s,e,n){let t,l;return B(s,U,i=>n(0,t=i)),B(s,Ee,i=>n(1,l=i)),[t,l,()=>{ce.set("AddMemberBN")},()=>{V(U,t=!1,t)}]}class Li extends ee{constructor(e){super(),Z(this,e,zi,Ii,X,{})}}function ji(s){let e;return{c(){e=p("h2"),e.textContent="Create chat",f(e,"slot","header")},m(n,t){b(n,e,t)},p:M,d(n){n&&h(e)}}}function tl(s){let e,n,t;return{c(){e=p("span"),n=z(s[0]),t=p("br"),f(e,"class","login-status")},m(l,r){b(l,e,r),v(e,n),b(l,t,r)},p(l,r){r&1&&W(n,l[0])},d(l){l&&h(e),l&&h(t)}}}function Oi(s){let e,n,t,l,r,a,i,o,c,u,d,g,$,k=s[0]&&tl(s);return{c(){e=p("div"),n=p("form"),k&&k.c(),t=S(),l=p("input"),r=p("br"),a=p("br"),i=S(),o=p("div"),c=p("button"),c.textContent="Cancel",u=S(),d=p("button"),d.textContent="Create",f(l,"type","text"),f(l,"class","modal-input white"),f(l,"placeholder","Nickname"),f(l,"maxlength","20"),l.autofocus=!0,f(c,"type","button"),f(d,"type","submit"),f(o,"class","modal-buttons"),f(e,"slot","default")},m(m,_){b(m,e,_),v(e,n),k&&k.m(n,null),v(n,t),v(n,l),v(n,r),v(n,a),v(n,i),v(n,o),v(o,c),v(o,u),v(o,d),l.focus(),g||($=[N(c,"click",s[3]),N(n,"submit",_e(s[4]))],g=!0)},p(m,_){m[0]?k?k.p(m,_):(k=tl(m),k.c(),k.m(n,t)):k&&(k.d(1),k=null)},d(m){m&&h(e),k&&k.d(),g=!1,ae($)}}}function Ti(s){let e,n;return e=new me({props:{$$slots:{default:[Oi],header:[ji]},$$scope:{ctx:s}}}),e.$on("close",s[5]),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p(t,[l]){const r={};l&67&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function xi(s,e,n){let t;B(s,U,c=>n(1,t=c));let l="";function r(c){try{n(0,l="Creating chat..."),re({cmd:"direct",val:{cmd:"create_chat",val:c}}).then(()=>{U.set(!1),se.set("blank"),ge().then(()=>se.set("chatlist"))}).catch(u=>{n(0,l=`Unexpected ${u} error!`)})}catch(u){console.error(u),n(0,l="Error logging in: "+u)}}return[l,t,r,()=>{V(U,t=!1,t)},c=>c.target[0].value?(r(c.target[0].value),!1):(n(0,l="You must specify a nickname to create the chat!"),!1),()=>{V(U,t=!1,t)}]}class Ni extends ee{constructor(e){super(),Z(this,e,xi,Ti,X,{})}}function Ri(s){let e,n,t=s[2].nickname+"",l;return{c(){e=p("h2"),n=z("Members of "),l=z(t),f(e,"slot","header")},m(r,a){b(r,e,a),v(e,n),v(e,l)},p(r,a){a&4&&t!==(t=r[2].nickname+"")&&W(l,t)},d(r){r&&h(e)}}}function nl(s){let e,n,t;return{c(){e=p("span"),n=z(s[0]),t=p("br"),f(e,"class","status svelte-1n4b2ff")},m(l,r){b(l,e,r),v(e,n),b(l,t,r)},p(l,r){r&1&&W(n,l[0])},d(l){l&&h(e),l&&h(t)}}}function Ai(s){let e,n,t,l,r,a,i,o,c,u,d,g,$,k=s[0]&&nl(s);return{c(){e=p("div"),n=p("form"),k&&k.c(),t=S(),l=p("input"),r=S(),a=p("button"),a.textContent="Add",i=p("br"),o=p("br"),c=S(),u=p("div"),d=p("button"),d.textContent="Close",f(l,"type","text"),f(l,"class","modal-input white"),Oe(l,"width","87%"),f(l,"placeholder","Enter username..."),f(l,"maxlength","20"),f(a,"width","auto"),f(u,"class","modal-buttons"),f(e,"slot","default")},m(m,_){b(m,e,_),v(e,n),k&&k.m(n,null),v(n,t),v(n,l),v(n,r),v(n,a),v(n,i),v(n,o),v(e,c),v(e,u),v(u,d),g||($=[N(n,"submit",_e(s[3])),N(d,"click",s[4])],g=!0)},p(m,_){m[0]?k?k.p(m,_):(k=nl(m),k.c(),k.m(n,t)):k&&(k.d(1),k=null)},d(m){m&&h(e),k&&k.d(),g=!1,ae($)}}}function Bi(s){let e,n;return e=new me({props:{$$slots:{default:[Ai],header:[Ri]},$$scope:{ctx:s}}}),e.$on("close",s[5]),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p(t,[l]){const r={};l&71&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Ui(s,e,n){let t,l;B(s,U,c=>n(1,t=c)),B(s,Bl,c=>n(2,l=c));let r="";return[r,t,l,c=>(c.target[0].value||n(0,r="You must specify a nickname to create the chat!"),!1),()=>{V(U,t=!1,t)},()=>{V(U,t=!1,t)}]}class Di extends ee{constructor(e){super(),Z(this,e,Ui,Bi,X,{})}}function Gi(s){let e,n="Add Member To '"+s[3]+"'? - By Name",t;return{c(){e=p("h2"),t=z(n),f(e,"slot","header")},m(l,r){b(l,e,r),v(e,t)},p(l,r){r&8&&n!==(n="Add Member To '"+l[3]+"'? - By Name")&&W(t,n)},d(l){l&&h(e)}}}function Ki(s){let e,n,t,l;return{c(){e=p("div"),n=p("form"),n.innerHTML=`<input type="text" class="long white svelte-1ntawbt" placeholder="Add Via Search" id="postinput" name="postinput" autocomplete="false" maxlength="360"/> 
            <br/><br/> 
            <button class="long svelte-1ntawbt">Add member</button>`,f(e,"slot","default")},m(r,a){b(r,e,a),v(e,n),t||(l=N(n,"submit",_e(s[4])),t=!0)},p:M,d(r){r&&h(e),t=!1,l()}}}function Yi(s){let e,n;return e=new me({props:{$$slots:{default:[Ki],header:[Gi]},$$scope:{ctx:s}}}),e.$on("close",s[5]),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p(t,[l]){const r={};l&79&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Hi(s,e,n){let t,l,r,a;return B(s,U,c=>n(0,t=c)),B(s,be,c=>n(1,l=c)),B(s,et,c=>n(2,r=c)),B(s,Ee,c=>n(3,a=c)),[t,l,r,a,c=>{re({cmd:"direct",val:{cmd:"add_to_chat",val:{chatid:l,username:c.target[0].value}}}),r.push(c.target[0].value),V(U,t=!1,t),se.set("blank"),ge().then(()=>se.set("groupchat"))},()=>{V(U,t=!1,t)}]}class Wi extends ee{constructor(e){super(),Z(this,e,Hi,Yi,X,{})}}function Fi(s){let e;return{c(){e=p("h2"),e.textContent="Invalid modalPage string",f(e,"slot","header")},m(n,t){b(n,e,t)},p:M,d(n){n&&h(e)}}}function Ji(s){let e,n,t="Invalid modalPage string for '"+s[1]+"'",l,r,a;return{c(){e=p("div"),n=p("p"),l=z(t),r=S(),a=p("small"),a.textContent="PS to devlopers, Your code may be working!",f(a,"class","smol svelte-mytpja"),f(e,"slot","default")},m(i,o){b(i,e,o),v(e,n),v(n,l),v(e,r),v(e,a)},p(i,o){o&2&&t!==(t="Invalid modalPage string for '"+i[1]+"'")&&W(l,t)},d(i){i&&h(e)}}}function Vi(s){let e,n;return e=new me({props:{$$slots:{default:[Ji],header:[Fi]},$$scope:{ctx:s}}}),e.$on("close",s[2]),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p(t,[l]){const r={};l&10&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Qi(s,e,n){let t,l;return B(s,U,a=>n(0,t=a)),B(s,ce,a=>n(1,l=a)),[t,l,()=>{V(U,t=!1,t)}]}class Xi extends ee{constructor(e){super(),Z(this,e,Qi,Vi,X,{})}}function Zi(s){let e;return{c(){e=p("h2"),e.textContent="Change Password",f(e,"slot","header")},m(n,t){b(n,e,t)},p:M,d(n){n&&h(e)}}}function ll(s){let e,n,t;return{c(){e=p("span"),n=z(s[0]),t=p("br"),f(e,"class","login-status")},m(l,r){b(l,e,r),v(e,n),b(l,t,r)},p(l,r){r&1&&W(n,l[0])},d(l){l&&h(e),l&&h(t)}}}function ea(s){let e,n,t,l,r,a,i,o,c,u,d,g,$,k,m,_,w,y=s[0]&&ll(s);return{c(){e=p("div"),n=p("form"),y&&y.c(),t=S(),l=p("input"),r=p("br"),a=p("br"),i=S(),o=p("input"),c=p("br"),u=p("br"),d=S(),g=p("div"),$=p("button"),$.textContent="Cancel",k=S(),m=p("button"),m.textContent="Change Password",f(l,"type","password"),f(l,"class","modal-input white"),f(l,"placeholder","New Password"),f(l,"maxlength","64"),f(o,"type","password"),f(o,"class","modal-input white"),f(o,"placeholder","Confirm New Password"),f(o,"maxlength","64"),f($,"type","button"),f(m,"type","submit"),f(g,"class","modal-buttons"),f(e,"slot","default")},m(P,E){b(P,e,E),v(e,n),y&&y.m(n,null),v(n,t),v(n,l),v(n,r),v(n,a),v(n,i),v(n,o),v(n,c),v(n,u),v(n,d),v(n,g),v(g,$),v(g,k),v(g,m),_||(w=[N($,"click",s[2]),N(n,"submit",_e(s[3]))],_=!0)},p(P,E){P[0]?y?y.p(P,E):(y=ll(P),y.c(),y.m(n,t)):y&&(y.d(1),y=null)},d(P){P&&h(e),y&&y.d(),_=!1,ae(w)}}}function ta(s){let e,n;return e=new me({props:{$$slots:{default:[ea],header:[Zi]},$$scope:{ctx:s}}}),e.$on("close",s[4]),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p(t,[l]){const r={};l&35&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function na(s,e,n){let t;B(s,U,o=>n(1,t=o));let l="";return[l,t,()=>{V(U,t=!1,t)},async o=>{if(!o.target[0].value)return n(0,l="You must specify a new password to change your password!"),!1;if(o.target[0].value!==o.target[1].value)return n(0,l="Passwords do not match!"),!1;n(0,l="Changing password..."),await re({cmd:"direct",val:{cmd:"change_pswd",val:o.target[0].value}}),V(U,t=!1,t),Te.set("setup"),await ge(),fe.set("reconnect")},()=>{V(U,t=!1,t)}]}class la extends ee{constructor(e){super(),Z(this,e,na,ta,X,{})}}function sa(s){let e;return{c(){e=p("div"),f(e,"class","spinner check svelte-o9ugf6")},m(n,t){b(n,e,t)},p:M,i:M,o:M,d(n){n&&h(e)}}}class ra extends ee{constructor(e){super(),Z(this,e,null,sa,X,{})}}function sl(s){let e,n;return e=new me({props:{$$slots:{default:[ma],header:[oa]},$$scope:{ctx:s}}}),e.$on("close",s[8]),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},p(t,l){const r={};l&516&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function oa(s){let e;return{c(){e=p("h2"),e.textContent="Me-owch.",f(e,"slot","header")},m(n,t){b(n,e,t)},p:M,d(n){n&&h(e)}}}function ia(s){let e,n,t,l;return{c(){e=z(`We ran into an error trying to connect to the server.\r
						`),n=p("pre"),t=p("code"),l=z(s[2])},m(r,a){b(r,e,a),b(r,n,a),v(n,t),v(t,l)},p(r,a){a&4&&W(l,r[2])},d(r){r&&h(e),r&&h(n)}}}function aa(s){let e;return{c(){e=z("You have been kicked by a moderator.")},m(n,t){b(n,e,t)},p:M,d(n){n&&h(e)}}}function ca(s){let e;return{c(){e=z("You have been banned by a moderator.")},m(n,t){b(n,e,t)},p:M,d(n){n&&h(e)}}}function ua(s){let e,n,t,l;return{c(){e=z(`There has been a hiccup! Looks like you logged into Meower from another device.\r
						`),n=p("br"),t=p("br"),l=z(`\r
						Please check any devices currently logged into Meower and try again.`)},m(r,a){b(r,e,a),b(r,n,a),b(r,t,a),b(r,l,a)},p:M,d(r){r&&h(e),r&&h(n),r&&h(t),r&&h(l)}}}function fa(s){let e,n=G.ip+"",t,l;return{c(){e=z("The server has blocked your IP address ("),t=z(n),l=z(").")},m(r,a){b(r,e,a),b(r,t,a),b(r,l,a)},p:M,d(r){r&&h(e),r&&h(t),r&&h(l)}}}function da(s){let e;return{c(){e=z("Something went wrong and the connection to Meower was lost.")},m(n,t){b(n,e,t)},p:M,d(n){n&&h(e)}}}function ma(s){let e,n,t,l,r,a;function i(u,d){return u[2]===""?da:u[2]==="E:119 | IP Blocked"?fa:u[2]=="E:110 | ID conflict"?ua:u[2]=="E:018 | Account Banned"?ca:u[2]=="E:020 | Kicked"?aa:ia}let o=i(s),c=o(s);return{c(){e=p("div"),n=p("p"),c.c(),t=S(),l=p("button"),l.textContent="Reconnect",f(e,"slot","default")},m(u,d){b(u,e,d),v(e,n),c.m(n,null),v(e,t),v(e,l),r||(a=N(l,"click",s[7]),r=!0)},p(u,d){o===(o=i(u))&&c?c.p(u,d):(c.d(1),c=o(u),c&&(c.c(),c.m(n,null)))},d(u){u&&h(e),c.d(),r=!1,a()}}}function rl(s){let e,n,t,l;const r=[Pa,Sa,qa,Ca,ya,wa,$a,ka,ba,ha,va,ga,_a,pa],a=[];function i(o,c){return o[4]==="login"?0:o[4]==="signup"?1:o[4]==="banned"?2:o[4]==="ipBanned"?3:o[4]==="reportPost"?4:o[4]==="deletePost"?5:o[4]==="createChat"?6:o[4]==="chatMembers"?7:o[4]==="changePassword"?8:o[4]==="GC_Member"?9:o[4]==="Memberem"?10:o[4]==="AddMember"?11:o[4]==="AddMemberBN"?12:13}return e=i(s),n=a[e]=r[e](s),{c(){n.c(),t=Ie()},m(o,c){a[e].m(o,c),b(o,t,c),l=!0},p(o,c){let u=e;e=i(o),e!==u&&(te(),q(a[u],1,1,()=>{a[u]=null}),ne(),n=a[e],n||(n=a[e]=r[e](o),n.c()),C(n,1),n.m(t.parentNode,t))},i(o){l||(C(n),l=!0)},o(o){q(n),l=!1},d(o){a[e].d(o),o&&h(t)}}}function pa(s){let e,n;return e=new Xi({}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function _a(s){let e,n;return e=new Wi({}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function ga(s){let e,n;return e=new Li({}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function va(s){let e,n;return e=new Pi({}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function ha(s){let e,n;return e=new wi({}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function ba(s){let e,n;return e=new la({}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function ka(s){let e,n;return e=new Di({}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function $a(s){let e,n;return e=new Ni({}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function wa(s){let e,n;return e=new di({}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function ya(s){let e,n;return e=new ii({}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Ca(s){let e,n;return e=new ei({}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function qa(s){let e,n;return e=new Jo({}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Sa(s){let e,n;return e=new Ko({}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Pa(s){let e,n;return e=new No({}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Ma(s){let e,n;return e=new ho({}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Ea(s){let e,n;return e=new Io({}),{c(){x(e.$$.fragment)},m(t,l){O(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function ol(s){let e,n,t;return n=new ra({}),{c(){e=p("div"),x(n.$$.fragment),f(e,"class","spinner-container svelte-17c7hqb")},m(l,r){b(l,e,r),O(n,e,null),t=!0},i(l){t||(C(n.$$.fragment,l),t=!0)},o(l){q(n.$$.fragment,l),t=!1},d(l){l&&h(e),T(n)}}}function Ia(s){let e,n,t,l,r,a,i,o=s[1]&&sl(s),c=s[3]&&rl(s);const u=[Ea,Ma],d=[];function g(k,m){return k[5]==="setup"?0:1}l=g(s),r=d[l]=u[l](s);let $=s[6]&&ol();return{c(){e=p("main"),o&&o.c(),n=S(),c&&c.c(),t=S(),r.c(),a=S(),$&&$.c(),f(e,"id","main"),f(e,"class","svelte-17c7hqb"),de(e,"theme-orange",s[0].theme==="orange"),de(e,"theme-blue",s[0].theme==="blue"),de(e,"mode-light",s[0].mode!==!1),de(e,"mode-dark",s[0].mode===!1),de(e,"layout-old",s[0].layout==="old")},m(k,m){b(k,e,m),o&&o.m(e,null),v(e,n),c&&c.m(e,null),v(e,t),d[l].m(e,null),v(e,a),$&&$.m(e,null),i=!0},p(k,[m]){k[1]?o?(o.p(k,m),m&2&&C(o,1)):(o=sl(k),o.c(),C(o,1),o.m(e,n)):o&&(te(),q(o,1,1,()=>{o=null}),ne()),k[3]?c?(c.p(k,m),m&8&&C(c,1)):(c=rl(k),c.c(),C(c,1),c.m(e,t)):c&&(te(),q(c,1,1,()=>{c=null}),ne());let _=l;l=g(k),l!==_&&(te(),q(d[_],1,1,()=>{d[_]=null}),ne(),r=d[l],r||(r=d[l]=u[l](k),r.c()),C(r,1),r.m(e,a)),k[6]?$?m&64&&C($,1):($=ol(),$.c(),C($,1),$.m(e,null)):$&&(te(),q($,1,1,()=>{$=null}),ne()),m&1&&de(e,"theme-orange",k[0].theme==="orange"),m&1&&de(e,"theme-blue",k[0].theme==="blue"),m&1&&de(e,"mode-light",k[0].mode!==!1),m&1&&de(e,"mode-dark",k[0].mode===!1),m&1&&de(e,"layout-old",k[0].layout==="old")},i(k){i||(C(o),C(c),C(r),C($),i=!0)},o(k){q(o),q(c),q(r),q($),i=!1},d(k){k&&h(e),o&&o.d(),c&&c.d(),d[l].d(),$&&$.d()}}}function za(s,e,n){let t,l,r,a,i,o,c;return B(s,ie,g=>n(0,t=g)),B(s,Le,g=>n(1,l=g)),B(s,pt,g=>n(2,r=g)),B(s,U,g=>n(3,a=g)),B(s,ce,g=>n(4,i=g)),B(s,Te,g=>n(5,o=g)),B(s,xe,g=>n(6,c=g)),[t,l,r,a,i,o,c,async()=>{Te.set("setup"),Le.set(!1),await ge(),fe.set("reconnect")},()=>{V(Le,l=!1,l)}]}class La extends ee{constructor(e){super(),Z(this,e,za,Ia,X,{})}}try{navigator.serviceWorker&&navigator.serviceWorker.register("../sw.js",{type:"classic"})}catch(s){console.error(s)}new La({target:document.getElementById("app")});
