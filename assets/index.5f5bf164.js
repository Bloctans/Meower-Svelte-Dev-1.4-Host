const Jn=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(n){if(n.ep)return;n.ep=!0;const r=t(n);fetch(n.href,r)}};Jn();function P(){}const Et=s=>s;function Qn(s,e){for(const t in e)s[t]=e[t];return s}function Vn(s){return s&&typeof s=="object"&&typeof s.then=="function"}function jn(s){return s()}function ll(){return Object.create(null)}function ne(s){s.forEach(jn)}function at(s){return typeof s=="function"}function F(s,e){return s!=s?e==e:s!==e||s&&typeof s=="object"||typeof s=="function"}let gt;function ve(s,e){return gt||(gt=document.createElement("a")),gt.href=e,s===gt.href}function Xn(s){return Object.keys(s).length===0}function Zn(s,...e){if(s==null)return P;const t=s.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function A(s,e,t){s.$$.on_destroy.push(Zn(e,t))}function Tt(s,e,t,l){if(s){const n=zn(s,e,t,l);return s[0](n)}}function zn(s,e,t,l){return s[1]&&l?Qn(t.ctx.slice(),s[1](l(e))):t.ctx}function Rt(s,e,t,l){if(s[2]&&l){const n=s[2](l(t));if(e.dirty===void 0)return n;if(typeof n=="object"){const r=[],a=Math.max(e.dirty.length,n.length);for(let i=0;i<a;i+=1)r[i]=e.dirty[i]|n[i];return r}return e.dirty|n}return e.dirty}function Nt(s,e,t,l,n,r){if(n){const a=zn(e,t,l,r);s.p(a,n)}}function At(s){if(s.ctx.length>32){const e=[],t=s.ctx.length/32;for(let l=0;l<t;l++)e[l]=-1;return e}return-1}function Y(s,e,t){return s.set(t),e}function En(s){return s&&at(s.destroy)?s.destroy:P}const In=typeof window!="undefined";let Wt=In?()=>window.performance.now():()=>Date.now(),Yt=In?s=>requestAnimationFrame(s):P;const Je=new Set;function Mn(s){Je.forEach(e=>{e.c(s)||(Je.delete(e),e.f())}),Je.size!==0&&Yt(Mn)}function Gt(s){let e;return Je.size===0&&Yt(Mn),{promise:new Promise(t=>{Je.add(e={c:s,f:t})}),abort(){Je.delete(e)}}}function f(s,e){s.appendChild(e)}function Ln(s){if(!s)return document;const e=s.getRootNode?s.getRootNode():s.ownerDocument;return e&&e.host?e:s.ownerDocument}function es(s){const e=_("style");return ts(Ln(s),e),e.sheet}function ts(s,e){f(s.head||s,e)}function $(s,e,t){s.insertBefore(e,t||null)}function w(s){s.parentNode.removeChild(s)}function Kt(s,e){for(let t=0;t<s.length;t+=1)s[t]&&s[t].d(e)}function _(s){return document.createElement(s)}function E(s){return document.createTextNode(s)}function S(){return E(" ")}function Ce(){return E("")}function T(s,e,t,l){return s.addEventListener(e,t,l),()=>s.removeEventListener(e,t,l)}function ge(s){return function(e){return e.preventDefault(),s.call(this,e)}}function d(s,e,t){t==null?s.removeAttribute(e):s.getAttribute(e)!==t&&s.setAttribute(e,t)}function ls(s){return Array.from(s.childNodes)}function G(s,e){e=""+e,s.wholeText!==e&&(s.data=e)}function Ve(s,e){s.value=e==null?"":e}function Re(s,e,t,l){t===null?s.style.removeProperty(e):s.style.setProperty(e,t,l?"important":"")}function me(s,e,t){s.classList[t?"add":"remove"](e)}function xn(s,e,{bubbles:t=!1,cancelable:l=!1}={}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(s,t,l,e),n}const Ct=new Map;let St=0;function ns(s){let e=5381,t=s.length;for(;t--;)e=(e<<5)-e^s.charCodeAt(t);return e>>>0}function ss(s,e){const t={stylesheet:es(e),rules:{}};return Ct.set(s,t),t}function qt(s,e,t,l,n,r,a,i=0){const o=16.666/l;let c=`{
`;for(let g=0;g<=1;g+=o){const k=e+(t-e)*r(g);c+=g*100+`%{${a(k,1-k)}}
`}const u=c+`100% {${a(t,1-t)}}
}`,m=`__svelte_${ns(u)}_${i}`,p=Ln(s),{stylesheet:v,rules:h}=Ct.get(p)||ss(p,s);h[m]||(h[m]=!0,v.insertRule(`@keyframes ${m} ${u}`,v.cssRules.length));const b=s.style.animation||"";return s.style.animation=`${b?`${b}, `:""}${m} ${l}ms linear ${n}ms 1 both`,St+=1,m}function Ft(s,e){const t=(s.style.animation||"").split(", "),l=t.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),n=t.length-l.length;n&&(s.style.animation=l.join(", "),St-=n,St||rs())}function rs(){Yt(()=>{St||(Ct.forEach(s=>{const{stylesheet:e}=s;let t=e.cssRules.length;for(;t--;)e.deleteRule(t);s.rules={}}),Ct.clear())})}function ct(s,e,t,l){if(!e)return P;const n=s.getBoundingClientRect();if(e.left===n.left&&e.right===n.right&&e.top===n.top&&e.bottom===n.bottom)return P;const{delay:r=0,duration:a=300,easing:i=Et,start:o=Wt()+r,end:c=o+a,tick:u=P,css:m}=t(s,{from:e,to:n},l);let p=!0,v=!1,h;function b(){m&&(h=qt(s,0,1,a,r,i,m)),r||(v=!0)}function g(){m&&Ft(s,h),p=!1}return Gt(k=>{if(!v&&k>=o&&(v=!0),v&&k>=c&&(u(1,0),g()),!p)return!1;if(v){const y=k-o,I=0+1*i(y/a);u(I,1-I)}return!0}),b(),u(0,1),g}function ut(s){const e=getComputedStyle(s);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:l}=e,n=s.getBoundingClientRect();s.style.position="absolute",s.style.width=t,s.style.height=l,Ze(s,n)}}function Ze(s,e){const t=s.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const l=getComputedStyle(s),n=l.transform==="none"?"":l.transform;s.style.transform=`${n} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let it;function Le(s){it=s}function It(){if(!it)throw new Error("Function called outside component initialization");return it}function Jt(s){It().$$.on_mount.push(s)}function os(s){It().$$.on_destroy.push(s)}function is(){const s=It();return(e,t,{cancelable:l=!1}={})=>{const n=s.$$.callbacks[e];if(n){const r=xn(e,t,{cancelable:l});return n.slice().forEach(a=>{a.call(s,r)}),!r.defaultPrevented}return!0}}const st=[],Qe=[],wt=[],nl=[],On=Promise.resolve();let Ut=!1;function Tn(){Ut||(Ut=!0,On.then(Qt))}function $e(){return Tn(),On}function Se(s){wt.push(s)}const Lt=new Set;let ht=0;function Qt(){const s=it;do{for(;ht<st.length;){const e=st[ht];ht++,Le(e),as(e.$$)}for(Le(null),st.length=0,ht=0;Qe.length;)Qe.pop()();for(let e=0;e<wt.length;e+=1){const t=wt[e];Lt.has(t)||(Lt.add(t),t())}wt.length=0}while(st.length);for(;nl.length;)nl.pop()();Ut=!1,Lt.clear(),Le(s)}function as(s){if(s.fragment!==null){s.update(),ne(s.before_update);const e=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,e),s.after_update.forEach(Se)}}let nt;function Rn(){return nt||(nt=Promise.resolve(),nt.then(()=>{nt=null})),nt}function rt(s,e,t){s.dispatchEvent(xn(`${e?"intro":"outro"}${t}`))}const $t=new Set;let ze;function Z(){ze={r:0,c:[],p:ze}}function ee(){ze.r||ne(ze.c),ze=ze.p}function C(s,e){s&&s.i&&($t.delete(s),s.i(e))}function q(s,e,t,l){if(s&&s.o){if($t.has(s))return;$t.add(s),ze.c.push(()=>{$t.delete(s),l&&(t&&s.d(1),l())}),s.o(e)}else l&&l()}const Nn={duration:0};function An(s,e,t){let l=e(s,t),n=!0,r;const a=ze;a.r+=1;function i(){const{delay:o=0,duration:c=300,easing:u=Et,tick:m=P,css:p}=l||Nn;p&&(r=qt(s,1,0,c,o,u,p));const v=Wt()+o,h=v+c;Se(()=>rt(s,!1,"start")),Gt(b=>{if(n){if(b>=h)return m(0,1),rt(s,!1,"end"),--a.r||ne(a.c),!1;if(b>=v){const g=u((b-v)/c);m(1-g,g)}}return n})}return at(l)?Rn().then(()=>{l=l(),i()}):i(),{end(o){o&&l.tick&&l.tick(1,0),n&&(r&&Ft(s,r),n=!1)}}}function ye(s,e,t,l){let n=e(s,t),r=l?0:1,a=null,i=null,o=null;function c(){o&&Ft(s,o)}function u(p,v){const h=p.b-r;return v*=Math.abs(h),{a:r,b:p.b,d:h,duration:v,start:p.start,end:p.start+v,group:p.group}}function m(p){const{delay:v=0,duration:h=300,easing:b=Et,tick:g=P,css:k}=n||Nn,y={start:Wt()+v,b:p};p||(y.group=ze,ze.r+=1),a||i?i=y:(k&&(c(),o=qt(s,r,p,h,v,b,k)),p&&g(0,1),a=u(y,h),Se(()=>rt(s,p,"start")),Gt(I=>{if(i&&I>i.start&&(a=u(i,h),i=null,rt(s,a.b,"start"),k&&(c(),o=qt(s,r,a.b,a.duration,0,b,n.css))),a){if(I>=a.end)g(r=a.b,1-r),rt(s,a.b,"end"),i||(a.b?c():--a.group.r||ne(a.group.c)),a=null;else if(I>=a.start){const j=I-a.start;r=a.a+a.d*b(j/a.duration),g(r,1-r)}}return!!(a||i)}))}return{run(p){at(n)?Rn().then(()=>{n=n(),m(p)}):m(p)},end(){c(),a=i=null}}}function He(s,e){const t=e.token={};function l(n,r,a,i){if(e.token!==t)return;e.resolved=i;let o=e.ctx;a!==void 0&&(o=o.slice(),o[a]=i);const c=n&&(e.current=n)(o);let u=!1;e.block&&(e.blocks?e.blocks.forEach((m,p)=>{p!==r&&m&&(Z(),q(m,1,1,()=>{e.blocks[p]===m&&(e.blocks[p]=null)}),ee())}):e.block.d(1),c.c(),C(c,1),c.m(e.mount(),e.anchor),u=!0),e.block=c,e.blocks&&(e.blocks[r]=c),u&&Qt()}if(Vn(s)){const n=It();if(s.then(r=>{Le(n),l(e.then,1,e.value,r),Le(null)},r=>{if(Le(n),l(e.catch,2,e.error,r),Le(null),!e.hasCatch)throw r}),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,s),!0;e.resolved=s}}function et(s,e,t){const l=e.slice(),{resolved:n}=s;s.current===s.then&&(l[s.value]=n),s.current===s.catch&&(l[s.error]=n),s.block.p(l,t)}function cs(s,e){q(s,1,1,()=>{e.delete(s.key)})}function ft(s,e){s.f(),cs(s,e)}function dt(s,e,t,l,n,r,a,i,o,c,u,m){let p=s.length,v=r.length,h=p;const b={};for(;h--;)b[s[h].key]=h;const g=[],k=new Map,y=new Map;for(h=v;h--;){const M=m(n,r,h),z=t(M);let N=a.get(z);N?l&&N.p(M,e):(N=c(z,M),N.c()),k.set(z,g[h]=N),z in b&&y.set(z,Math.abs(h-b[z]))}const I=new Set,j=new Set;function R(M){C(M,1),M.m(i,u),a.set(M.key,M),u=M.first,v--}for(;p&&v;){const M=g[v-1],z=s[p-1],N=M.key,W=z.key;M===z?(u=M.first,p--,v--):k.has(W)?!a.has(N)||I.has(N)?R(M):j.has(W)?p--:y.get(N)>y.get(W)?(j.add(N),R(M)):(I.add(W),p--):(o(z,a),p--)}for(;p--;){const M=s[p];k.has(M.key)||o(M,a)}for(;v;)R(g[v-1]);return g}function O(s){s&&s.c()}function L(s,e,t,l){const{fragment:n,on_mount:r,on_destroy:a,after_update:i}=s.$$;n&&n.m(e,t),l||Se(()=>{const o=r.map(jn).filter(at);a?a.push(...o):ne(o),s.$$.on_mount=[]}),i.forEach(Se)}function x(s,e){const t=s.$$;t.fragment!==null&&(ne(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function us(s,e){s.$$.dirty[0]===-1&&(st.push(s),Tn(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}function Q(s,e,t,l,n,r,a,i=[-1]){const o=it;Le(s);const c=s.$$={fragment:null,ctx:null,props:r,update:P,not_equal:n,bound:ll(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:ll(),dirty:i,skip_bound:!1,root:e.target||o.$$.root};a&&a(c.root);let u=!1;if(c.ctx=t?t(s,e.props||{},(m,p,...v)=>{const h=v.length?v[0]:p;return c.ctx&&n(c.ctx[m],c.ctx[m]=h)&&(!c.skip_bound&&c.bound[m]&&c.bound[m](h),u&&us(s,m)),p}):[],c.update(),u=!0,ne(c.before_update),c.fragment=l?l(c.ctx):!1,e.target){if(e.hydrate){const m=ls(e.target);c.fragment&&c.fragment.l(m),m.forEach(w)}else c.fragment&&c.fragment.c();e.intro&&C(s.$$.fragment),L(s,e.target,e.anchor,e.customElement),Qt()}Le(o)}class V{$destroy(){x(this,1),this.$destroy=P}$on(e,t){const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const n=l.indexOf(t);n!==-1&&l.splice(n,1)}}$set(e){this.$$set&&!Xn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Fe=[];function ce(s,e=P){let t;const l=new Set;function n(i){if(F(s,i)&&(s=i,t)){const o=!Fe.length;for(const c of l)c[1](),Fe.push(c,s);if(o){for(let c=0;c<Fe.length;c+=2)Fe[c][0](Fe[c+1]);Fe.length=0}}}function r(i){n(i(s))}function a(i,o=P){const c=[i,o];return l.add(c),l.size===1&&(t=e(n)||P),i(s),()=>{l.delete(c),l.size===0&&(t(),t=null)}}return{set:n,update:r,subscribe:a}}const Ae=ce("setup"),fe=ce("home"),_e=ce("logo"),U=ce(!1),ue=ce(""),Me=ce(!1),ot=ce(""),Pt=ce(0),Be=ce(""),we=ce(""),We=ce([]),Dt=ce(""),xe=ce([]),jt=ce({}),Ye=ce(""),Vt=ce(""),Xe=ce({}),re=ce({name:null,lvl:0,unread_inbox:!1,theme:"orange",mode:!0,sfx:!0,bgm:!0,bgm_song:2,layout:"new",pfp_data:1,quote:""}),Ue=ce(!1);window.onkeydown=function(s){s||(s=window.event),Ge=s.shiftKey};window.onkeyup=function(s){s||(s=window.event),Ge=s.shiftKey};window.onmousemove=function(s){s||(s=window.event),Ge=s.shiftKey};let Ge;function fs(){var s=new Audio("../src/assets/menu_notify.wav");s.play()}function Un(){fs()}function ds(s){let e,t;const l=s[1].default,n=Tt(l,s,s[0],null);return{c(){e=_("div"),n&&n.c(),d(e,"class","svelte-6zv9mh")},m(r,a){$(r,e,a),n&&n.m(e,null),t=!0},p(r,[a]){n&&n.p&&(!t||a&1)&&Nt(n,l,r,r[0],t?Rt(l,r[0],a,null):At(r[0]),null)},i(r){t||(C(n,r),t=!0)},o(r){q(n,r),t=!1},d(r){r&&w(e),n&&n.d(r)}}}function ps(s,e,t){let{$$slots:l={},$$scope:n}=e;return s.$$set=r=>{"$$scope"in r&&t(0,n=r.$$scope)},[n,l]}class oe extends V{constructor(e){super(),Q(this,e,ps,ds,F,{})}}var sl="./assets/icon_0.ab82a5ad.svg",rl="./assets/icon_1.3649891f.svg",ol="./assets/icon_10.4bd3e33c.svg",il="./assets/icon_100.026e1a7d.svg",al="./assets/icon_101.0a8d8a50.svg",cl="./assets/icon_11.521812d2.svg",ul="./assets/icon_12.0f7ed126.svg",fl="./assets/icon_13.58e2dcbb.svg",dl="./assets/icon_14.6513f659.svg",pl="./assets/icon_15.d1b06a28.svg",ml="./assets/icon_16.e5e55f53.svg",_l="./assets/icon_17.39e35340.svg",gl="./assets/icon_18.dc1f4b4e.svg",hl="./assets/icon_19.8ad18d14.svg",vl="./assets/icon_2.03a60034.svg",bl="./assets/icon_20.d1301d19.svg",kl="./assets/icon_21.2ef6b9a3.svg",wl="./assets/icon_22.c642b6ff.svg",$l="./assets/icon_23.cd7c45d1.svg",yl="./assets/icon_24.6026f708.svg",Cl="./assets/icon_25.cc78b147.svg",Sl="./assets/icon_26.1722b6b8.svg",ql="./assets/icon_27.89761f19.svg",Pl="./assets/icon_3.79effa11.svg",jl="./assets/icon_4.078d1185.svg",zl="./assets/icon_5.656d31e0.svg",El="./assets/icon_6.d72d5ba2.svg",Il="./assets/icon_7.16e301c0.svg",Ml="./assets/icon_8.515d5ae7.svg",Ll="./assets/icon_9.25c74dcc.svg",xl="./assets/icon_err.8c194397.svg";function Ol(s){let e;return{c(){e=_("span"),d(e,"class","online svelte-is4478")},m(t,l){$(t,e,l)},d(t){t&&w(e)}}}function ms(s){let e,t,l,n,r,a,i,o=s[2]&&Ol();return{c(){e=_("span"),o&&o.c(),t=S(),l=_("span"),n=_("img"),d(n,"alt",s[1]),d(n,"title",s[1]),ve(n.src,r=new URL({"./../assets/avatars/icon_0.svg":sl,"./../assets/avatars/icon_1.svg":rl,"./../assets/avatars/icon_10.svg":ol,"./../assets/avatars/icon_100.svg":il,"./../assets/avatars/icon_101.svg":al,"./../assets/avatars/icon_11.svg":cl,"./../assets/avatars/icon_12.svg":ul,"./../assets/avatars/icon_13.svg":fl,"./../assets/avatars/icon_14.svg":dl,"./../assets/avatars/icon_15.svg":pl,"./../assets/avatars/icon_16.svg":ml,"./../assets/avatars/icon_17.svg":_l,"./../assets/avatars/icon_18.svg":gl,"./../assets/avatars/icon_19.svg":hl,"./../assets/avatars/icon_2.svg":vl,"./../assets/avatars/icon_20.svg":bl,"./../assets/avatars/icon_21.svg":kl,"./../assets/avatars/icon_22.svg":wl,"./../assets/avatars/icon_23.svg":$l,"./../assets/avatars/icon_24.svg":yl,"./../assets/avatars/icon_25.svg":Cl,"./../assets/avatars/icon_26.svg":Sl,"./../assets/avatars/icon_27.svg":ql,"./../assets/avatars/icon_3.svg":Pl,"./../assets/avatars/icon_4.svg":jl,"./../assets/avatars/icon_5.svg":zl,"./../assets/avatars/icon_6.svg":El,"./../assets/avatars/icon_7.svg":Il,"./../assets/avatars/icon_8.svg":Ml,"./../assets/avatars/icon_9.svg":Ll,"./../assets/avatars/icon_err.svg":xl}[`./../assets/avatars/icon_${s[0]===-1?21:s[0]===-2?"err":s[0]-1}.svg`],self.location).href)||d(n,"src",r),d(n,"draggable",!1),d(n,"width","auto"),d(n,"height","100%"),d(n,"class","svelte-is4478"),me(n,"loading",s[0]===-1),d(l,"class","pfp svelte-is4478"),d(e,"class","pfp-container svelte-is4478"),Re(e,"--size",s[3],!1)},m(c,u){$(c,e,u),o&&o.m(e,null),f(e,t),f(e,l),f(l,n),a||(i=T(n,"error",s[4],{once:!0}),a=!0)},p(c,[u]){c[2]?o||(o=Ol(),o.c(),o.m(e,t)):o&&(o.d(1),o=null),u&2&&d(n,"alt",c[1]),u&2&&d(n,"title",c[1]),u&1&&!ve(n.src,r=new URL({"./../assets/avatars/icon_0.svg":sl,"./../assets/avatars/icon_1.svg":rl,"./../assets/avatars/icon_10.svg":ol,"./../assets/avatars/icon_100.svg":il,"./../assets/avatars/icon_101.svg":al,"./../assets/avatars/icon_11.svg":cl,"./../assets/avatars/icon_12.svg":ul,"./../assets/avatars/icon_13.svg":fl,"./../assets/avatars/icon_14.svg":dl,"./../assets/avatars/icon_15.svg":pl,"./../assets/avatars/icon_16.svg":ml,"./../assets/avatars/icon_17.svg":_l,"./../assets/avatars/icon_18.svg":gl,"./../assets/avatars/icon_19.svg":hl,"./../assets/avatars/icon_2.svg":vl,"./../assets/avatars/icon_20.svg":bl,"./../assets/avatars/icon_21.svg":kl,"./../assets/avatars/icon_22.svg":wl,"./../assets/avatars/icon_23.svg":$l,"./../assets/avatars/icon_24.svg":yl,"./../assets/avatars/icon_25.svg":Cl,"./../assets/avatars/icon_26.svg":Sl,"./../assets/avatars/icon_27.svg":ql,"./../assets/avatars/icon_3.svg":Pl,"./../assets/avatars/icon_4.svg":jl,"./../assets/avatars/icon_5.svg":zl,"./../assets/avatars/icon_6.svg":El,"./../assets/avatars/icon_7.svg":Il,"./../assets/avatars/icon_8.svg":Ml,"./../assets/avatars/icon_9.svg":Ll,"./../assets/avatars/icon_err.svg":xl}[`./../assets/avatars/icon_${c[0]===-1?21:c[0]===-2?"err":c[0]-1}.svg`],self.location).href)&&d(n,"src",r),u&1&&me(n,"loading",c[0]===-1),u&8&&Re(e,"--size",c[3],!1)},i:P,o:P,d(c){c&&w(e),o&&o.d(),a=!1,i()}}}function _s(s,e,t){let{icon:l=-1}=e,{alt:n="Profile picture"}=e,{online:r=!1}=e,{size:a=1}=e;const i=()=>t(0,l=-2);return s.$$set=o=>{"icon"in o&&t(0,l=o.icon),"alt"in o&&t(1,n=o.alt),"online"in o&&t(2,r=o.online),"size"in o&&t(3,a=o.size)},[l,n,r,a,i]}class tt extends V{constructor(e){super(),Q(this,e,_s,ms,F,{icon:0,alt:1,online:2,size:3})}}function gs(s){let e,t;return{c(){e=_("span"),t=E(s[0]),d(e,"title",s[1]),d(e,"class","date svelte-190wm28")},m(l,n){$(l,e,n),f(e,t)},p(l,[n]){n&1&&G(t,l[0]),n&2&&d(e,"title",l[1])},i:P,o:P,d(l){l&&w(e)}}}function hs(s,e,t){let{date:l=0}=e,n,r;return s.$$set=a=>{"date"in a&&t(2,l=a.date)},s.$$.update=()=>{if(s.$$.dirty&4){const a=new Date(l*1e3);t(0,n=a.toLocaleString()),t(1,r=`Time is in your local timezone (UTC+${-(a.getTimezoneOffset()/60)}).
12-hour time: ${a.toLocaleString([],{hourCycle:"h11"})}
24-hour time: ${a.toLocaleString([],{hourCycle:"h23"})}
ISO: ${a.toISOString()}`)}},[n,r,l]}class vs extends V{constructor(e){super(),Q(this,e,hs,gs,F,{date:2})}}function De(s){return new Promise(e=>setTimeout(e,s))}const bs=localStorage.getItem("meower_linkurl")||"wss://server.meower.org/",Oe=localStorage.getItem("meower_apiurl")||"https://api.meower.org/",pt=localStorage.getItem("meower_encodeapi")||!1;class ks{constructor(e){return this.events={},this._numevents=1,this.ip=null,e&&this.connect(e),this}_console(e,t,l){const n=Array.from(arguments).slice(2),r="%o".repeat(n.length);console[e](`%cCLJS%c${t}%c ${r}`,"background:#0fbd8c;color:white;font-weight:bold;border-radius:4px 0 0 4px;padding:0 3px;display:inline-block","background:#000;color:white;font-weight:bold;border-radius:0 4px 4px 0;padding:0 3px;display:inline-block","",...n)}log(e,t){this._console.apply(this,["log",...arguments])}warn(e,t){this._console.apply(this,["warn",...arguments])}error(e,t){this._console.apply(this,["error",...arguments])}connect(e){return new Promise((t,l)=>{try{this.ws&&this.ws.readyState===1&&(this.log("connection","already connected, disconnecting..."),this.disconnect(1e3,"Intentional disconnect")),this.ws=new WebSocket(e),this.emit("connectionstart"),this.ws.addEventListener("open",async()=>{try{this.log("connection","connected to websockets");const n=localStorage.getItem("meower_ip");n||n===""?this.ip=n:this.ip=await(await fetch(Oe+"ip")).text(),this.send({cmd:"direct",val:{cmd:"ip",val:this.ip}}),await De(100),this.send({cmd:"direct",val:{cmd:"type",val:"js"},listener:"send_type"});const r=this.sendListener({cmd:"direct",val:"meower",listener:"send_tkey"},a=>{a.cmd==="statuscode"&&(this.off(r),a.val==="I:100 | OK"?(t(),this.log("connection","successfully connected")):(l(a.val),this.error("connection","error connecting; code:",a.val)))});this.emit("connected")}catch(n){this.error("connection","error connecting:",n),l(n)}}),this.ws.addEventListener("message",n=>{const r=JSON.parse(n.data);this.log("< incoming",r),this.emit(r.cmd,r),r.listener&&this.emit("__listener_"+r.listener,r)}),this.ws.addEventListener("close",n=>{this.log("connection","disconnected with code ",n.code," and reason",n.reason),this.emit("disconnected",n)}),this.ws.addEventListener("error",n=>{this.error("connection","error:",n),this.emit("error",n)})}catch(n){l(n)}})}send(e){if(!this.ws||this.ws.readyState!==1)throw new Error("Not connected; use link.connect(server) to connect");this.log("> outgoing",e),this.ws.send(JSON.stringify(e))}sendListener(e,t){if(!e.listener)throw new Error("data must have a listener");return this.send(e),this.onListener(e.listener,t)}on(e,t){this._numevents++;const l=(this._numevents-1).toString();return this.events[l]={event:e,cb:t},l}onListener(e,t){return this.on("__listener_"+e,t)}off(e){if(!this.events[e])throw new Error("Tried to remove nonexistent listener");delete this.events[e]}once(e,t){const l=this.on(e,()=>{t(arguments),this.off(l)})}emit(e,t){Object.values(this.events).forEach(l=>{l.event===e&&l.cb(t)})}disconnect(e,t){!this.ws||this.ws.readyState!==1||(console.log(e,t),this.ws.close(e,t))}}function Xt(){return{name:null,theme:"orange",mode:!0,sfx:!0,bgm:!0,bgm_song:2,layout:"new",pfp_data:1,quote:""}}let Ee=null;re.subscribe(s=>{Ee=s,Ee.name&&localStorage.setItem("meower_savedconfig",JSON.stringify({theme:Ee.theme,mode:Ee.mode}))});if(localStorage.getItem("meower_savedconfig")){const s=Ee,e=JSON.parse(localStorage.getItem("meower_savedconfig"));s.theme=e.theme,s.mode=e.mode,re.set(s)}const H=new ks;window.cljs=H;H.log("manager","started");let xt=null,Te=null,vt=null,bt=null,kt=null,Pe=null;async function Dn(){xt&&(H.off(xt),Te=null),Te&&(H.off(Te),Te=null),vt&&(H.off(vt),vt=null),bt&&(H.off(bt),bt=null),kt&&(H.off(kt),kt=null),Pe&&(clearInterval(Pe),Pe=null),Me.set(!1),ot.set(""),H.once("connectionstart",()=>{xt=H.on("connected",()=>{Me.set(!1),Pe=setInterval(()=>{H.send({cmd:"ping",val:""})},1e4)}),Te=H.on("disconnected",s=>{xe.set([]),s.reason!=="Intentional disconnect"&&Me.set(!0);let e=Xt();e.theme=Ee.theme,e.mode=Ee.mode,re.set(e),Pe&&(clearInterval(Pe),Pe=null)}),vt=H.on("ulist",s=>{const e=s.val.split(";");e[e.length-1]===""&&e.pop(),xe.set(e)}),bt=H.on("direct",s=>{s.val.mode=="inbox_message"&&(Ee.unread_inbox=!0,re.set(Ee))}),kt=H.on("direct",s=>{(s.val=="E:018 | Account Banned"||s.val=="E:020 | Kicked"||s.val=="E:110 | ID conflict"||s.val=="E:119 | IP Blocked")&&(H.disconnect(),ot.set(s.val),Me.set(!0),H.log("manager","requested disconnect:",s.val))})}),Me.set(!1);try{return await H.connect(bs)}catch(s){return H.disconnect(),ot.set(s),Me.set(!0),H.error("manager","conenction error:",s),s}}async function Bt(){return H.ws?H.ws.readyState!==1?(H.log("manager","already disconnected or disconnecting, cancelling safe disconnect"),new Promise(s=>s())):(H.log("manager","safely disconnecting"),new Promise(s=>{xe.set([]),re.set(Xt()),Te&&(H.off(Te),Te=null),Pe&&(clearInterval(Pe),Pe=null),H.once("disconnected",s),H.disconnect(1e3,"Intentional disconnect")})):(H.log("manager","websocket not present, cancelling safe disconnect"),new Promise(s=>s()))}async function ae(s){return H.log("manager","meower request",s),Ue.set(!0),new Promise((e,t)=>{let l=null;const n=setTimeout(()=>{t("Timed out"),Ue.set(!1)},1e4),r=H.sendListener({...s,listener:"listener_"+Math.floor(Math.random()*1e7)},a=>{a.cmd==="statuscode"?(H.off(r),Ue.set(!1),clearTimeout(n),a.val==="I:100 | OK"?e(l):t(a.val)):a.cmd==="direct"&&(l=a.val)})})}async function Ne(){const s=Ee;return ae({cmd:"direct",val:{cmd:"update_config",val:{unread_inbox:s.unread_inbox,theme:s.theme,mode:s.mode,sfx:s.sfx,bgm:s.bgm,bgm_song:s.bgm_song,layout:s.layout,pfp_data:s.pfp_data,quote:s.quote}}})}var ws=Object.freeze(Object.defineProperty({__proto__:null,link:H,connect:Dn,disconnect:Bt,meowerRequest:ae,updateProfile:Ne},Symbol.toStringTag,{value:"Module"}));const je=ce({});let de;je.subscribe(s=>de=s);async function zt(s){if(de[s]&&!de[s].temporary)return de[s];if(s==="Notification")return de[s]={pfp_data:101},je.set(de),de[s];if(s==="Announcement")return de[s]={pfp_data:102},je.set(de),de[s];if(s==="Server")return de[s]={pfp_data:102},je.set(de),de[s];de[s]={pfp_data:-1},je.set(de);try{const e=await fetch(`${Oe}/users/${s}`);if(!e.ok)throw new Error("response code not OK; code "+e.status);const t=await e.json();de[s]=t,je.set(de)}catch(e){throw console.log(e),de[s]={error:!0,pfp_data:-2,temporary:!0},je.set(de),e}return de[s]}function Tl(s){let e,t,l=s[1]&&s[0].user!=="Notification"&&s[0].user!=="Announcement"&&Rl(s);function n(i,o){return i[4].lvl>=1||i[0].user===i[4].name?ys:$s}let r=n(s),a=r(s);return{c(){l&&l.c(),e=S(),a.c(),t=Ce()},m(i,o){l&&l.m(i,o),$(i,e,o),a.m(i,o),$(i,t,o)},p(i,o){i[1]&&i[0].user!=="Notification"&&i[0].user!=="Announcement"?l?l.p(i,o):(l=Rl(i),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),r===(r=n(i))&&a?a.p(i,o):(a.d(1),a=r(i),a&&(a.c(),a.m(t.parentNode,t)))},d(i){l&&l.d(i),i&&w(e),a.d(i),i&&w(t)}}}function Rl(s){let e,t,l;return{c(){e=_("button"),d(e,"class","circle join svelte-r298n5")},m(n,r){$(n,e,r),t||(l=T(e,"click",s[8]),t=!0)},p:P,d(n){n&&w(e),t=!1,l()}}}function $s(s){let e,t,l;return{c(){e=_("button"),d(e,"class","circle report svelte-r298n5")},m(n,r){$(n,e,r),t||(l=T(e,"click",s[10]),t=!0)},p:P,d(n){n&&w(e),t=!1,l()}}}function ys(s){let e,t,l;return{c(){e=_("button"),d(e,"class","circle close svelte-r298n5")},m(n,r){$(n,e,r),t||(l=T(e,"click",s[9]),t=!0)},p:P,d(n){n&&w(e),t=!1,l()}}}function Nl(s){let e;return{c(){e=_("i"),e.textContent="[BRIDGED]"},m(t,l){$(t,e,l)},d(t){t&&w(e)}}}function Cs(s){let e,t,l,n,r,a,i,o,c=s[0].user+"",u,m,p,v,h,b,g=s[0].content+"",k,y,I,j,R=s[2]&&s[4].name&&s[5]!=="livechat"&&s[0].user!=="Server"&&Tl(s);r=new tt({props:{icon:s[6][s[0].user]?s[6][s[0].user].pfp_data:-3,alt:s[0].user+"'s profile picture",online:s[7].includes(s[0].user)}}),p=new vs({props:{date:s[0].date}});let M=s[3]&&Nl();return{c(){e=_("div"),t=_("div"),R&&R.c(),l=S(),n=_("button"),O(r.$$.fragment),a=S(),i=_("div"),o=_("h2"),u=E(c),m=S(),O(p.$$.fragment),v=S(),M&&M.c(),h=S(),b=_("p"),k=E(g),d(t,"class","settings-controls svelte-r298n5"),d(n,"class","pfp svelte-r298n5"),d(o,"class","creator svelte-r298n5"),d(i,"class","creator svelte-r298n5"),d(e,"class","post-header svelte-r298n5"),d(b,"class","post-content svelte-r298n5")},m(z,N){$(z,e,N),f(e,t),R&&R.m(t,null),f(e,l),f(e,n),L(r,n,null),f(e,a),f(e,i),f(i,o),f(o,u),f(i,m),L(p,i,null),f(i,v),M&&M.m(i,null),$(z,h,N),$(z,b,N),f(b,k),y=!0,I||(j=T(n,"click",s[11]),I=!0)},p(z,N){z[2]&&z[4].name&&z[5]!=="livechat"&&z[0].user!=="Server"?R?R.p(z,N):(R=Tl(z),R.c(),R.m(t,null)):R&&(R.d(1),R=null);const W={};N&65&&(W.icon=z[6][z[0].user]?z[6][z[0].user].pfp_data:-3),N&1&&(W.alt=z[0].user+"'s profile picture"),N&129&&(W.online=z[7].includes(z[0].user)),r.$set(W),(!y||N&1)&&c!==(c=z[0].user+"")&&G(u,c);const J={};N&1&&(J.date=z[0].date),p.$set(J),z[3]?M||(M=Nl(),M.c(),M.m(i,null)):M&&(M.d(1),M=null),(!y||N&1)&&g!==(g=z[0].content+"")&&G(k,g)},i(z){y||(C(r.$$.fragment,z),C(p.$$.fragment,z),y=!0)},o(z){q(r.$$.fragment,z),q(p.$$.fragment,z),y=!1},d(z){z&&w(e),R&&R.d(),x(r),x(p),M&&M.d(),z&&w(h),z&&w(b),I=!1,j()}}}function Ss(s){let e,t;return e=new oe({props:{$$slots:{default:[Cs]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p(l,[n]){const r={};n&8447&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function qs(s,e,t){let l,n,r,a;A(s,re,g=>t(4,l=g)),A(s,we,g=>t(5,n=g)),A(s,je,g=>t(6,r=g)),A(s,xe,g=>t(7,a=g));let{post:i={}}=e,{buttons:o=!0}=e,{input:c=null}=e,u=!1;function m(){!i.user||(i.user=="Discord"&&i.content.includes(":")&&t(3,u=!0),i.user=="Discord"&&i.content.includes(":")&&(t(0,i.user=i.content.split(": ")[0],i),t(0,i.content=i.content.slice(i.content.indexOf(": ")+1),i)),zt(i.user))}Jt(m);const p=()=>{let g=c.value;const k=/^@\w+\s*/i,y="@"+i.user+" ";k.test(g)?t(1,c.value=g.trim().replace(k,y),c):t(1,c.value=y+g.trim(),c),c.focus()},v=()=>{if(Ge){ae({cmd:"direct",val:{cmd:"delete_post",val:i.post_id}});return}jt.set(i),ue.set("deletePost"),U.set(!0)},h=()=>{jt.set(i),ue.set("reportPost"),U.set(!0)},b=()=>{i.user==="Notification"||i.user==="Announcement"||i.user==="Server"||(Ye.set(i.user),fe.set("profile"))};return s.$$set=g=>{"post"in g&&t(0,i=g.post),"buttons"in g&&t(2,o=g.buttons),"input"in g&&t(1,c=g.input)},[i,c,o,u,l,n,r,a,p,v,h,b]}class lt extends V{constructor(e){super(),Q(this,e,qs,Ss,F,{post:0,buttons:2,input:1})}}function Ps(s){let e;return{c(){e=_("span"),e.innerHTML='<span class="circle circle1 svelte-idse3p"></span><span class="circle circle2 svelte-idse3p"></span><span class="circle circle3 svelte-idse3p"></span>',d(e,"class","loading svelte-idse3p")},m(t,l){$(t,e,l)},p:P,i:P,o:P,d(t){t&&w(e)}}}class be extends V{constructor(e){super(),Q(this,e,null,Ps,F,{})}}let yt={},ke={};H.on("direct",s=>{if(s.val.state===100?Al(s.val.chatid,s.val.u):s.val.chatid==="livechat"&&s.val.state===101&&Al("home",s.val.u),s.val.type===1){if(!ke[s.val.post_origin])return;ke[s.val.post_origin]=ke[s.val.post_origin].filter(e=>e!==s.val.u),Mt.set(ke)}});function Al(s,e){let t=new Date*1;yt[s]||(yt[s]={}),yt[s][e]=t,ke[s]||(ke[s]=[]),ke[s].includes(e)||(ke[s].push(e),Mt.set(ke)),setTimeout(function(){js(s,e,t)},3e3)}function js(s,e,t){yt[s][e]===t&&(ke[s]=ke[s].filter(l=>l!==e),Mt.set(ke))}let Mt=ce({});function Ul(s){let e,t;return e=new oe({props:{$$slots:{default:[Ms]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p(l,n){const r={};n&17&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function zs(s){let e,t,l=s[0].splice(s[0].length-1,1).join(", ")+"",n,r,a=s[0][s[0].length-1]+"",i,o;return{c(){e=_("span"),t=_("b"),n=E(l),r=E(" and "),i=E(a),o=E(" are typing..."),d(e,"class","text svelte-1u9lhqm")},m(c,u){$(c,e,u),f(e,t),f(t,n),f(t,r),f(t,i),f(e,o)},p(c,u){u&1&&l!==(l=c[0].splice(c[0].length-1,1).join(", ")+"")&&G(n,l),u&1&&a!==(a=c[0][c[0].length-1]+"")&&G(i,a)},d(c){c&&w(e)}}}function Es(s){let e;return{c(){e=_("span"),e.textContent="5 or more people are typing..",d(e,"class","text svelte-1u9lhqm")},m(t,l){$(t,e,l)},p:P,d(t){t&&w(e)}}}function Is(s){let e,t,l=s[0][0]+"",n,r;return{c(){e=_("span"),t=_("b"),n=E(l),r=E(" is typing..."),d(e,"class","text svelte-1u9lhqm")},m(a,i){$(a,e,i),f(e,t),f(t,n),f(e,r)},p(a,i){i&1&&l!==(l=a[0][0]+"")&&G(n,l)},d(a){a&&w(e)}}}function Ms(s){let e,t,l,n,r,a,i;function o(m,p){return m[0].length===1?Is:m[0].length>=5?Es:zs}let c=o(s),u=c(s);return{c(){e=_("span"),t=_("span"),l=S(),n=_("span"),r=S(),a=_("span"),i=S(),u.c(),d(t,"class","circle circle1 svelte-1u9lhqm"),d(n,"class","circle circle2 svelte-1u9lhqm"),d(a,"class","circle circle3 svelte-1u9lhqm"),d(e,"class","loading svelte-1u9lhqm")},m(m,p){$(m,e,p),f(e,t),f(e,l),f(e,n),f(e,r),f(e,a),f(e,i),u.m(e,null)},p(m,p){c===(c=o(m))&&u?u.p(m,p):(u.d(1),u=c(m),u&&(u.c(),u.m(e,null)))},d(m){m&&w(e),u.d()}}}function Ls(s){let e,t,l=(s[1]==="home"||s[1]=="groupchat")&&s[0].length>0&&Ul(s);return{c(){l&&l.c(),e=Ce()},m(n,r){l&&l.m(n,r),$(n,e,r),t=!0},p(n,[r]){(n[1]==="home"||n[1]=="groupchat")&&n[0].length>0?l?(l.p(n,r),r&3&&C(l,1)):(l=Ul(n),l.c(),C(l,1),l.m(e.parentNode,e)):l&&(Z(),q(l,1,1,()=>{l=null}),ee())},i(n){t||(C(l),t=!0)},o(n){q(l),t=!1},d(n){l&&l.d(n),n&&w(e)}}}function xs(s,e,t){let l,n,r;A(s,re,i=>t(2,l=i)),A(s,we,i=>t(3,n=i)),A(s,fe,i=>t(1,r=i));let a=[];return Mt.subscribe(i=>{r==="home"&&t(0,a=i.home),r==="groupchat"&&t(0,a=i[n]),a===void 0&&t(0,a=[]),t(0,a=a.filter(o=>o!==l.name))}),[a,r]}class Bn extends V{constructor(e){super(),Q(this,e,xs,Ls,F,{})}}const Ot=(...s)=>s.map(parseFloat).reduce((e,t)=>e+t,0),Os=typeof document!="undefined"?!!document.documentElement.currentStyle:!1,Ts=(s,e)=>e.reduce((t,l)=>(t[l]=s[l],t),{}),Rs=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"];function Ns(s){const e=window.getComputedStyle(s);if(e===null)return null;let t=Ts(e,Rs);const{boxSizing:l}=t;if(l==="")return null;Os&&l==="border-box"&&(t.width=Ot(t.width,t.borderRightWidth,t.borderLeftWidth,t.paddingRight,t.paddingLeft)+"px");const n=Ot(t.paddingBottom,t.paddingTop),r=Ot(t.borderBottomWidth,t.borderTopWidth);return{sizingStyle:t,paddingSize:n,borderSize:r}}const As={"min-height":"0","max-height":"none",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"};function Dl(s){return Object.entries(As).forEach(([e,t])=>s.style.setProperty(e,t,"important"))}let he;const Us=(s,e)=>{const t=s.scrollHeight;return e.sizingStyle.boxSizing==="border-box"?t+e.borderSize:t-e.paddingSize};function Ds(s,e){he||(he=document.createElement("textarea"),he.setAttribute("tab-index","-1"),he.setAttribute("aria-hidden","true"),he.setAttribute("rows","1"),Dl(he)),he.parentNode===null&&document.body.appendChild(he);const{paddingSize:t,borderSize:l,sizingStyle:n}=s,{boxSizing:r}=n;Object.entries(n).forEach(([c,u])=>he.style[c]=u),Dl(he),he.value=e;let a=Us(he,s);he.value="x";let o=he.scrollHeight-t;return r==="border-box"&&(o=o+t+l),Math.max(o,a)}function Hn(s){const e=()=>{const t=Ns(s);if(!t)return;const l=Ds(t,s.value||s.placeholder||"x");s.style.setProperty("height",`${l}px`,"important")};s.addEventListener("input",e),window.addEventListener("resize",e),e()}function Zt(s){const e=s-1;return e*e*e+1}function Wn(s,{delay:e=0,duration:t=400,easing:l=Et}={}){const n=+getComputedStyle(s).opacity;return{delay:e,duration:t,easing:l,css:r=>`opacity: ${r*n}`}}function Ie(s,{delay:e=0,duration:t=400,easing:l=Zt,x:n=0,y:r=0,opacity:a=0}={}){const i=getComputedStyle(s),o=+i.opacity,c=i.transform==="none"?"":i.transform,u=o*(1-a);return{delay:e,duration:t,easing:l,css:(m,p)=>`
			transform: ${c} translate(${(1-m)*n}px, ${(1-m)*r}px);
			opacity: ${o-u*p}`}}function Bl(s,{delay:e=0,duration:t=400,easing:l=Zt,start:n=0,opacity:r=0}={}){const a=getComputedStyle(s),i=+a.opacity,o=a.transform==="none"?"":a.transform,c=1-n,u=i*(1-r);return{delay:e,duration:t,easing:l,css:(m,p)=>`
			transform: ${o} scale(${1-c*p});
			opacity: ${i-u*p}
		`}}function mt(s,{from:e,to:t},l={}){const n=getComputedStyle(s),r=n.transform==="none"?"":n.transform,[a,i]=n.transformOrigin.split(" ").map(parseFloat),o=e.left+e.width*a/t.width-(t.left+a),c=e.top+e.height*i/t.height-(t.top+i),{delay:u=0,duration:m=v=>Math.sqrt(v)*120,easing:p=Zt}=l;return{delay:u,duration:at(m)?m(Math.sqrt(o*o+c*c)):m,easing:p,css:(v,h)=>{const b=h*o,g=h*c,k=v+h*e.width/t.width,y=v+h*e.height/t.height;return`transform: ${r} translate(${b}px, ${g}px) scale(${k}, ${y});`}}}function Hl(s,e,t){const l=s.slice();return l[20]=e[t],l}function Bs(s){let e,t;return e=new oe({props:{$$slots:{default:[Hs]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p(l,n){const r={};n&16777216&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Hs(s){let e,t,l,n,r=s[23]+"",a;return{c(){e=_("h1"),e.textContent="Home",t=E(`\r
			Error loading posts. Please try again.\r
			`),l=_("pre"),n=_("code"),a=E(r)},m(i,o){$(i,e,o),$(i,t,o),$(i,l,o),f(l,n),f(n,a)},p:P,d(i){i&&w(e),i&&w(t),i&&w(l)}}}function Ws(s){let e,t,l,n,r,a,i,o,c,u,m,p;e=new oe({props:{$$slots:{default:[Ys]},$$scope:{ctx:s}}});let v=s[6].name&&Yl(s);n=new Bn({});const h=[Ks,Gs],b=[];function g(j,R){return j[0].length<1?0:1}a=g(s),i=b[a]=h[a](s);const k=[Vs,Qs],y=[];function I(j,R){return j[2]?0:j[3]&&j[3]>j[1]?1:-1}return~(u=I(s))&&(m=y[u]=k[u](s)),{c(){O(e.$$.fragment),t=S(),v&&v.c(),l=S(),O(n.$$.fragment),r=S(),i.c(),o=S(),c=_("div"),m&&m.c(),d(c,"class","center svelte-tgtdz3")},m(j,R){L(e,j,R),$(j,t,R),v&&v.m(j,R),$(j,l,R),L(n,j,R),$(j,r,R),b[a].m(j,R),$(j,o,R),$(j,c,R),~u&&y[u].m(c,null),p=!0},p(j,R){const M={};R&16777248&&(M.$$scope={dirty:R,ctx:j}),e.$set(M),j[6].name?v?v.p(j,R):(v=Yl(j),v.c(),v.m(l.parentNode,l)):v&&(v.d(1),v=null);let z=a;a=g(j),a===z?b[a].p(j,R):(Z(),q(b[z],1,1,()=>{b[z]=null}),ee(),i=b[a],i?i.p(j,R):(i=b[a]=h[a](j),i.c()),C(i,1),i.m(o.parentNode,o));let N=u;u=I(j),u===N?~u&&y[u].p(j,R):(m&&(Z(),q(y[N],1,1,()=>{y[N]=null}),ee()),~u?(m=y[u],m?m.p(j,R):(m=y[u]=k[u](j),m.c()),C(m,1),m.m(c,null)):m=null)},i(j){p||(C(e.$$.fragment,j),C(n.$$.fragment,j),C(i),C(m),p=!0)},o(j){q(e.$$.fragment,j),q(n.$$.fragment,j),q(i),q(m),p=!1},d(j){x(e,j),j&&w(t),v&&v.d(j),j&&w(l),x(n,j),j&&w(r),b[a].d(j),j&&w(o),j&&w(c),~u&&y[u].d()}}}function Wl(s){let e=" ",t,l,n=s[5].join(", ")+"",r,a;return{c(){t=E(e),l=E("("),r=E(n),a=E(")")},m(i,o){$(i,t,o),$(i,l,o),$(i,r,o),$(i,a,o)},p(i,o){o&32&&n!==(n=i[5].join(", ")+"")&&G(r,n)},d(i){i&&w(t),i&&w(l),i&&w(r),i&&w(a)}}}function Ys(s){let e,t,l=s[5].length+"",n,r,a,i=s[5].length&&Wl(s);return{c(){e=_("h1"),e.textContent="Home",t=E(`\r
			There are currently `),n=E(l),r=E(" user(s) online"),i&&i.c(),a=E(".")},m(o,c){$(o,e,c),$(o,t,c),$(o,n,c),$(o,r,c),i&&i.m(o,c),$(o,a,c)},p(o,c){c&32&&l!==(l=o[5].length+"")&&G(n,l),o[5].length?i?i.p(o,c):(i=Wl(o),i.c(),i.m(a.parentNode,a)):i&&(i.d(1),i=null)},d(o){o&&w(e),o&&w(t),o&&w(n),o&&w(r),i&&i.d(o),o&&w(a)}}}function Yl(s){let e,t,l,n,r,a,i,o,c,u;return{c(){e=_("form"),t=_("textarea"),n=S(),r=_("button"),r.textContent="Post",a=S(),i=_("div"),o=E(s[4]),d(t,"type","text"),d(t,"class","white svelte-tgtdz3"),d(t,"placeholder","Write something..."),d(t,"id","postinput"),d(t,"name","postinput"),d(t,"autocomplete","false"),d(t,"maxlength","360"),d(t,"rows","1"),d(r,"id","submitpost"),d(e,"class","createpost svelte-tgtdz3"),d(e,"autocomplete","off"),d(i,"class","post-errors svelte-tgtdz3")},m(m,p){$(m,e,p),f(e,t),f(e,n),f(e,r),$(m,a,p),$(m,i,p),f(i,o),c||(u=[En(l=Hn.call(null,t)),T(t,"input",s[10]),T(t,"keydown",s[11]),T(e,"submit",ge(s[12]))],c=!0)},p(m,p){p&16&&G(o,m[4])},d(m){m&&w(e),m&&w(a),m&&w(i),c=!1,ne(u)}}}function Gs(s){let e=[],t=new Map,l,n,r=s[0];const a=i=>i[20].id;for(let i=0;i<r.length;i+=1){let o=Hl(s,r,i),c=a(o);t.set(c,e[i]=Gl(c,o))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=Ce()},m(i,o){for(let c=0;c<e.length;c+=1)e[c].m(i,o);$(i,l,o),n=!0},p(i,o){if(o&257){r=i[0],Z();for(let c=0;c<e.length;c+=1)e[c].r();e=dt(e,o,a,1,i,r,t,l.parentNode,ft,Gl,l,Hl);for(let c=0;c<e.length;c+=1)e[c].a();ee()}},i(i){if(!n){for(let o=0;o<r.length;o+=1)C(e[o]);n=!0}},o(i){for(let o=0;o<e.length;o+=1)q(e[o]);n=!1},d(i){for(let o=0;o<e.length;o+=1)e[o].d(i);i&&w(l)}}}function Ks(s){let e;function t(r,a){return r[6].name?Js:Fs}let l=t(s),n=l(s);return{c(){n.c(),e=Ce()},m(r,a){n.m(r,a),$(r,e,a)},p(r,a){l!==(l=t(r))&&(n.d(1),n=l(r),n&&(n.c(),n.m(e.parentNode,e)))},i:P,o:P,d(r){n.d(r),r&&w(e)}}}function Gl(s,e){let t,l,n,r,a,i=P,o;return l=new lt({props:{post:e[20],input:e[8]}}),{key:s,first:null,c(){t=_("div"),O(l.$$.fragment),n=S(),this.first=t},m(c,u){$(c,t,u),L(l,t,null),f(t,n),o=!0},p(c,u){e=c;const m={};u&1&&(m.post=e[20]),l.$set(m)},r(){a=t.getBoundingClientRect()},f(){ut(t),i(),Ze(t,a)},a(){i(),i=ct(t,a,mt,{duration:250})},i(c){o||(C(l.$$.fragment,c),c&&Se(()=>{r||(r=ye(t,Ie,{y:-50,duration:250},!0)),r.run(1)}),o=!0)},o(c){q(l.$$.fragment,c),c&&(r||(r=ye(t,Ie,{y:-50,duration:250},!1)),r.run(0)),o=!1},d(c){c&&w(t),x(l),c&&r&&r.end()}}}function Fs(s){let e;return{c(){e=E("No posts here. Check back later!")},m(t,l){$(t,e,l)},d(t){t&&w(e)}}}function Js(s){let e;return{c(){e=E("No posts here. Check back later or be the first to post!")},m(t,l){$(t,e,l)},d(t){t&&w(e)}}}function Qs(s){let e,t,l;return{c(){e=_("button"),e.textContent="Load More",d(e,"class","load-more svelte-tgtdz3")},m(n,r){$(n,e,r),t||(l=T(e,"click",s[13]),t=!0)},p:P,i:P,o:P,d(n){n&&w(e),t=!1,l()}}}function Vs(s){let e,t;return e=new be({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p:P,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Xs(s){let e,t,l;return t=new be({}),{c(){e=_("div"),O(t.$$.fragment),d(e,"class","fullcenter svelte-tgtdz3")},m(n,r){$(n,e,r),L(t,e,null),l=!0},p:P,i(n){l||(C(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&w(e),x(t)}}}function Zs(s){let e,t,l={ctx:s,current:null,token:null,hasCatch:!0,pending:Xs,then:Ws,catch:Bs,error:23,blocks:[,,,]};return He(s[9](1),l),{c(){e=_("div"),l.block.c(),d(e,"class","home svelte-tgtdz3")},m(n,r){$(n,e,r),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=null,t=!0},p(n,[r]){s=n,et(l,s,r)},i(n){t||(C(l.block),t=!0)},o(n){for(let r=0;r<3;r+=1){const a=l.blocks[r];q(a)}t=!1},d(n){n&&w(e),l.block.d(),l.token=null,l=null}}}function er(s,e,t){let l,n,r,a;A(s,xe,z=>t(16,l=z)),A(s,re,z=>t(6,n=z)),A(s,fe,z=>t(17,r=z)),A(s,Pt,z=>t(7,a=z));let i=0,{posts:o=[]}=e,c=0,u=!1,m=null,p="",v=0,h;async function b(z){if(t(2,u=!0),z===void 0)t(0,o=[]);else{let N=z+Math.floor(v/25),W=v%25;try{let J="home?autoget&page=";pt&&(J=encodeURIComponent(J));const se=await fetch(`${Oe}${J}${N}`);if(!se.ok)throw new Error("Response code is not OK; code is "+se.status);const le=await se.json();let B=le.autoget;B.splice(0,W),t(3,m=le.pages);let ie,D;if(W>0&&c<m){if(ie=await fetch(`${Oe}${J}${N+1}`),!se.ok)throw new Error("Overflow response code is not OK; code is "+se.status);D=await ie.json(),B=B.concat(D.autoget.slice(0,W))}for(const K of B)o.push({id:i++,post_id:K.post_id,user:K.u,content:K.p,date:K.t.e});t(1,c=z)}catch(J){throw t(2,u=!1),J}}return t(0,o),t(2,u=!1),o}function g(z){o.unshift({id:i++,...z}),t(0,o)}function k(){H.on("direct",z=>{if(r==="home"&&z.val.mode===1){if(z.val.post_origin!=="home")return;g({post_id:z.val._id,user:z.val.u,content:z.val.p,date:z.val.t.e}),v++,t(0,o),n.sfx&&z.val.u!==n.name&&Un()}z.val.mode==="delete"&&t(0,o=o.filter(N=>N.post_id!==z.val.id))})}H.ws.readyState===1?k():H.ws.addEventListener("open",k);let y=l;xe.subscribe(z=>{t(5,y=z)});const I=()=>{a+1500<new Date*1&&(Pt.set(new Date*1),H.send({cmd:"direct",val:{cmd:"set_chat_state",val:{chatid:"livechat",state:101}},listener:"typing_indicator"}))},j=z=>{z.key=="Enter"&&!Ge&&(z.preventDefault(),document.getElementById("submitpost").click())},R=z=>{if(t(4,p=""),!z.target[0].value.trim())return t(4,p="You cannot send an empty post!"),!1;Ue.set(!0),z.target[1].disabled=!0,H.send({cmd:"direct",val:{cmd:"post_home",val:z.target[0].value},listener:"post_home"});const N=H.on("statuscode",W=>{W.listener==="post_home"&&(H.off(N),Ue.set(!1),z.target[1].disabled=!1,W.val==="I:100 | OK"?(z.target[0].value="",z.target[0].rows="1",z.target[0].style.height="45px"):W.val==="E:106 | Too many requests"?t(4,p="You're posting too fast!"):t(4,p="Unexpected "+W.val+" error!"))});return!1},M=()=>b(c+1);return s.$$set=z=>{"posts"in z&&t(0,o=z.posts)},[o,c,u,m,p,y,n,a,h,b,I,j,R,M]}class tr extends V{constructor(e){super(),Q(this,e,er,Zs,F,{posts:0})}}function Kl(s,e,t){const l=s.slice();return l[10]=e[t],l}function lr(s){let e,t;return e=new oe({props:{$$slots:{default:[nr]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p(l,n){const r={};n&16384&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function nr(s){let e,t,l,n,r=s[13]+"",a;return{c(){e=_("h1"),e.textContent="Inbox Messages",t=E(`\r
			Error loading messages. Please try again.\r
			`),l=_("pre"),n=_("code"),a=E(r)},m(i,o){$(i,e,o),$(i,t,o),$(i,l,o),f(l,n),f(n,a)},p:P,d(i){i&&w(e),i&&w(t),i&&w(l)}}}function sr(s){let e,t,l,n,r,a,i,o,c;e=new oe({props:{$$slots:{default:[rr]},$$scope:{ctx:s}}});const u=[ir,or],m=[];function p(g,k){return g[0].length<1?0:1}l=p(s),n=m[l]=u[l](s);const v=[cr,ar],h=[];function b(g,k){return g[2]?0:g[3]&&g[3]>g[1]?1:-1}return~(i=b(s))&&(o=h[i]=v[i](s)),{c(){O(e.$$.fragment),t=S(),n.c(),r=S(),a=_("div"),o&&o.c(),d(a,"class","center svelte-1y77739")},m(g,k){L(e,g,k),$(g,t,k),m[l].m(g,k),$(g,r,k),$(g,a,k),~i&&h[i].m(a,null),c=!0},p(g,k){const y={};k&16384&&(y.$$scope={dirty:k,ctx:g}),e.$set(y);let I=l;l=p(g),l===I?m[l].p(g,k):(Z(),q(m[I],1,1,()=>{m[I]=null}),ee(),n=m[l],n?n.p(g,k):(n=m[l]=u[l](g),n.c()),C(n,1),n.m(r.parentNode,r));let j=i;i=b(g),i===j?~i&&h[i].p(g,k):(o&&(Z(),q(h[j],1,1,()=>{h[j]=null}),ee()),~i?(o=h[i],o?o.p(g,k):(o=h[i]=v[i](g),o.c()),C(o,1),o.m(a,null)):o=null)},i(g){c||(C(e.$$.fragment,g),C(n),C(o),c=!0)},o(g){q(e.$$.fragment,g),q(n),q(o),c=!1},d(g){x(e,g),g&&w(t),m[l].d(g),g&&w(r),g&&w(a),~i&&h[i].d()}}}function rr(s){let e,t;return{c(){e=_("h1"),e.textContent="Inbox Messages",t=E(`\r
			Here are your latest inbox messages. We will send announcements and moderator messages to here!`)},m(l,n){$(l,e,n),$(l,t,n)},p:P,d(l){l&&w(e),l&&w(t)}}}function or(s){let e=[],t=new Map,l,n,r=s[0];const a=i=>i[10].id;for(let i=0;i<r.length;i+=1){let o=Kl(s,r,i),c=a(o);t.set(c,e[i]=Fl(c,o))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=Ce()},m(i,o){for(let c=0;c<e.length;c+=1)e[c].m(i,o);$(i,l,o),n=!0},p(i,o){if(o&1){r=i[0],Z();for(let c=0;c<e.length;c+=1)e[c].r();e=dt(e,o,a,1,i,r,t,l.parentNode,ft,Fl,l,Kl);for(let c=0;c<e.length;c+=1)e[c].a();ee()}},i(i){if(!n){for(let o=0;o<r.length;o+=1)C(e[o]);n=!0}},o(i){for(let o=0;o<e.length;o+=1)q(e[o]);n=!1},d(i){for(let o=0;o<e.length;o+=1)e[o].d(i);i&&w(l)}}}function ir(s){let e;return{c(){e=E("No messages yet. Check back later!")},m(t,l){$(t,e,l)},p:P,i:P,o:P,d(t){t&&w(e)}}}function Fl(s,e){let t,l,n,r,a,i=P,o;return l=new lt({props:{post:e[10]}}),{key:s,first:null,c(){t=_("div"),O(l.$$.fragment),n=S(),this.first=t},m(c,u){$(c,t,u),L(l,t,null),f(t,n),o=!0},p(c,u){e=c;const m={};u&1&&(m.post=e[10]),l.$set(m)},r(){a=t.getBoundingClientRect()},f(){ut(t),i(),Ze(t,a)},a(){i(),i=ct(t,a,mt,{duration:250})},i(c){o||(C(l.$$.fragment,c),c&&Se(()=>{r||(r=ye(t,Ie,{y:-50,duration:250},!0)),r.run(1)}),o=!0)},o(c){q(l.$$.fragment,c),c&&(r||(r=ye(t,Ie,{y:-50,duration:250},!1)),r.run(0)),o=!1},d(c){c&&w(t),x(l),c&&r&&r.end()}}}function ar(s){let e,t,l;return{c(){e=_("button"),e.textContent="Load More",d(e,"class","load-more svelte-1y77739")},m(n,r){$(n,e,r),t||(l=T(e,"click",s[5]),t=!0)},p:P,i:P,o:P,d(n){n&&w(e),t=!1,l()}}}function cr(s){let e,t;return e=new be({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p:P,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function ur(s){let e,t,l;return t=new be({}),{c(){e=_("div"),O(t.$$.fragment),d(e,"class","fullcenter svelte-1y77739")},m(n,r){$(n,e,r),L(t,e,null),l=!0},p:P,i(n){l||(C(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&w(e),x(t)}}}function fr(s){let e,t,l={ctx:s,current:null,token:null,hasCatch:!0,pending:ur,then:sr,catch:lr,error:13,blocks:[,,,]};return He(s[4](1),l),{c(){e=_("div"),l.block.c(),d(e,"class","messages svelte-1y77739")},m(n,r){$(n,e,r),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=null,t=!0},p(n,[r]){s=n,et(l,s,r)},i(n){t||(C(l.block),t=!0)},o(n){for(let r=0;r<3;r+=1){const a=l.blocks[r];q(a)}t=!1},d(n){n&&w(e),l.block.d(),l.token=null,l=null}}}let Jl=0;function dr(s,e,t){let l,n;A(s,Xe,v=>t(7,l=v)),A(s,re,v=>t(8,n=v));let r=0,{posts:a=[]}=e,i=0,o=!1,c=null;async function u(v){if(Y(re,n.unread_inbox=!1,n),Ne(),t(2,o=!0),v===void 0)t(0,a=[]);else{let h=v+Math.floor(Jl/25),b=Jl%25;try{let g="inbox?autoget&page=";pt&&(g=encodeURIComponent(g));const k=await fetch(`${Oe}${g}${h}`,{headers:l});if(!k.ok)throw new Error("Response code is not OK; code is "+k.status);const y=await k.json();let I=y.autoget;I.splice(0,b),t(3,c=y.pages);let j,R;b>0&&i<c;for(const M of I)M.u==="Server"?M.u="Announcement":M.u="Notification",a.push({id:r++,post_id:M.post_id,user:M.u,content:M.p,date:M.t.e});t(1,i=v)}catch(g){throw t(2,o=!1),g}}return t(0,a),t(2,o=!1),a}function m(){H.on("direct",v=>{v.val.mode==="delete"&&t(0,a=a.filter(h=>h.post_id!==v.val.id))})}H.ws.readyState===1?m():H.ws.addEventListener("open",m);const p=()=>u(i+1);return s.$$set=v=>{"posts"in v&&t(0,a=v.posts)},[a,i,o,c,u,p]}class pr extends V{constructor(e){super(),Q(this,e,dr,fr,F,{posts:0})}}const mr=s=>({}),Ql=s=>({});function _r(s){let e,t,l,n,r,a,i,o,c,u;const m=s[4].header,p=Tt(m,s,s[3],Ql),v=s[4].default,h=Tt(v,s,s[3],null);return{c(){e=_("div"),t=S(),l=_("div"),p&&p.c(),n=S(),r=_("hr"),a=S(),h&&h.c(),d(e,"class","modal-background svelte-c5nskh"),d(l,"class","modal svelte-c5nskh"),d(l,"role","dialog"),d(l,"aria-modal","true")},m(b,g){$(b,e,g),$(b,t,g),$(b,l,g),p&&p.m(l,null),f(l,n),f(l,r),f(l,a),h&&h.m(l,null),s[5](l),o=!0,c||(u=[T(window,"keydown",s[2]),T(e,"click",s[1])],c=!0)},p(b,[g]){p&&p.p&&(!o||g&8)&&Nt(p,m,b,b[3],o?Rt(m,b[3],g,mr):At(b[3]),Ql),h&&h.p&&(!o||g&8)&&Nt(h,v,b,b[3],o?Rt(v,b[3],g,null):At(b[3]),null)},i(b){o||(C(p,b),C(h,b),Se(()=>{i||(i=ye(l,Bl,{duration:200},!0)),i.run(1)}),o=!0)},o(b){q(p,b),q(h,b),i||(i=ye(l,Bl,{duration:200},!1)),i.run(0),o=!1},d(b){b&&w(e),b&&w(t),b&&w(l),p&&p.d(b),h&&h.d(b),s[5](null),b&&i&&i.end(),c=!1,ne(u)}}}function gr(s,e,t){let{$$slots:l={},$$scope:n}=e;const r=is(),a=()=>r("close");let i;const o=m=>{if(m.key==="Escape"){a();return}if(m.key==="Tab"){const p=i.querySelectorAll("*"),v=Array.from(p).filter(b=>b.tabIndex>=0);let h=v.indexOf(document.activeElement);h===-1&&m.shiftKey&&(h=0),h+=v.length+(m.shiftKey?-1:1),h%=v.length,v[h].focus(),m.preventDefault()}},c=typeof document!="undefined"&&document.activeElement;c&&os(()=>{c.focus()});function u(m){Qe[m?"unshift":"push"](()=>{i=m,t(0,i)})}return s.$$set=m=>{"$$scope"in m&&t(3,n=m.$$scope)},[i,a,o,n,l,u]}class pe extends V{constructor(e){super(),Q(this,e,gr,_r,F,{})}}function Vl(s,e,t){const l=s.slice();return l[17]=e[t],l}function hr(s){let e,t,l,n,r=[],a=new Map,i,o,c,u,m;e=new oe({props:{$$slots:{default:[br]},$$scope:{ctx:s}}}),l=new oe({props:{$$slots:{default:[kr]},$$scope:{ctx:s}}});let p=s[0];const v=k=>k[17]._id;for(let k=0;k<p.length;k+=1){let y=Vl(s,p,k),I=v(y);a.set(I,r[k]=Xl(I,y))}const h=[yr,$r],b=[];function g(k,y){return k[3]?0:k[4]&&k[4]>k[2]?1:-1}return~(c=g(s))&&(u=b[c]=h[c](s)),{c(){O(e.$$.fragment),t=S(),O(l.$$.fragment),n=S();for(let k=0;k<r.length;k+=1)r[k].c();i=S(),o=_("div"),u&&u.c(),d(o,"class","center svelte-ruol0l")},m(k,y){L(e,k,y),$(k,t,y),L(l,k,y),$(k,n,y);for(let I=0;I<r.length;I+=1)r[I].m(k,y);$(k,i,y),$(k,o,y),~c&&b[c].m(o,null),m=!0},p(k,y){const I={};y&1048576&&(I.$$scope={dirty:y,ctx:k}),e.$set(I);const j={};if(y&1048576&&(j.$$scope={dirty:y,ctx:k}),l.$set(j),y&3){p=k[0],Z();for(let M=0;M<r.length;M+=1)r[M].r();r=dt(r,y,v,1,k,p,a,i.parentNode,ft,Xl,i,Vl);for(let M=0;M<r.length;M+=1)r[M].a();ee()}let R=c;c=g(k),c===R?~c&&b[c].p(k,y):(u&&(Z(),q(b[R],1,1,()=>{b[R]=null}),ee()),~c?(u=b[c],u?u.p(k,y):(u=b[c]=h[c](k),u.c()),C(u,1),u.m(o,null)):u=null)},i(k){if(!m){C(e.$$.fragment,k),C(l.$$.fragment,k);for(let y=0;y<p.length;y+=1)C(r[y]);C(u),m=!0}},o(k){q(e.$$.fragment,k),q(l.$$.fragment,k);for(let y=0;y<r.length;y+=1)q(r[y]);q(u),m=!1},d(k){x(e,k),k&&w(t),x(l,k),k&&w(n);for(let y=0;y<r.length;y+=1)r[y].d(k);k&&w(i),k&&w(o),~c&&b[c].d()}}}function vr(s){let e,t,l;return t=new be({}),{c(){e=_("div"),O(t.$$.fragment),d(e,"class","fullcenter svelte-ruol0l")},m(n,r){$(n,e,r),L(t,e,null),l=!0},p:P,i(n){l||(C(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&w(e),x(t)}}}function br(s){let e,t,l,n,r,a;return{c(){e=_("h1"),e.textContent="Chats",t=E(`\r
			Here are your chats. Press the chat button to enter a chat.\r
			`),l=_("div"),n=_("button"),d(n,"class","circle plus svelte-ruol0l"),d(l,"class","settings-controls svelte-ruol0l")},m(i,o){$(i,e,o),$(i,t,o),$(i,l,o),f(l,n),r||(a=T(n,"click",s[8]),r=!0)},p:P,d(i){i&&w(e),i&&w(t),i&&w(l),r=!1,a()}}}function kr(s){let e,t,l,n,r,a,i;return{c(){e=_("div"),t=_("button"),l=S(),n=_("h1"),n.textContent="Livechat",r=E(`\r
			This is the public livechat. Messages in this chat don't save.`),d(t,"class","circle join svelte-ruol0l"),d(e,"class","settings-controls svelte-ruol0l")},m(o,c){$(o,e,c),f(e,t),$(o,l,c),$(o,n,c),$(o,r,c),a||(i=T(t,"click",s[9]),a=!0)},p:P,d(o){o&&w(e),o&&w(l),o&&w(n),o&&w(r),a=!1,i()}}}function wr(s){let e,t,l,n,r,a,i=s[17].nickname+"",o,c,u=(s[17].members.length>100?s[17].members.slice(0,99).join(", ")+"...":s[17].members.join(", "))+"",m,p,v;function h(){return s[10](s[17])}function b(){return s[11](s[17])}return{c(){e=_("div"),t=_("button"),l=S(),n=_("button"),r=S(),a=_("h1"),o=E(i),c=E(`\r
                    Members: `),m=E(u),d(t,"class","circle close svelte-ruol0l"),d(n,"class","circle join svelte-ruol0l"),d(e,"class","settings-controls svelte-ruol0l")},m(g,k){$(g,e,k),f(e,t),f(e,l),f(e,n),$(g,r,k),$(g,a,k),f(a,o),$(g,c,k),$(g,m,k),p||(v=[T(t,"click",h),T(n,"click",b)],p=!0)},p(g,k){s=g,k&1&&i!==(i=s[17].nickname+"")&&G(o,i),k&1&&u!==(u=(s[17].members.length>100?s[17].members.slice(0,99).join(", ")+"...":s[17].members.join(", "))+"")&&G(m,u)},d(g){g&&w(e),g&&w(r),g&&w(a),g&&w(c),g&&w(m),p=!1,ne(v)}}}function Xl(s,e){let t,l,n,r,a=P,i;return l=new oe({props:{$$slots:{default:[wr]},$$scope:{ctx:e}}}),{key:s,first:null,c(){t=_("div"),O(l.$$.fragment),this.first=t},m(o,c){$(o,t,c),L(l,t,null),i=!0},p(o,c){e=o;const u={};c&1048579&&(u.$$scope={dirty:c,ctx:e}),l.$set(u)},r(){r=t.getBoundingClientRect()},f(){ut(t),a(),Ze(t,r)},a(){a(),a=ct(t,r,mt,{duration:250})},i(o){i||(C(l.$$.fragment,o),o&&Se(()=>{n||(n=ye(t,Ie,{y:-50,duration:250},!0)),n.run(1)}),i=!0)},o(o){q(l.$$.fragment,o),o&&(n||(n=ye(t,Ie,{y:-50,duration:250},!1)),n.run(0)),i=!1},d(o){o&&w(t),x(l),o&&n&&n.end()}}}function $r(s){let e,t,l;return{c(){e=_("button"),e.textContent="Load More",d(e,"class","load-more svelte-ruol0l")},m(n,r){$(n,e,r),t||(l=T(e,"click",s[12]),t=!0)},p:P,i:P,o:P,d(n){n&&w(e),t=!1,l()}}}function yr(s){let e,t;return e=new be({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p:P,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Zl(s){let e,t;return e=new pe({props:{$$slots:{default:[Sr],header:[Cr]},$$scope:{ctx:s}}}),e.$on("close",s[15]),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p(l,n){const r={};n&1048675&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Cr(s){let e;return{c(){e=_("h2"),e.textContent="Leave Chat",d(e,"slot","header")},m(t,l){$(t,e,l)},p:P,d(t){t&&w(e)}}}function Sr(s){let e,t,l,n,r,a,i,o,c,u,m,p,v,h,b;return{c(){e=_("div"),t=_("span"),l=E("Are you sure you want to leave "),n=E(s[5]),r=E("?"),a=S(),i=_("br"),o=_("br"),c=S(),u=_("div"),m=_("button"),m.textContent="No",p=S(),v=_("button"),v.textContent="Yes",d(u,"class","modal-buttons"),d(e,"slot","default")},m(g,k){$(g,e,k),f(e,t),f(t,l),f(t,n),f(t,r),f(e,a),f(e,i),f(e,o),f(e,c),f(e,u),f(u,m),f(u,p),f(u,v),h||(b=[T(m,"click",s[13]),T(v,"click",s[14])],h=!0)},p(g,k){k&32&&G(n,g[5])},d(g){g&&w(e),h=!1,ne(b)}}}function qr(s){let e,t,l,n,r;const a=[vr,hr],i=[];function o(u,m){return u[3]?0:1}t=o(s),l=i[t]=a[t](s);let c=s[1]&&Zl(s);return{c(){e=_("div"),l.c(),n=S(),c&&c.c(),d(e,"class","chats svelte-ruol0l")},m(u,m){$(u,e,m),i[t].m(e,null),f(e,n),c&&c.m(e,null),r=!0},p(u,[m]){let p=t;t=o(u),t===p?i[t].p(u,m):(Z(),q(i[p],1,1,()=>{i[p]=null}),ee(),l=i[t],l?l.p(u,m):(l=i[t]=a[t](u),l.c()),C(l,1),l.m(e,n)),u[1]?c?(c.p(u,m),m&2&&C(c,1)):(c=Zl(u),c.c(),C(c,1),c.m(e,null)):c&&(Z(),q(c,1,1,()=>{c=null}),ee())},i(u){r||(C(l),C(c),r=!0)},o(u){q(l),q(c),r=!1},d(u){u&&w(e),i[t].d(),c&&c.d()}}}let en=0;function Pr(s,e,t){let l,n;A(s,Be,j=>t(5,l=j)),A(s,we,j=>t(6,n=j));let{chats:r=[]}=e,a=!1,i=0,o=!1,c=null;async function u(j){if(t(3,o=!0),j===void 0)t(0,r=[]);else{let R=j+Math.floor(en/25);ae({cmd:"direct",val:{cmd:"get_chat_list",val:{page:R}}})}}function m(){H.on("direct",j=>{if(j.val.mode==="chats"){let R=en%25,M=j.val.payload.all_chats;M.splice(0,R),t(4,c=j.val.payload.pages),t(2,i=j.val.payload["page#"]),t(0,r=M),t(3,o=!1)}})}H.ws.readyState===1?m():H.ws.addEventListener("open",m),u(1);const p=()=>{ue.set("createChat"),U.set(!0)},v=()=>{Be.set("Livechat"),we.set("livechat"),We.set([]),Dt.set(""),window.scrollTo(0,0),fe.set("blank"),$e().then(()=>fe.set("groupchat"))},h=j=>{Be.set(j.nickname),we.set(j._id),t(1,a=!0)},b=j=>{Be.set(j.nickname),we.set(j._id),We.set(j.members),Dt.set(j.owner),window.scrollTo(0,0),fe.set("blank"),$e().then(()=>fe.set("groupchat"))},g=()=>u(i+1),k=()=>{t(1,a=!1)},y=()=>{t(0,r=r.filter(j=>j._id!==n)),ae({cmd:"direct",val:{cmd:"leave_chat",val:n}}),t(1,a=!1)},I=()=>{t(1,a=!1)};return s.$$set=j=>{"chats"in j&&t(0,r=j.chats)},[r,a,i,o,c,l,n,u,p,v,h,b,g,k,y,I]}class jr extends V{constructor(e){super(),Q(this,e,Pr,qr,F,{chats:0})}}function zr(s){let e,t,l,n,r;return{c(){e=_("div"),t=E("error loading member "),l=E(s[0]),n=E(": "),r=E(s[2]),d(e,"class","error svelte-zakp9s")},m(a,i){$(a,e,i),f(e,t),f(e,l),f(e,n),f(e,r)},p(a,i){i&1&&G(l,a[0]),i&4&&G(r,a[2])},i:P,o:P,d(a){a&&w(e)}}}function Er(s){let e,t,l,n,r,a,i;return l=new tt({props:{icon:s[1],alt:s[0]+"'s profile picture",online:s[3].includes(s[0]),size:.5}}),{c(){e=_("div"),t=_("div"),O(l.$$.fragment),n=S(),r=_("p"),a=E(s[0]),d(t,"class","member-pfp"),d(r,"class","member-name svelte-zakp9s"),d(e,"class","member svelte-zakp9s")},m(o,c){$(o,e,c),f(e,t),L(l,t,null),f(e,n),f(e,r),f(r,a),i=!0},p(o,c){const u={};c&2&&(u.icon=o[1]),c&1&&(u.alt=o[0]+"'s profile picture"),c&9&&(u.online=o[3].includes(o[0])),l.$set(u),(!i||c&1)&&G(a,o[0])},i(o){i||(C(l.$$.fragment,o),i=!0)},o(o){q(l.$$.fragment,o),i=!1},d(o){o&&w(e),x(l)}}}function Ir(s){let e,t,l,n;const r=[Er,zr],a=[];function i(o,c){return o[2]?1:0}return e=i(s),t=a[e]=r[e](s),{c(){t.c(),l=Ce()},m(o,c){a[e].m(o,c),$(o,l,c),n=!0},p(o,[c]){let u=e;e=i(o),e===u?a[e].p(o,c):(Z(),q(a[u],1,1,()=>{a[u]=null}),ee(),t=a[e],t?t.p(o,c):(t=a[e]=r[e](o),t.c()),C(t,1),t.m(l.parentNode,l))},i(o){n||(C(t),n=!0)},o(o){q(t),n=!1},d(o){a[e].d(o),o&&w(l)}}}function Mr(s,e,t){let l;A(s,xe,o=>t(3,l=o));let{member:n=""}=e,r=0,a;async function i(){try{t(1,r=(await zt(n)).pfp_data)}catch(o){t(2,a=o),t(1,r=-2)}}return Jt(i),s.$$set=o=>{"member"in o&&t(0,n=o.member)},[n,r,a,l]}class Lr extends V{constructor(e){super(),Q(this,e,Mr,Ir,F,{member:0})}}function tn(s,e,t){const l=s.slice();return l[26]=e[t],l}function ln(s,e,t){const l=s.slice();return l[29]=e[t],l}function xr(s){let e,t;return e=new oe({props:{$$slots:{default:[Or]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p(l,n){const r={};n[1]&4&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Or(s){let e,t,l,n,r=s[32]+"",a;return{c(){e=_("h1"),e.textContent=`${Be}`,t=E(`\r
			Error loading posts. Please try again.\r
			`),l=_("pre"),n=_("code"),a=E(r)},m(i,o){$(i,e,o),$(i,t,o),$(i,l,o),f(l,n),f(n,a)},p:P,d(i){i&&w(e),i&&w(t),i&&w(l)}}}function Tr(s){let e,t,l,n,r,a,i,o,c,u,m;t=new oe({props:{$$slots:{default:[Rr]},$$scope:{ctx:s}}});let p=s[8].name&&sn(s);r=new Bn({});const v=[Ar,Nr],h=[];function b(k,y){return k[0].length<1?0:1}i=b(s),o=h[i]=v[i](s);let g=s[5]&&s[7]!=="livechat"&&on(s);return{c(){e=_("div"),O(t.$$.fragment),l=S(),p&&p.c(),n=S(),O(r.$$.fragment),a=S(),o.c(),c=S(),g&&g.c(),u=Ce(),d(e,"id","chat"),d(e,"class","svelte-1pjlcg7")},m(k,y){$(k,e,y),L(t,e,null),f(e,l),p&&p.m(e,null),f(e,n),L(r,e,null),f(e,a),h[i].m(e,null),$(k,c,y),g&&g.m(k,y),$(k,u,y),m=!0},p(k,y){const I={};y[0]&224|y[1]&4&&(I.$$scope={dirty:y,ctx:k}),t.$set(I),k[8].name?p?p.p(k,y):(p=sn(k),p.c(),p.m(e,n)):p&&(p.d(1),p=null);let j=i;i=b(k),i===j?h[i].p(k,y):(Z(),q(h[j],1,1,()=>{h[j]=null}),ee(),o=h[i],o?o.p(k,y):(o=h[i]=v[i](k),o.c()),C(o,1),o.m(e,null)),k[5]&&k[7]!=="livechat"?g?(g.p(k,y),y[0]&160&&C(g,1)):(g=on(k),g.c(),C(g,1),g.m(u.parentNode,u)):g&&(Z(),q(g,1,1,()=>{g=null}),ee())},i(k){m||(C(t.$$.fragment,k),C(r.$$.fragment,k),C(o),C(g),m=!0)},o(k){q(t.$$.fragment,k),q(r.$$.fragment,k),q(o),q(g),m=!1},d(k){k&&w(e),x(t),p&&p.d(),x(r),h[i].d(),k&&w(c),g&&g.d(k),k&&w(u)}}}function nn(s){let e,t,l,n;return{c(){e=_("div"),t=_("button"),d(t,"class","circle members"),d(e,"class","settings-controls svelte-1pjlcg7")},m(r,a){$(r,e,a),f(e,t),l||(n=T(t,"click",s[13]),l=!0)},p:P,d(r){r&&w(e),l=!1,n()}}}function Rr(s){let e,t,l,n,r,a,i=s[7]!=="livechat"&&nn(s);return{c(){e=_("h1"),t=E(s[6]),l=E(`\r
				Chat ID: `),n=E(s[7]),r=S(),i&&i.c(),a=Ce()},m(o,c){$(o,e,c),f(e,t),$(o,l,c),$(o,n,c),$(o,r,c),i&&i.m(o,c),$(o,a,c)},p(o,c){c[0]&64&&G(t,o[6]),c[0]&128&&G(n,o[7]),o[7]!=="livechat"?i?i.p(o,c):(i=nn(o),i.c(),i.m(a.parentNode,a)):i&&(i.d(1),i=null)},d(o){o&&w(e),o&&w(l),o&&w(n),o&&w(r),i&&i.d(o),o&&w(a)}}}function sn(s){let e,t,l,n,r,a,i,o,c,u;return{c(){e=_("form"),t=_("textarea"),n=S(),r=_("button"),r.textContent="Post",a=S(),i=_("div"),o=E(s[4]),d(t,"type","text"),d(t,"class","white svelte-1pjlcg7"),d(t,"placeholder","Write something..."),d(t,"id","postinput"),d(t,"name","postinput"),d(t,"autocomplete","false"),d(t,"maxlength","360"),d(t,"rows","1"),d(r,"id","submitpost"),d(e,"class","createpost svelte-1pjlcg7"),d(e,"autocomplete","off"),d(i,"class","post-errors svelte-1pjlcg7")},m(m,p){$(m,e,p),f(e,t),f(e,n),f(e,r),$(m,a,p),$(m,i,p),f(i,o),c||(u=[En(l=Hn.call(null,t)),T(t,"input",s[14]),T(t,"keydown",s[15]),T(e,"submit",ge(s[16]))],c=!0)},p(m,p){p[0]&16&&G(o,m[4])},d(m){m&&w(e),m&&w(a),m&&w(i),c=!1,ne(u)}}}function Nr(s){let e=[],t=new Map,l,n,r,a,i,o=s[0];const c=v=>v[29].id;for(let v=0;v<o.length;v+=1){let h=ln(s,o,v),b=c(h);t.set(b,e[v]=rn(b,h))}const u=[Dr,Ur],m=[];function p(v,h){return v[2]?0:v[3]&&v[3]>v[1]?1:-1}return~(r=p(s))&&(a=m[r]=u[r](s)),{c(){for(let v=0;v<e.length;v+=1)e[v].c();l=S(),n=_("div"),a&&a.c(),d(n,"class","center svelte-1pjlcg7")},m(v,h){for(let b=0;b<e.length;b+=1)e[b].m(v,h);$(v,l,h),$(v,n,h),~r&&m[r].m(n,null),i=!0},p(v,h){if(h[0]&2049){o=v[0],Z();for(let g=0;g<e.length;g+=1)e[g].r();e=dt(e,h,c,1,v,o,t,l.parentNode,ft,rn,l,ln);for(let g=0;g<e.length;g+=1)e[g].a();ee()}let b=r;r=p(v),r===b?~r&&m[r].p(v,h):(a&&(Z(),q(m[b],1,1,()=>{m[b]=null}),ee()),~r?(a=m[r],a?a.p(v,h):(a=m[r]=u[r](v),a.c()),C(a,1),a.m(n,null)):a=null)},i(v){if(!i){for(let h=0;h<o.length;h+=1)C(e[h]);C(a),i=!0}},o(v){for(let h=0;h<e.length;h+=1)q(e[h]);q(a),i=!1},d(v){for(let h=0;h<e.length;h+=1)e[h].d(v);v&&w(l),v&&w(n),~r&&m[r].d()}}}function Ar(s){let e;function t(r,a){return r[8].name?Hr:Br}let l=t(s),n=l(s);return{c(){n.c(),e=Ce()},m(r,a){n.m(r,a),$(r,e,a)},p(r,a){l!==(l=t(r))&&(n.d(1),n=l(r),n&&(n.c(),n.m(e.parentNode,e)))},i:P,o:P,d(r){n.d(r),r&&w(e)}}}function rn(s,e){let t,l,n,r,a=P,i;return l=new lt({props:{post:e[29],input:e[11]}}),{key:s,first:null,c(){t=_("div"),O(l.$$.fragment),this.first=t},m(o,c){$(o,t,c),L(l,t,null),i=!0},p(o,c){e=o;const u={};c[0]&1&&(u.post=e[29]),l.$set(u)},r(){r=t.getBoundingClientRect()},f(){ut(t),a(),Ze(t,r)},a(){a(),a=ct(t,r,mt,{duration:250})},i(o){i||(C(l.$$.fragment,o),o&&Se(()=>{n||(n=ye(t,Ie,{y:-50,duration:250},!0)),n.run(1)}),i=!0)},o(o){q(l.$$.fragment,o),o&&(n||(n=ye(t,Ie,{y:-50,duration:250},!1)),n.run(0)),i=!1},d(o){o&&w(t),x(l),o&&n&&n.end()}}}function Ur(s){let e,t,l;return{c(){e=_("button"),e.textContent="Load More",d(e,"class","load-more svelte-1pjlcg7")},m(n,r){$(n,e,r),t||(l=T(e,"click",s[17]),t=!0)},p:P,i:P,o:P,d(n){n&&w(e),t=!1,l()}}}function Dr(s){let e,t;return e=new be({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p:P,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Br(s){let e;return{c(){e=E("No posts here. Check back later!")},m(t,l){$(t,e,l)},d(t){t&&w(e)}}}function Hr(s){let e;return{c(){e=E("No posts here. Check back later or be the first to post!")},m(t,l){$(t,e,l)},d(t){t&&w(e)}}}function on(s){let e,t,l,n,r,a,i,o,c,u,m,p=s[10],v=[];for(let b=0;b<p.length;b+=1)v[b]=an(tn(s,p,b));const h=b=>q(v[b],1,1,()=>{v[b]=null});return{c(){e=_("div"),t=_("div");for(let b=0;b<v.length;b+=1)v[b].c();l=S(),n=_("div"),r=_("h2"),r.textContent="Members",a=S(),i=_("div"),o=_("button"),d(t,"id","members-inner"),d(t,"class","svelte-1pjlcg7"),d(r,"class","members-title svelte-1pjlcg7"),d(o,"class","circle plus"),d(i,"class","settings-controls svelte-1pjlcg7"),d(n,"class","top svelte-1pjlcg7"),d(e,"id","members"),d(e,"class","svelte-1pjlcg7")},m(b,g){$(b,e,g),f(e,t);for(let k=0;k<v.length;k+=1)v[k].m(t,null);f(e,l),f(e,n),f(n,r),f(n,a),f(n,i),f(i,o),c=!0,u||(m=T(o,"click",s[19]),u=!0)},p(b,g){if(g[0]&1024){p=b[10];let k;for(k=0;k<p.length;k+=1){const y=tn(b,p,k);v[k]?(v[k].p(y,g),C(v[k],1)):(v[k]=an(y),v[k].c(),C(v[k],1),v[k].m(t,null))}for(Z(),k=p.length;k<v.length;k+=1)h(k);ee()}},i(b){if(!c){for(let g=0;g<p.length;g+=1)C(v[g]);c=!0}},o(b){v=v.filter(Boolean);for(let g=0;g<v.length;g+=1)q(v[g]);c=!1},d(b){b&&w(e),Kt(v,b),u=!1,m()}}}function an(s){let e,t,l,n,r,a;t=new Lr({props:{member:s[26]}});function i(){return s[18](s[26])}return{c(){e=_("button"),O(t.$$.fragment),l=S(),d(e,"class","member-button svelte-1pjlcg7")},m(o,c){$(o,e,c),L(t,e,null),f(e,l),n=!0,r||(a=T(e,"click",i),r=!0)},p(o,c){s=o;const u={};c[0]&1024&&(u.member=s[26]),t.$set(u)},i(o){n||(C(t.$$.fragment,o),n=!0)},o(o){q(t.$$.fragment,o),n=!1},d(o){o&&w(e),x(t),r=!1,a()}}}function Wr(s){let e,t,l;return t=new be({}),{c(){e=_("div"),O(t.$$.fragment),d(e,"class","fullcenter svelte-1pjlcg7")},m(n,r){$(n,e,r),L(t,e,null),l=!0},p:P,i(n){l||(C(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&w(e),x(t)}}}function Yr(s){let e,t,l={ctx:s,current:null,token:null,hasCatch:!0,pending:Wr,then:Tr,catch:xr,error:32,blocks:[,,,]};return He(s[12](1),l),{c(){e=_("div"),l.block.c(),d(e,"class","groupchat svelte-1pjlcg7")},m(n,r){$(n,e,r),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=null,t=!0},p(n,r){s=n,et(l,s,r)},i(n){t||(C(l.block),t=!0)},o(n){for(let r=0;r<3;r+=1){const a=l.blocks[r];q(a)}t=!1},d(n){n&&w(e),l.block.d(),l.token=null,l=null}}}function Gr(s,e,t){let l,n,r,a,i,o,c;A(s,Be,B=>t(6,l=B)),A(s,we,B=>t(7,n=B)),A(s,fe,B=>t(22,r=B)),A(s,re,B=>t(8,a=B)),A(s,Xe,B=>t(23,i=B)),A(s,Pt,B=>t(9,o=B)),A(s,We,B=>t(10,c=B));let u=0,{posts:m=[]}=e,p=0,v=!1,h=null,b="",g,k=0,y=!0;async function I(B){if(n==="livechat"){ae({cmd:"direct",val:{cmd:"set_chat_state",val:{state:1,chatid:n}}});return}if(t(2,v=!0),B===void 0)t(0,m=[]);else{let ie=B+Math.floor(k/25),D=k%25;try{let K=`posts/${n}?autoget&page=`;pt&&(K=encodeURIComponent(K));const X=await fetch(`${Oe}${K}${ie}`,{headers:i});if(!X.ok)throw new Error("Response code is not OK; code is "+X.status);const te=await X.json();let qe=te.autoget;qe.splice(0,D),t(3,h=te.pages);let Ke,tl;if(D>0&&p<h){if(Ke=await fetch(`${Oe}${K}${ie+1}`),!X.ok)throw new Error("Overflow response code is not OK; code is "+X.status);tl=await Ke.json(),qe=qe.concat(tl.autoget.slice(0,D))}for(const _t of qe)m.push({id:u++,post_id:_t.post_id,user:_t.u,content:_t.p,date:_t.t.e});t(1,p=B)}catch(K){throw t(2,v=!1),K}}return ae({cmd:"direct",val:{cmd:"set_chat_state",val:{state:1,chatid:n}}}),t(0,m),t(2,v=!1),m}function j(B){m.unshift({id:u++,...B}),t(0,m)}function R(){H.on("direct",B=>{if(r==="groupchat"&&B.val.state===2){if(B.val.post_origin!==n)return;j({post_id:B.val._id,user:B.val.u,content:B.val.p,date:B.val.t.e}),k++,t(0,m),a.sfx&&B.val.u!==a.name&&Un()}if(r==="groupchat"&&B.val.state===0){if(B.val.chatid!==n)return;j({post_id:u++,user:"Server",content:`${B.val.u} left ${l}.`,date:new Date().getTime()/1e3})}if(r==="groupchat"&&B.val.state===1){if(B.val.chatid!==n)return;j({post_id:u++,user:"Server",content:`${B.val.u} joined ${l}!`,date:new Date().getTime()/1e3})}B.val.mode==="delete"&&t(0,m=m.filter(ie=>ie.post_id!==B.val.id))})}H.ws.readyState===1?R():H.ws.addEventListener("open",R);const M=()=>{t(5,y=!y)},z=()=>{o+1500<new Date*1&&(Pt.set(new Date*1),H.send({cmd:"direct",val:{cmd:"set_chat_state",val:{chatid:n,state:100}},listener:"typing_indicator"}))},N=B=>{B.key=="Enter"&&!Ge&&(B.preventDefault(),document.getElementById("submitpost").click())},W=B=>{if(t(4,b=""),!B.target[0].value.trim())return t(4,b="You cannot send an empty post!"),!1;Ue.set(!0),B.target[1].disabled=!0,H.send({cmd:"direct",val:{cmd:"post_chat",val:{p:B.target[0].value,chatid:n}},listener:"post_chat"});const ie=H.on("statuscode",D=>{D.listener==="post_chat"&&(H.off(ie),Ue.set(!1),B.target[1].disabled=!1,D.val==="I:100 | OK"?(B.target[0].value="",B.target[0].rows="1",B.target[0].style.height="45px"):D.val==="E:106 | Too many requests"?t(4,b="You're posting too fast!"):t(4,b="Unexpected "+D.val+" error!"))});return!1},J=()=>I(p+1),se=B=>{ue.set("GC_Member"),U.set(!0),Vt.set(B)},le=()=>{ue.set("AddMember"),U.set(!0)};return s.$$set=B=>{"posts"in B&&t(0,m=B.posts)},[m,p,v,h,b,y,l,n,a,o,c,g,I,M,z,N,W,J,se,le]}class Yn extends V{constructor(e){super(),Q(this,e,Gr,Yr,F,{posts:0},null,[-1,-1])}}const Ht={0:"User",1:"Low-level Moderator",2:"Moderator",3:"Administrator",4:"Sysadmin"};function cn(s,e,t){const l=s.slice();return l[14]=e[t],l}function Kr(s){let e,t,l,n;return e=new oe({props:{$$slots:{default:[Fr]},$$scope:{ctx:s}}}),l=new oe({props:{$$slots:{default:[Jr]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment),t=S(),O(l.$$.fragment)},m(r,a){L(e,r,a),$(r,t,a),L(l,r,a),n=!0},p(r,a){const i={};a&262156&&(i.$$scope={dirty:a,ctx:r}),e.$set(i);const o={};a&262144&&(o.$$scope={dirty:a,ctx:r}),l.$set(o)},i(r){n||(C(e.$$.fragment,r),C(l.$$.fragment,r),n=!0)},o(r){q(e.$$.fragment,r),q(l.$$.fragment,r),n=!1},d(r){x(e,r),r&&w(t),x(l,r)}}}function Fr(s){let e,t,l,n,r,a,i,o,c=s[3].includes(s[2])?"Online":"Offline",u,m,p,v;return t=new tt({props:{online:s[3].includes(s[2]),icon:-2,alt:s[2]+"'s profile picture",size:1.4}}),{c(){e=_("div"),O(t.$$.fragment),l=S(),n=_("div"),r=_("h1"),a=E(s[2]),i=S(),o=_("div"),u=E(c),m=S(),p=_("div"),p.textContent="Unknown",d(r,"class","profile-username svelte-7yc5pd"),d(o,"class","profile-active svelte-7yc5pd"),d(p,"class","profile-role svelte-7yc5pd"),d(n,"class","profile-header-info svelte-7yc5pd"),d(e,"class","profile-header svelte-7yc5pd")},m(h,b){$(h,e,b),L(t,e,null),f(e,l),f(e,n),f(n,r),f(r,a),f(n,i),f(n,o),f(o,u),f(n,m),f(n,p),v=!0},p(h,b){const g={};b&12&&(g.online=h[3].includes(h[2])),b&4&&(g.alt=h[2]+"'s profile picture"),t.$set(g),(!v||b&4)&&G(a,h[2]),(!v||b&12)&&c!==(c=h[3].includes(h[2])?"Online":"Offline")&&G(u,c)},i(h){v||(C(t.$$.fragment,h),v=!0)},o(h){q(t.$$.fragment,h),v=!1},d(h){h&&w(e),x(t)}}}function Jr(s){let e,t,l,n,r=s[17]+"",a,i,o,c;return{c(){e=_("h2"),e.textContent="Error",t=E(`\r
			We couldn't get this user's profile info.\r
			`),l=_("pre"),n=_("code"),a=E(r),i=E(`\r
			Try again. If this issue persists,\r
			`),o=_("a"),o.textContent="create an issue on Meower Svelte's issue tracker",c=E(" with the error code shown above."),d(o,"href","https://github.com/Meower-Media-Co/Meower-Svelte/issues/new")},m(u,m){$(u,e,m),$(u,t,m),$(u,l,m),f(l,n),f(n,a),$(u,i,m),$(u,o,m),$(u,c,m)},p:P,d(u){u&&w(e),u&&w(t),u&&w(l),u&&w(i),u&&w(o),u&&w(c)}}}function Qr(s){let e,t,l,n,r,a,i,o,c,u,m,p;e=new oe({props:{$$slots:{default:[Vr]},$$scope:{ctx:s}}});let v=s[13].quote&&Xr(s);const h=[to,eo],b=[];function g(y,I){return y[0]?0:y[2]===y[1].name?1:-1}~(n=g(s))&&(r=b[n]=h[n](s));let k=s[1].name&&s[2]!==s[1].name&&fn(s);return{c(){O(e.$$.fragment),t=S(),v&&v.c(),l=S(),r&&r.c(),a=S(),i=_("button"),i.textContent="View recent posts",o=S(),k&&k.c(),c=Ce(),d(i,"class","long svelte-7yc5pd"),d(i,"title","View Recet Posts")},m(y,I){L(e,y,I),$(y,t,I),v&&v.m(y,I),$(y,l,I),~n&&b[n].m(y,I),$(y,a,I),$(y,i,I),$(y,o,I),k&&k.m(y,I),$(y,c,I),u=!0,m||(p=T(i,"click",s[10]),m=!0)},p(y,I){const j={};I&262158&&(j.$$scope={dirty:I,ctx:y}),e.$set(j),y[13].quote&&v.p(y,I);let R=n;n=g(y),n===R?~n&&b[n].p(y,I):(r&&(Z(),q(b[R],1,1,()=>{b[R]=null}),ee()),~n?(r=b[n],r?r.p(y,I):(r=b[n]=h[n](y),r.c()),C(r,1),r.m(a.parentNode,a)):r=null),y[1].name&&y[2]!==y[1].name?k?k.p(y,I):(k=fn(y),k.c(),k.m(c.parentNode,c)):k&&(k.d(1),k=null)},i(y){u||(C(e.$$.fragment,y),C(v),C(r),u=!0)},o(y){q(e.$$.fragment,y),q(v),q(r),u=!1},d(y){x(e,y),y&&w(t),v&&v.d(y),y&&w(l),~n&&b[n].d(y),y&&w(a),y&&w(i),y&&w(o),k&&k.d(y),y&&w(c),m=!1,p()}}}function Vr(s){let e,t,l,n,r,a=s[13]._id+"",i,o,c,u=s[3].includes(s[13]._id)?"Online":"Offline",m,p,v,h=(Ht[s[13].lvl]||"Unknown")+"",b,g;return t=new tt({props:{online:s[3].includes(s[13]._id),icon:s[2]===s[1].name?s[1].pfp_data:s[13].pfp_data,alt:s[13]._id+"'s profile picture",size:1.4}}),{c(){e=_("div"),O(t.$$.fragment),l=S(),n=_("div"),r=_("h1"),i=E(a),o=S(),c=_("div"),m=E(u),p=S(),v=_("div"),b=E(h),d(r,"class","profile-username svelte-7yc5pd"),d(c,"class","profile-active svelte-7yc5pd"),d(v,"class","profile-role svelte-7yc5pd"),d(n,"class","profile-header-info svelte-7yc5pd"),d(e,"class","profile-header svelte-7yc5pd")},m(k,y){$(k,e,y),L(t,e,null),f(e,l),f(e,n),f(n,r),f(r,i),f(n,o),f(n,c),f(c,m),f(n,p),f(n,v),f(v,b),g=!0},p(k,y){const I={};y&8&&(I.online=k[3].includes(k[13]._id)),y&6&&(I.icon=k[2]===k[1].name?k[1].pfp_data:k[13].pfp_data),t.$set(I),(!g||y&8)&&u!==(u=k[3].includes(k[13]._id)?"Online":"Offline")&&G(m,u)},i(k){g||(C(t.$$.fragment,k),g=!0)},o(k){q(t.$$.fragment,k),g=!1},d(k){k&&w(e),x(t)}}}function Xr(s){let e,t;return e=new oe({props:{$$slots:{default:[Zr]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p(l,n){const r={};n&262144&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Zr(s){let e,t,l,n,r,a=s[13].quote+"",i,o;return{c(){e=_("h3"),e.textContent="Quote",t=S(),l=_("p"),n=E('"'),r=_("i"),i=E(a),o=E('"')},m(c,u){$(c,e,u),$(c,t,u),$(c,l,u),f(l,n),f(l,r),f(r,i),f(l,o)},p:P,d(c){c&&w(e),c&&w(t),c&&w(l)}}}function eo(s){let e,t,l,n=s[13].quote?"Update Quote":"Set Quote",r,a,i;return{c(){e=_("button"),e.textContent="Change Profile Picture",t=S(),l=_("button"),r=E(n),d(e,"class","long svelte-7yc5pd"),d(e,"title","Change Profile Picture"),d(l,"class","long svelte-7yc5pd"),d(l,"title",s[13].quote?"Update Quote":"Set Quote")},m(o,c){$(o,e,c),$(o,t,c),$(o,l,c),f(l,r),a||(i=[T(e,"click",s[8]),T(l,"click",s[9])],a=!0)},p:P,i:P,o:P,d(o){o&&w(e),o&&w(t),o&&w(l),a=!1,ne(i)}}}function to(s){let e,t;return e=new oe({props:{$$slots:{default:[lo]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p(l,n){const r={};n&262147&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function un(s){let e,t,l,n,r;t=new tt({props:{online:!1,icon:s[14],alt:"Profile picture "+s[14]}});function a(){return s[7](s[14])}return{c(){e=_("span"),O(t.$$.fragment),d(e,"class","pfp svelte-7yc5pd"),me(e,"selected",s[1].pfp_data===s[14])},m(i,o){$(i,e,o),L(t,e,null),l=!0,n||(r=T(e,"click",a),n=!0)},p(i,o){s=i,o&18&&me(e,"selected",s[1].pfp_data===s[14])},i(i){l||(C(t.$$.fragment,i),l=!0)},o(i){q(t.$$.fragment,i),l=!1},d(i){i&&w(e),x(t),n=!1,r()}}}function lo(s){let e,t,l,n,r=s[4],a=[];for(let o=0;o<r.length;o+=1)a[o]=un(cn(s,r,o));const i=o=>q(a[o],1,1,()=>{a[o]=null});return{c(){e=_("h2"),e.textContent="Profile Picture",t=S(),l=_("div");for(let o=0;o<a.length;o+=1)a[o].c();d(l,"id","pfp-list"),d(l,"class","svelte-7yc5pd")},m(o,c){$(o,e,c),$(o,t,c),$(o,l,c);for(let u=0;u<a.length;u+=1)a[u].m(l,null);n=!0},p(o,c){if(c&83){r=o[4];let u;for(u=0;u<r.length;u+=1){const m=cn(o,r,u);a[u]?(a[u].p(m,c),C(a[u],1)):(a[u]=un(m),a[u].c(),C(a[u],1),a[u].m(l,null))}for(Z(),u=r.length;u<a.length;u+=1)i(u);ee()}},i(o){if(!n){for(let c=0;c<r.length;c+=1)C(a[c]);n=!0}},o(o){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)q(a[c]);n=!1},d(o){o&&w(e),o&&w(t),o&&w(l),Kt(a,o)}}}function fn(s){let e,t,l;return{c(){e=_("button"),e.textContent="Report User",d(e,"class","long svelte-7yc5pd"),d(e,"title","Report User")},m(n,r){$(n,e,r),t||(l=T(e,"click",s[11]),t=!0)},p:P,d(n){n&&w(e),t=!1,l()}}}function no(s){let e,t,l;return t=new be({}),{c(){e=_("div"),O(t.$$.fragment),d(e,"class","fullcenter svelte-7yc5pd")},m(n,r){$(n,e,r),L(t,e,null),l=!0},p:P,i(n){l||(C(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&w(e),x(t)}}}function so(s){let e,t,l={ctx:s,current:null,token:null,hasCatch:!0,pending:no,then:Qr,catch:Kr,value:13,error:17,blocks:[,,,]};return He(s[5](),l),{c(){e=_("div"),l.block.c(),d(e,"class","OtherProfile")},m(n,r){$(n,e,r),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=null,t=!0},p(n,[r]){s=n,et(l,s,r)},i(n){t||(C(l.block),t=!0)},o(n){for(let r=0;r<3;r+=1){const a=l.blocks[r];q(a)}t=!1},d(n){n&&w(e),l.block.d(),l.token=null,l=null}}}function ro(s,e,t){let l,n,r,a;A(s,re,g=>t(1,l=g)),A(s,je,g=>t(12,n=g)),A(s,Ye,g=>t(2,r=g)),A(s,xe,g=>t(3,a=g));const i=new Array(28).fill().map((g,k)=>k+1);let o=!1;async function c(){let g=`users/${r}`;pt&&(g=encodeURIComponent(g));const k=await fetch(`${Oe}${g}`);if(!k.ok)throw new Error("Response code is not OK; code is "+k.status);return await k.json()}function u(){if(n[l.name]){const g=n;delete g[l.name],je.set(g)}Ne()}return[o,l,r,a,i,c,u,g=>{t(0,o=!1),Y(re,l.pfp_data=g,l),u()},()=>t(0,o=!0),()=>{ue.set("setQuote"),U.set(!0)},()=>{window.scrollTo(0,0),fe.set("blank"),$e().then(()=>fe.set("recent"))},()=>{ue.set("reportUser"),U.set(!0)}]}class oo extends V{constructor(e){super(),Q(this,e,ro,so,F,{})}}function dn(s,e,t){const l=s.slice();return l[9]=e[t],l}function io(s){let e,t;return e=new oe({props:{$$slots:{default:[ao]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p(l,n){const r={};n&8208&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function ao(s){let e,t,l,n,r,a,i=s[12]+"",o;return{c(){e=_("h1"),t=E(s[4]),l=E("'s Recent Posts"),n=E(`\r
			Error loading posts. Please try again.\r
			`),r=_("pre"),a=_("code"),o=E(i)},m(c,u){$(c,e,u),f(e,t),f(e,l),$(c,n,u),$(c,r,u),f(r,a),f(a,o)},p(c,u){u&16&&G(t,c[4])},d(c){c&&w(e),c&&w(n),c&&w(r)}}}function co(s){let e,t,l,n,r,a,i,o,c;e=new oe({props:{$$slots:{default:[uo]},$$scope:{ctx:s}}});const u=[po,fo],m=[];function p(g,k){return g[0].length<1?0:1}l=p(s),n=m[l]=u[l](s);const v=[_o,mo],h=[];function b(g,k){return g[2]?0:g[3]&&g[3]>g[1]?1:-1}return~(i=b(s))&&(o=h[i]=v[i](s)),{c(){O(e.$$.fragment),t=S(),n.c(),r=S(),a=_("div"),o&&o.c(),d(a,"class","center svelte-1wbtcfa")},m(g,k){L(e,g,k),$(g,t,k),m[l].m(g,k),$(g,r,k),$(g,a,k),~i&&h[i].m(a,null),c=!0},p(g,k){const y={};k&8208&&(y.$$scope={dirty:k,ctx:g}),e.$set(y);let I=l;l=p(g),l===I?m[l].p(g,k):(Z(),q(m[I],1,1,()=>{m[I]=null}),ee(),n=m[l],n?n.p(g,k):(n=m[l]=u[l](g),n.c()),C(n,1),n.m(r.parentNode,r));let j=i;i=b(g),i===j?~i&&h[i].p(g,k):(o&&(Z(),q(h[j],1,1,()=>{h[j]=null}),ee()),~i?(o=h[i],o?o.p(g,k):(o=h[i]=v[i](g),o.c()),C(o,1),o.m(a,null)):o=null)},i(g){c||(C(e.$$.fragment,g),C(n),C(o),c=!0)},o(g){q(e.$$.fragment,g),q(n),q(o),c=!1},d(g){x(e,g),g&&w(t),m[l].d(g),g&&w(r),g&&w(a),~i&&h[i].d()}}}function uo(s){let e,t,l,n,r,a;return{c(){e=_("h1"),t=E(s[4]),l=E("'s Recent Posts"),n=E(`\r
			Here are `),r=E(s[4]),a=E("'s recent posts.")},m(i,o){$(i,e,o),f(e,t),f(e,l),$(i,n,o),$(i,r,o),$(i,a,o)},p(i,o){o&16&&G(t,i[4]),o&16&&G(r,i[4])},d(i){i&&w(e),i&&w(n),i&&w(r),i&&w(a)}}}function fo(s){let e=[],t=new Map,l,n,r=s[0];const a=i=>i[9].id;for(let i=0;i<r.length;i+=1){let o=dn(s,r,i),c=a(o);t.set(c,e[i]=pn(c,o))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=Ce()},m(i,o){for(let c=0;c<e.length;c+=1)e[c].m(i,o);$(i,l,o),n=!0},p(i,o){if(o&1){r=i[0],Z();for(let c=0;c<e.length;c+=1)e[c].r();e=dt(e,o,a,1,i,r,t,l.parentNode,ft,pn,l,dn);for(let c=0;c<e.length;c+=1)e[c].a();ee()}},i(i){if(!n){for(let o=0;o<r.length;o+=1)C(e[o]);n=!0}},o(i){for(let o=0;o<e.length;o+=1)q(e[o]);n=!1},d(i){for(let o=0;o<e.length;o+=1)e[o].d(i);i&&w(l)}}}function po(s){let e,t;return{c(){e=E(s[4]),t=E(" hasn't made any posts yet.")},m(l,n){$(l,e,n),$(l,t,n)},p(l,n){n&16&&G(e,l[4])},i:P,o:P,d(l){l&&w(e),l&&w(t)}}}function pn(s,e){let t,l,n,r,a,i=P,o;return l=new lt({props:{post:e[9]}}),{key:s,first:null,c(){t=_("div"),O(l.$$.fragment),n=S(),this.first=t},m(c,u){$(c,t,u),L(l,t,null),f(t,n),o=!0},p(c,u){e=c;const m={};u&1&&(m.post=e[9]),l.$set(m)},r(){a=t.getBoundingClientRect()},f(){ut(t),i(),Ze(t,a)},a(){i(),i=ct(t,a,mt,{duration:250})},i(c){o||(C(l.$$.fragment,c),c&&Se(()=>{r||(r=ye(t,Ie,{y:-50,duration:250},!0)),r.run(1)}),o=!0)},o(c){q(l.$$.fragment,c),c&&(r||(r=ye(t,Ie,{y:-50,duration:250},!1)),r.run(0)),o=!1},d(c){c&&w(t),x(l),c&&r&&r.end()}}}function mo(s){let e,t,l;return{c(){e=_("button"),e.textContent="Load More",d(e,"class","load-more svelte-1wbtcfa")},m(n,r){$(n,e,r),t||(l=T(e,"click",s[6]),t=!0)},p:P,i:P,o:P,d(n){n&&w(e),t=!1,l()}}}function _o(s){let e,t;return e=new be({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p:P,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function go(s){let e,t,l;return t=new be({}),{c(){e=_("div"),O(t.$$.fragment),d(e,"class","fullcenter svelte-1wbtcfa")},m(n,r){$(n,e,r),L(t,e,null),l=!0},p:P,i(n){l||(C(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&w(e),x(t)}}}function ho(s){let e,t,l={ctx:s,current:null,token:null,hasCatch:!0,pending:go,then:co,catch:io,error:12,blocks:[,,,]};return He(s[5](1),l),{c(){e=_("div"),l.block.c(),d(e,"class","posts svelte-1wbtcfa")},m(n,r){$(n,e,r),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=null,t=!0},p(n,[r]){s=n,et(l,s,r)},i(n){t||(C(l.block),t=!0)},o(n){for(let r=0;r<3;r+=1){const a=l.blocks[r];q(a)}t=!1},d(n){n&&w(e),l.block.d(),l.token=null,l=null}}}let mn=0;function vo(s,e,t){let l;A(s,Ye,p=>t(4,l=p));let n=0,{posts:r=[]}=e,a=0,i=!1,o=null;async function c(p){if(t(2,i=!0),p===void 0)t(0,r=[]);else{let v=p+Math.floor(mn/25),h=mn%25;try{let b=`users/${l}/posts?autoget&page=`;pt&&(b=encodeURIComponent(b));const g=await fetch(`${Oe}${b}${v}`);if(!g.ok)throw new Error("Response code is not OK; code is "+g.status);const k=await g.json();let y=k.autoget;y.splice(0,h),t(3,o=k.pages);let I,j;h>0&&a<o;for(const R of y)r.push({id:n++,post_id:R.post_id,user:R.u,content:R.p,date:R.t.e});t(1,a=p)}catch(b){throw t(2,i=!1),b}}return t(0,r),t(2,i=!1),r}function u(){H.on("direct",p=>{p.val.mode==="delete"&&t(0,r=r.filter(v=>v.post_id!==p.val.id))})}H.ws.readyState===1?u():H.ws.addEventListener("open",u);const m=()=>c(a+1);return s.$$set=p=>{"posts"in p&&t(0,r=p.posts)},[r,a,i,o,l,c,m]}class bo extends V{constructor(e){super(),Q(this,e,vo,ho,F,{posts:0})}}function ko(s){let e,t;return{c(){e=_("h1"),e.textContent="Settings",t=E(`\r
	You can change your settings here. These will save to your account, so they will carry over into other clients.`)},m(l,n){$(l,e,n),$(l,t,n)},p:P,d(l){l&&w(e),l&&w(t)}}}function wo(s){let e,t,l,n,r,a=s[0].layout+"",i,o,c,u;return{c(){e=_("div"),t=_("button"),l=S(),n=_("h2"),n.textContent="Layout",r=E(`\r
	The layout is currently set to `),i=E(a),o=E("."),d(t,"class","circle settings svelte-1undfiq"),d(e,"class","settings-controls svelte-1undfiq")},m(m,p){$(m,e,p),f(e,t),$(m,l,p),$(m,n,p),$(m,r,p),$(m,i,p),$(m,o,p),c||(u=T(t,"click",s[3]),c=!0)},p(m,p){p&1&&a!==(a=m[0].layout+"")&&G(i,a)},d(m){m&&w(e),m&&w(l),m&&w(n),m&&w(r),m&&w(i),m&&w(o),c=!1,u()}}}function $o(s){let e,t,l,n,r,a=s[0].theme+"",i,o,c,u;return{c(){e=_("div"),t=_("button"),l=S(),n=_("h2"),n.textContent="Theme",r=E(`\r
	The theme is currently set to `),i=E(a),o=E("."),d(t,"class","circle settings svelte-1undfiq"),d(e,"class","settings-controls svelte-1undfiq")},m(m,p){$(m,e,p),f(e,t),$(m,l,p),$(m,n,p),$(m,r,p),$(m,i,p),$(m,o,p),c||(u=T(t,"click",s[4]),c=!0)},p(m,p){p&1&&a!==(a=m[0].theme+"")&&G(i,a)},d(m){m&&w(e),m&&w(l),m&&w(n),m&&w(r),m&&w(i),m&&w(o),c=!1,u()}}}function yo(s){let e,t,l,n,r,a,i=s[0].mode?"disabled":"enabled",o,c,u,m;return{c(){e=_("div"),t=_("input"),n=S(),r=_("h2"),r.textContent="Dark Mode",a=E(`\r
	Dark mode is currently `),o=E(i),c=E("."),d(t,"type","checkbox"),t.checked=l=!s[0].mode,d(t,"class","svelte-1undfiq"),d(e,"class","settings-controls svelte-1undfiq")},m(p,v){$(p,e,v),f(e,t),$(p,n,v),$(p,r,v),$(p,a,v),$(p,o,v),$(p,c,v),u||(m=T(t,"change",s[5]),u=!0)},p(p,v){v&1&&l!==(l=!p[0].mode)&&(t.checked=l),v&1&&i!==(i=p[0].mode?"disabled":"enabled")&&G(o,i)},d(p){p&&w(e),p&&w(n),p&&w(r),p&&w(a),p&&w(o),p&&w(c),u=!1,m()}}}function Co(s){let e,t,l,n,r,a,i=s[0].sfx?"enabled":"disabled",o,c,u,m;return{c(){e=_("div"),t=_("input"),n=S(),r=_("h2"),r.textContent="Sound Effects",a=E(`\r
	Sound effects are currently `),o=E(i),c=E("."),d(t,"type","checkbox"),t.checked=l=s[0].sfx,d(t,"class","svelte-1undfiq"),d(e,"class","settings-controls svelte-1undfiq")},m(p,v){$(p,e,v),f(e,t),$(p,n,v),$(p,r,v),$(p,a,v),$(p,o,v),$(p,c,v),u||(m=T(t,"change",s[6]),u=!0)},p(p,v){v&1&&l!==(l=p[0].sfx)&&(t.checked=l),v&1&&i!==(i=p[0].sfx?"enabled":"disabled")&&G(o,i)},d(p){p&&w(e),p&&w(n),p&&w(r),p&&w(a),p&&w(o),p&&w(c),u=!1,m()}}}function _n(s){let e,t,l,n;return e=new oe({props:{$$slots:{default:[So]},$$scope:{ctx:s}}}),l=new oe({props:{$$slots:{default:[qo]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment),t=S(),O(l.$$.fragment)},m(r,a){L(e,r,a),$(r,t,a),L(l,r,a),n=!0},p(r,a){const i={};a&518&&(i.$$scope={dirty:a,ctx:r}),e.$set(i);const o={};a&518&&(o.$$scope={dirty:a,ctx:r}),l.$set(o)},i(r){n||(C(e.$$.fragment,r),C(l.$$.fragment,r),n=!0)},o(r){q(e.$$.fragment,r),q(l.$$.fragment,r),n=!1},d(r){x(e,r),r&&w(t),x(l,r)}}}function So(s){let e,t,l,n,r,a,i;return{c(){e=_("div"),t=_("button"),l=S(),n=_("h2"),n.textContent="Change Password",r=E(`\r
	Change your account password.`),d(t,"class","circle settings svelte-1undfiq"),d(e,"class","settings-controls svelte-1undfiq")},m(o,c){$(o,e,c),f(e,t),$(o,l,c),$(o,n,c),$(o,r,c),a||(i=T(t,"click",s[7]),a=!0)},p:P,d(o){o&&w(e),o&&w(l),o&&w(n),o&&w(r),a=!1,i()}}}function qo(s){let e,t,l,n,r,a,i;return{c(){e=_("div"),t=_("button"),l=S(),n=_("h2"),n.textContent="Delete Account",r=E(`\r
	Permanently delete your Meower account. THIS CANNOT BE UNDONE.`),d(t,"class","circle settings svelte-1undfiq"),d(e,"class","settings-controls svelte-1undfiq")},m(o,c){$(o,e,c),f(e,t),$(o,l,c),$(o,n,c),$(o,r,c),a||(i=T(t,"click",s[8]),a=!0)},p:P,d(o){o&&w(e),o&&w(l),o&&w(n),o&&w(r),a=!1,i()}}}function Po(s){let e,t,l,n,r,a,i,o,c,u,m,p,v;e=new oe({props:{$$slots:{default:[ko]},$$scope:{ctx:s}}}),l=new oe({props:{$$slots:{default:[wo]},$$scope:{ctx:s}}}),r=new oe({props:{$$slots:{default:[$o]},$$scope:{ctx:s}}}),i=new oe({props:{$$slots:{default:[yo]},$$scope:{ctx:s}}}),c=new oe({props:{$$slots:{default:[Co]},$$scope:{ctx:s}}});let h=s[0].name&&_n(s);return{c(){O(e.$$.fragment),t=S(),O(l.$$.fragment),n=S(),O(r.$$.fragment),a=S(),O(i.$$.fragment),o=S(),O(c.$$.fragment),u=S(),h&&h.c(),m=S(),p=_("div"),d(p,"class","eee")},m(b,g){L(e,b,g),$(b,t,g),L(l,b,g),$(b,n,g),L(r,b,g),$(b,a,g),L(i,b,g),$(b,o,g),L(c,b,g),$(b,u,g),h&&h.m(b,g),$(b,m,g),$(b,p,g),v=!0},p(b,[g]){const k={};g&512&&(k.$$scope={dirty:g,ctx:b}),e.$set(k);const y={};g&513&&(y.$$scope={dirty:g,ctx:b}),l.$set(y);const I={};g&513&&(I.$$scope={dirty:g,ctx:b}),r.$set(I);const j={};g&513&&(j.$$scope={dirty:g,ctx:b}),i.$set(j);const R={};g&513&&(R.$$scope={dirty:g,ctx:b}),c.$set(R),b[0].name?h?(h.p(b,g),g&1&&C(h,1)):(h=_n(b),h.c(),C(h,1),h.m(m.parentNode,m)):h&&(Z(),q(h,1,1,()=>{h=null}),ee())},i(b){v||(C(e.$$.fragment,b),C(l.$$.fragment,b),C(r.$$.fragment,b),C(i.$$.fragment,b),C(c.$$.fragment,b),C(h),v=!0)},o(b){q(e.$$.fragment,b),q(l.$$.fragment,b),q(r.$$.fragment,b),q(i.$$.fragment,b),q(c.$$.fragment,b),q(h),v=!1},d(b){x(e,b),b&&w(t),x(l,b),b&&w(n),x(r,b),b&&w(a),x(i,b),b&&w(o),x(c,b),b&&w(u),h&&h.d(b),b&&w(m),b&&w(p)}}}function jo(s,e,t){let l,n,r;return A(s,re,p=>t(0,l=p)),A(s,ue,p=>t(1,n=p)),A(s,U,p=>t(2,r=p)),[l,n,r,()=>{const p=l;p.layout=p.layout==="new"?"old":"new",re.set(p),Ne()},()=>{const p=l;p.theme=p.theme==="orange"?"blue":"orange",re.set(p),Ne()},()=>{const p=l;p.mode=!p.mode,re.set(p),Ne()},()=>{const p=l;p.sfx=!p.sfx,re.set(p),Ne()},()=>{Y(ue,n="changePassword",n),Y(U,r=!0,r)},()=>{Y(ue,n="deleteAccount",n),Y(U,r=!0,r)}]}class zo extends V{constructor(e){super(),Q(this,e,jo,Po,F,{})}}var Gn="./assets/meowy.93c25f40.svg";function gn(s,e,t){const l=s.slice();return l[1]=e[t],l}function hn(s){let e,t;return{c(){e=_("img"),d(e,"class","cat svelte-vuknl4"),d(e,"alt","MEOW"),d(e,"title","MEOW"),ve(e.src,t=Gn)||d(e,"src",t),d(e,"height","100"),Re(e,"left",(s[1].x||0)+"vw",!1),Re(e,"top",(s[1].y||0)+"vh",!1),Re(e,"animation-delay",-(s[1].offset||0)+"s",!1),Re(e,"animation-duration",s[1].time+"s",!1)},m(l,n){$(l,e,n)},p:P,d(l){l&&w(e)}}}function Eo(s){let e,t=s[0],l=[];for(let n=0;n<t.length;n+=1)l[n]=hn(gn(s,t,n));return{c(){e=_("div");for(let n=0;n<l.length;n+=1)l[n].c();d(e,"class","cats svelte-vuknl4")},m(n,r){$(n,e,r);for(let a=0;a<l.length;a+=1)l[a].m(e,null)},p(n,[r]){if(r&1){t=n[0];let a;for(a=0;a<t.length;a+=1){const i=gn(n,t,a);l[a]?l[a].p(i,r):(l[a]=hn(i),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=t.length}},i:P,o:P,d(n){n&&w(e),Kt(l,n)}}}function Io(s){return[new Array(100).fill({}).map(t=>({x:Math.random()*100,y:Math.random()*100,offset:Math.random()*15,time:5+Math.random()*10}))]}class Mo extends V{constructor(e){super(),Q(this,e,Io,Eo,F,{})}}function Lo(s){let e,t,l,n,r;return n=new Mo({}),{c(){e=_("div"),t=_("div"),t.textContent="GROUP CAT 2.0!!!!",l=S(),O(n.$$.fragment),d(t,"class","message svelte-w78hki")},m(a,i){$(a,e,i),f(e,t),f(e,l),L(n,e,null),r=!0},p:P,i(a){r||(C(n.$$.fragment,a),r=!0)},o(a){q(n.$$.fragment,a),r=!1},d(a){a&&w(e),x(n)}}}class xo extends V{constructor(e){super(),Q(this,e,null,Lo,F,{})}}var el="./assets/logo.22ae43ae.svg",Oo="./assets/home.a6e91ee5.svg",To="./assets/chat.8f7a11c0.svg",vn="./assets/mail.adf4cbe0.svg",bn="./assets/mail_new.2e8332f8.svg",Ro="./assets/profile.f90d67b3.svg",No="./assets/settings.10cdbd27.svg",Ao="./assets/logout.32557676.svg";function Uo(s){let e,t,l,n,r,a,i,o,c,u,m,p,v,h,b,g,k,y,I,j,R,M,z,N,W,J,se,le,B,ie,D;return{c(){e=_("div"),t=_("div"),l=_("span"),n=_("img"),a=S(),i=_("button"),o=_("img"),u=S(),m=_("button"),p=_("img"),h=S(),b=_("button"),g=_("img"),y=S(),I=_("button"),j=_("img"),M=S(),z=_("button"),N=_("img"),J=S(),se=_("button"),le=_("img"),d(n,"alt","Meower"),ve(n.src,r=el)||d(n,"src",r),d(n,"draggable",!1),d(n,"height","100%"),d(n,"width","auto"),d(n,"class","svelte-1wuew5k"),d(l,"class","logo-inner svelte-1wuew5k"),d(t,"class","logo svelte-1wuew5k"),ve(o.src,c=Oo)||d(o,"src",c),d(o,"alt","Home"),d(o,"width","90%"),d(o,"height","auto"),d(o,"draggable",!1),d(i,"class","home-btn round svelte-1wuew5k"),ve(p.src,v=s[0].unread_inbox?bn:vn)||d(p,"src",v),d(p,"alt","Inbox Messages"),d(p,"width","90%"),d(p,"height","auto"),d(p,"draggable",!1),d(m,"class","gc-btn round svelte-1wuew5k"),ve(g.src,k=To)||d(g,"src",k),d(g,"alt","Group Chats"),d(g,"width","90%"),d(g,"height","auto"),d(g,"draggable",!1),d(b,"class","gc-btn round svelte-1wuew5k"),ve(j.src,R=Ro)||d(j,"src",R),d(j,"alt","Profile"),d(j,"width","90%"),d(j,"height","auto"),d(j,"draggable",!1),d(I,"class","profile-btn round svelte-1wuew5k"),ve(N.src,W=No)||d(N,"src",W),d(N,"alt","Settings"),d(N,"width","90%"),d(N,"height","auto"),d(N,"draggable",!1),d(z,"class","settings-btn round svelte-1wuew5k"),ve(le.src,B=Ao)||d(le,"src",B),d(le,"alt","Log out"),d(le,"width","90%"),d(le,"height","auto"),d(le,"draggable",!1),d(se,"class","logout-btn round svelte-1wuew5k"),d(e,"class","sidebar svelte-1wuew5k")},m(K,X){$(K,e,X),f(e,t),f(t,l),f(l,n),f(e,a),f(e,i),f(i,o),f(e,u),f(e,m),f(m,p),f(e,h),f(e,b),f(b,g),f(e,y),f(e,I),f(I,j),f(e,M),f(e,z),f(z,N),f(e,J),f(e,se),f(se,le),ie||(D=[T(l,"click",s[3]),T(i,"click",s[4]),T(m,"click",s[5]),T(b,"click",s[6]),T(I,"click",s[7]),T(z,"click",s[8]),T(se,"click",s[9])],ie=!0)},p(K,[X]){X&1&&!ve(p.src,v=K[0].unread_inbox?bn:vn)&&d(p,"src",v)},i:P,o:P,d(K){K&&w(e),ie=!1,ne(D)}}}function Do(s,e,t){let l,n,r,a;A(s,we,b=>t(10,l=b)),A(s,fe,b=>t(11,n=b)),A(s,re,b=>t(0,r=b)),A(s,Ye,b=>t(1,a=b));function i(b,g=!0){if(!r.name&&b!=="home"&&b!=="settings"){ue.set("signup"),U.set(!0);return}g&&window.scrollTo(0,0),n==="groupchat"&&ae({cmd:"direct",val:{cmd:"set_chat_state",val:{state:0,chatid:l}}}),we.set(""),fe.set("blank"),$e().then(()=>fe.set(b))}return[r,a,i,()=>i("home"),()=>i("home"),()=>i("inbox"),()=>{i(Ge?"groupcat":"chatlist")},()=>{Y(Ye,a=r.name,a),i("profile")},()=>i("settings"),()=>{ue.set("logout"),U.set(!0)}]}class Bo extends V{constructor(e){super(),Q(this,e,Do,Uo,F,{})}}function Ho(s){let e,t,l,n,r;return{c(){e=E(`Somehow, you got to a page that doesn't exist...\r
			`),t=_("br"),l=E(`\r
			(Current page: `),n=E(s[0]),r=E(")")},m(a,i){$(a,e,i),$(a,t,i),$(a,l,i),$(a,n,i),$(a,r,i)},p(a,i){i&1&&G(n,a[0])},i:P,o:P,d(a){a&&w(e),a&&w(t),a&&w(l),a&&w(n),a&&w(r)}}}function Wo(s){let e;return{c(){e=_("div")},m(t,l){$(t,e,l)},p:P,i:P,o:P,d(t){t&&w(e)}}}function Yo(s){let e,t;return e=new Yn({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p:P,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Go(s){let e,t;return e=new xo({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p:P,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Ko(s){let e,t;return e=new zo({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p:P,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Fo(s){let e,t;return e=new bo({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p:P,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Jo(s){let e,t;return e=new oo({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p:P,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Qo(s){let e,t;return e=new Yn({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p:P,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Vo(s){let e,t;return e=new jr({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p:P,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Xo(s){let e,t;return e=new pr({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p:P,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Zo(s){let e,t;return e=new tr({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p:P,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function ei(s){let e,t,l,n,r,a,i,o;l=new Bo({});const c=[Zo,Xo,Vo,Qo,Jo,Fo,Ko,Go,Yo,Wo,Ho],u=[];function m(p,v){return p[0]==="home"?0:p[0]==="inbox"?1:p[0]==="chatlist"?2:p[0]==="groupchat"?3:p[0]==="profile"?4:p[0]==="recent"?5:p[0]==="settings"?6:p[0]==="groupcat"?7:p[0]==="groupchat"?8:p[0]==="blank"?9:10}return a=m(s),i=u[a]=c[a](s),{c(){e=_("div"),t=_("div"),O(l.$$.fragment),n=S(),r=_("div"),i.c(),d(t,"class","sidebar svelte-w6uu6j"),d(r,"class","view svelte-w6uu6j"),d(e,"class","main-screen svelte-w6uu6j")},m(p,v){$(p,e,v),f(e,t),L(l,t,null),f(e,n),f(e,r),u[a].m(r,null),o=!0},p(p,[v]){let h=a;a=m(p),a===h?u[a].p(p,v):(Z(),q(u[h],1,1,()=>{u[h]=null}),ee(),i=u[a],i?i.p(p,v):(i=u[a]=c[a](p),i.c()),C(i,1),i.m(r,null))},i(p){o||(C(l.$$.fragment,p),C(i),o=!0)},o(p){q(l.$$.fragment,p),q(i),o=!1},d(p){p&&w(e),x(l),u[a].d()}}}function ti(s,e,t){let l;return A(s,fe,n=>t(0,l=n)),fe.set("home"),[l]}class li extends V{constructor(e){super(),Q(this,e,ti,ei,F,{})}}function ni(s){let e,t,l,n,r,a,i,o,c,u,m;return{c(){e=_("div"),t=_("div"),l=E(`Somehow, you got to a page that doesn't exist...\r
				`),n=_("br"),r=E(`\r
				(Current page: `),a=E(s[8]),i=E(`)\r
\r
				`),o=_("div"),c=_("button"),c.textContent="Go back!",d(n,"class","svelte-slqvyn"),d(c,"class","svelte-slqvyn"),d(o,"class","buttons svelte-slqvyn"),d(t,"class","column-ui svelte-slqvyn"),d(e,"class","fullcenter svelte-slqvyn")},m(p,v){$(p,e,v),f(e,t),f(t,l),f(t,n),f(t,r),f(t,a),f(t,i),f(t,o),f(o,c),u||(m=T(c,"click",s[23]),u=!0)},p(p,v){v&256&&G(a,p[8])},i:P,o:P,d(p){p&&w(e),u=!1,m()}}}function si(s){let e;return{c(){e=_("div"),e.textContent="Let's go!",d(e,"class","fullcenter svelte-slqvyn")},m(t,l){$(t,e,l)},p:P,i:P,o:P,d(t){t&&w(e)}}}function ri(s){let e;return{c(){e=_("div")},m(t,l){$(t,e,l)},p:P,i:P,o:P,d(t){t&&w(e)}}}function oi(s){let e,t,l,n,r,a,i,o,c,u,m,p,v,h,b,g,k,y,I,j,R,M,z,N,W,J,se,le,B,ie,D,K;return{c(){e=_("div"),t=_("h1"),t.textContent="Welcome to Meower",l=S(),n=_("form"),r=_("input"),a=S(),i=_("br"),o=S(),c=_("input"),u=S(),m=_("p"),p=_("input"),v=S(),h=_("label"),h.textContent="Save this login",b=S(),g=_("br"),k=S(),y=_("input"),I=S(),j=_("label"),j.innerHTML='I agree to <a href="https://meower.org/legal" target="_blank" class="svelte-slqvyn">Meower&#39;s Terms of Service and Privacy Policy</a>',R=S(),M=_("span"),z=E(s[3]),N=S(),W=_("div"),J=_("button"),J.textContent="Go back",se=S(),le=_("button"),B=E("Join!"),d(r,"type","text"),d(r,"placeholder","Username"),d(r,"maxlength","20"),d(r,"class","svelte-slqvyn"),d(i,"class","svelte-slqvyn"),d(c,"type","password"),d(c,"placeholder","Password"),d(c,"maxlength","64"),d(c,"class","svelte-slqvyn"),d(p,"id","remember-me"),d(p,"type","checkbox"),d(p,"class","svelte-slqvyn"),d(h,"for","remember-me"),d(h,"class","svelte-slqvyn"),d(g,"class","svelte-slqvyn"),d(y,"id","accept-terms"),d(y,"type","checkbox"),d(y,"class","svelte-slqvyn"),d(j,"for","accept-terms"),d(j,"class","svelte-slqvyn"),d(m,"class","checkboxes svelte-slqvyn"),d(M,"class","login-status svelte-slqvyn"),d(J,"type","button"),d(J,"class","svelte-slqvyn"),d(le,"type","submit"),le.disabled=ie=!s[5],d(le,"class","svelte-slqvyn"),d(W,"class","buttons svelte-slqvyn"),d(n,"class","column-ui svelte-slqvyn"),d(e,"class","fullcenter svelte-slqvyn")},m(X,te){$(X,e,te),f(e,t),f(e,l),f(e,n),f(n,r),f(n,a),f(n,i),f(n,o),f(n,c),f(n,u),f(n,m),f(m,p),p.checked=s[4],f(m,v),f(m,h),f(m,b),f(m,g),f(m,k),f(m,y),y.checked=s[5],f(m,I),f(m,j),f(n,R),f(n,M),f(M,z),f(n,N),f(n,W),f(W,J),f(W,se),f(W,le),f(le,B),D||(K=[T(p,"change",s[19]),T(y,"change",s[20]),T(J,"click",ge(s[21])),T(n,"submit",ge(s[22]))],D=!0)},p(X,te){te&16&&(p.checked=X[4]),te&32&&(y.checked=X[5]),te&8&&G(z,X[3]),te&32&&ie!==(ie=!X[5])&&(le.disabled=ie)},i:P,o:P,d(X){X&&w(e),D=!1,ne(K)}}}function ii(s){let e,t,l,n,r,a,i,o,c,u,m,p,v,h,b,g,k,y,I,j,R,M,z,N;return{c(){e=_("div"),t=_("h1"),t.textContent="Login to Meower",l=S(),n=_("form"),r=_("input"),a=S(),i=_("br"),o=S(),c=_("input"),u=S(),m=_("p"),p=_("input"),v=S(),h=_("label"),h.textContent="Save this login",b=S(),g=_("span"),k=E(s[3]),y=S(),I=_("div"),j=_("button"),j.textContent="Go back",R=S(),M=_("button"),M.textContent="Log in",d(r,"type","text"),d(r,"placeholder","Username"),d(r,"maxlength","20"),d(r,"class","svelte-slqvyn"),d(i,"class","svelte-slqvyn"),d(c,"type","password"),d(c,"placeholder","Password"),d(c,"maxlength","64"),d(c,"class","svelte-slqvyn"),d(p,"id","remember-me"),d(p,"type","checkbox"),d(p,"class","svelte-slqvyn"),d(h,"for","remember-me"),d(h,"class","svelte-slqvyn"),d(m,"class","checkboxes svelte-slqvyn"),d(g,"class","login-status svelte-slqvyn"),d(j,"type","button"),d(j,"class","svelte-slqvyn"),d(M,"type","submit"),d(M,"class","svelte-slqvyn"),d(I,"class","buttons svelte-slqvyn"),d(n,"class","column-ui svelte-slqvyn"),d(e,"class","fullcenter svelte-slqvyn")},m(W,J){$(W,e,J),f(e,t),f(e,l),f(e,n),f(n,r),f(n,a),f(n,i),f(n,o),f(n,c),f(n,u),f(n,m),f(m,p),p.checked=s[4],f(m,v),f(m,h),f(n,b),f(n,g),f(g,k),f(n,y),f(n,I),f(I,j),f(I,R),f(I,M),z||(N=[T(p,"change",s[16]),T(j,"click",ge(s[17])),T(n,"submit",ge(s[18]))],z=!0)},p(W,J){J&16&&(p.checked=W[4]),J&8&&G(k,W[3])},i:P,o:P,d(W){W&&w(e),z=!1,ne(N)}}}function ai(s){let e,t,l,n,r,a,i,o,c,u,m,p,v,h,b,g,k,y=localStorage.getItem("meower_savedusername"),I,j,R,M,z,N,W,J,se,le,B,ie,D=y&&fi(s);return{c(){e=_("div"),t=_("div"),l=_("div"),n=_("img"),a=S(),i=_("br"),o=_("br"),c=S(),u=_("button"),u.textContent="Log in",m=S(),p=_("br"),v=S(),h=_("button"),h.textContent="Create an account",b=S(),g=_("br"),k=S(),D&&D.c(),I=S(),j=_("button"),j.textContent="Skip",R=S(),M=_("p"),M.textContent="(Several features will be unavailable while not logged in.)",z=S(),N=_("div"),W=_("p"),W.textContent="Meower Svelte v1.4.0",J=S(),se=_("img"),d(n,"alt","Meower"),ve(n.src,r=el)||d(n,"src",r),d(n,"class","logo-img svelte-slqvyn"),d(n,"height","70"),d(i,"class","svelte-slqvyn"),d(o,"class","svelte-slqvyn"),d(l,"class","svelte-slqvyn"),d(u,"class","svelte-slqvyn"),d(p,"class","svelte-slqvyn"),d(h,"class","svelte-slqvyn"),d(g,"class","svelte-slqvyn"),d(j,"class","svelte-slqvyn"),d(M,"class","small svelte-slqvyn"),d(W,"class","small svelte-slqvyn"),ve(se.src,le=Gn)||d(se,"src",le),d(se,"alt",""),d(se,"height","64"),d(se,"class","svelte-slqvyn"),d(N,"class","svelte-slqvyn"),d(t,"class","column-ui svelte-slqvyn"),d(e,"class","fullcenter svelte-slqvyn")},m(K,X){$(K,e,X),f(e,t),f(t,l),f(l,n),f(l,a),f(l,i),f(l,o),f(t,c),f(t,u),f(t,m),f(t,p),f(t,v),f(t,h),f(t,b),f(t,g),f(t,k),D&&D.m(t,null),f(t,I),f(t,j),f(t,R),f(t,M),f(t,z),f(t,N),f(N,W),f(N,J),f(N,se),B||(ie=[T(u,"click",s[12]),T(h,"click",s[13]),T(j,"click",s[15])],B=!0)},p(K,X){y&&D.p(K,X)},i:P,o:P,d(K){K&&w(e),D&&D.d(),B=!1,ne(ie)}}}function ci(s){let e;return{c(){e=_("div"),e.textContent="Reconnecting...",d(e,"class","fullcenter svelte-slqvyn")},m(t,l){$(t,e,l)},p:P,i:P,o:P,d(t){t&&w(e)}}}function ui(s){let e,t,l,n,r,a,i,o,c,u;return{c(){e=_("div"),t=_("div"),l=_("div"),n=_("img"),a=S(),i=_("div"),o=E(s[3]),d(n,"alt","Meower"),ve(n.src,r=el)||d(n,"src",r),d(n,"class","logo-img svelte-slqvyn"),d(n,"height","40"),d(l,"class","logo top svelte-slqvyn"),d(i,"class","connecting svelte-slqvyn"),d(e,"class","fullcenter svelte-slqvyn")},m(m,p){$(m,e,p),f(e,t),f(t,l),f(l,n),s[10](n),s[11](l),f(t,a),f(t,i),f(i,o),u=!0},p(m,p){(!u||p&8)&&G(o,m[3])},i(m){u||(c&&c.end(1),u=!0)},o(m){c=An(e,Wn,{duration:300}),u=!1},d(m){m&&w(e),s[10](null),s[11](null),m&&c&&c.end()}}}function fi(s){let e,t,l,n,r,a;return{c(){e=_("button"),e.textContent=`Use saved login (${localStorage.getItem("meower_savedusername")})`,t=S(),l=_("p"),n=E(s[3]),d(e,"class","svelte-slqvyn"),d(l,"class","small svelte-slqvyn")},m(i,o){$(i,e,o),$(i,t,o),$(i,l,o),f(l,n),r||(a=T(e,"click",s[14]),r=!0)},p(i,o){o&8&&G(n,i[3])},d(i){i&&w(e),i&&w(t),i&&w(l),r=!1,a()}}}function di(s){let e,t,l,n,r;const a=[ui,ci,ai,ii,oi,ri,si,ni],i=[];function o(c,u){return c[8]==="logo"?0:c[8]==="reconnect"?1:c[8]==="welcome"?2:c[8]==="login"?3:c[8]==="join"?4:c[8]==="blank"?5:c[8]==="go"?6:7}return t=o(s),l=i[t]=a[t](s),{c(){e=_("div"),l.c(),d(e,"class","setup white svelte-slqvyn")},m(c,u){$(c,e,u),i[t].m(e,null),s[24](e),r=!0},p(c,[u]){let m=t;t=o(c),t===m?i[t].p(c,u):(Z(),q(i[m],1,1,()=>{i[m]=null}),ee(),l=i[t],l?l.p(c,u):(l=i[t]=a[t](c),l.c()),C(l,1),l.m(e,null))},i(c){r||(C(l),n&&n.end(1),r=!0)},o(c){q(l),n=An(e,Wn,{duration:300}),r=!1},d(c){c&&w(e),i[t].d(),s[24](null),c&&n&&n.end()}}}function pi(s,e,t){let l,n,r;A(s,U,D=>t(6,l=D)),A(s,ue,D=>t(7,n=D)),A(s,_e,D=>t(8,r=D));const a=H;window.clm=ws;let i,o,c,u="";async function m(){await Bt(),Dn(),await new Promise(D=>a.once("connected",D))}let p=!1,v=!1;Jt(()=>{_e.subscribe(async D=>{!o||(o.classList.remove("white"),D==="logo"?(Bt(),t(3,u=""),await $e(),o.classList.add("white"),t(2,c.height=0,c),i.classList.remove("top"),await De(600),t(2,c.height=80,c),await De(300),o.classList.remove("white"),t(2,c.height=40,c),i.classList.add("top"),await De(700),t(3,u="Connecting..."),await m(),localStorage.getItem("meower_savedusername")&&localStorage.getItem("meower_savedpassword")?b(localStorage.getItem("meower_savedusername"),localStorage.getItem("meower_savedpassword"),!0):await h()):D==="reconnect"&&(t(3,u=""),await m(),await De(100),_e.set("welcome")))})});async function h(){localStorage.clear(),re.set(Xt()),t(3,u=""),_e.set("blank"),await De(600),_e.set("welcome")}function b(D,K,X=!1){try{t(3,u="Logging in..."),ae({cmd:"direct",val:{cmd:"authpswd",val:{username:D,pswd:K}}}).then(async te=>{try{const qe=await ae({cmd:"direct",val:{cmd:"get_profile",val:te.payload.username}});re.update(Ke=>Object.assign(Ke,{...qe.payload,name:te.payload.username})),Xe.set({username:te.payload.username,token:te.payload.token}),(p||localStorage.getItem("meower_savedusername")===D)&&(localStorage.setItem("meower_savedusername",D),localStorage.setItem("meower_savedpassword",te.payload.token)),Ae.set("main")}catch(qe){localStorage.clear(),console.error("Unexpected "+qe+" error getting user data!"),a.disconnect(1e3,"Failed to load userdata")}}).catch(te=>{if(X)return h();switch(te){case"E:103 | ID not found":t(3,u="Invalid username!");break;case"I:011 | Invalid Password":t(3,u="Invalid password!");break;case"E:018 | Account Banned":Y(ue,n="banned",n),Y(U,l=!0,l),t(3,u="");break;case"E:019 | Illegal characters detected":t(3,u="Usernames must not have spaces or other special characters!");break;case"E:106 | Too many requests":t(3,u="Too many requests! Please try again later.");break;default:t(3,u=`Unexpected ${te} error!`)}})}catch(te){if(X)return h();console.error(te),t(3,u="Error logging in: "+te)}}function g(D){Qe[D?"unshift":"push"](()=>{c=D,t(2,c)})}function k(D){Qe[D?"unshift":"push"](()=>{i=D,t(0,i)})}const y=()=>_e.set("login"),I=()=>_e.set("join"),j=()=>{t(4,p=!0),b(localStorage.getItem("meower_savedusername"),localStorage.getItem("meower_savedpassword"))},R=()=>{t(3,u=""),_e.set("blank"),Ae.set("main")};function M(){p=this.checked,t(4,p)}const z=()=>(_e.set("welcome"),t(3,u=""),!1),N=D=>D.target[0].value&&D.target[1].value?(b(D.target[0].value,D.target[1].value),!1):(t(3,u="You must specify a username and a password to login!"),!1);function W(){p=this.checked,t(4,p)}function J(){v=this.checked,t(5,v)}const se=()=>(_e.set("welcome"),t(3,u=""),!1),le=D=>{const K=D.target[0].value,X=D.target[1].value;if(!(K&&X))return t(3,u="You must specify a username and a password to create an account!"),!1;t(3,u="Creating account..."),ae({cmd:"direct",val:{cmd:"gen_account",val:{username:K,pswd:X}},listener:"join"}).then(async te=>{if(te.mode==="auth"&&te.payload.username===K){t(3,u="Getting user data...");const qe=await ae({cmd:"direct",val:{cmd:"get_profile",val:te.payload.username}});re.update(Ke=>Object.assign(Ke,{...qe.payload,name:te.payload.username})),Xe.set({username:te.payload.username,token:te.payload.token}),t(3,u=""),p&&(localStorage.setItem("meower_savedusername",K),localStorage.setItem("meower_savedpassword",te.payload.token)),_e.set("go"),await De(1e3),Ae.set("main")}else t(3,u="Unexpected error logging in!")}).catch(te=>{switch(te){case"I:015 | Account exists":t(3,u="That username already exists!");break;case"I:011 | Invalid Password":t(3,u="Invalid password!");break;case"E:119 | IP Blocked":Y(ue,n="ipBanned",n),Y(U,l=!0,l),t(3,u="");break;case"E:019 | Illegal characters detected":t(3,u="Usernames must not have spaces or other special characters!");break;case"E:106 | Too many requests":t(3,u="Too many requests! Please try again later.");break;default:t(3,u=`Unexpected ${te} error!`)}})},B=()=>_e.set("logo");function ie(D){Qe[D?"unshift":"push"](()=>{o=D,t(1,o)})}return[i,o,c,u,p,v,l,n,r,b,g,k,y,I,j,R,M,z,N,W,J,se,le,B,ie]}class mi extends V{constructor(e){super(),Q(this,e,pi,di,F,{})}}function _i(s){let e;return{c(){e=_("h2"),e.textContent="Login to Meower",d(e,"slot","header")},m(t,l){$(t,e,l)},p:P,d(t){t&&w(e)}}}function gi(s){let e,t,l,n,r,a,i,o,c,u,m,p,v,h,b,g,k,y,I,j,R,M,z=s[1]&&kn(s);return{c(){e=_("form"),z&&z.c(),t=S(),l=_("input"),n=_("br"),r=_("br"),a=S(),i=_("input"),o=_("br"),c=S(),u=_("p"),m=_("input"),p=S(),v=_("label"),v.textContent="Remember me",h=S(),b=_("br"),g=S(),k=_("div"),y=_("a"),y.textContent="Join Meower",I=S(),j=_("button"),j.textContent="Login",d(l,"type","text"),d(l,"class","modal-input white"),d(l,"placeholder","Username"),d(l,"maxlength","20"),l.value=s[2],l.autofocus=!0,d(i,"type","password"),d(i,"class","modal-input white"),d(i,"placeholder","Password"),d(i,"maxlength","64"),i.value=s[3],d(m,"id","remember-me"),d(m,"type","checkbox"),d(m,"class","svelte-hkhckx"),d(v,"for","remember-me"),d(v,"class","svelte-hkhckx"),d(u,"class","checkboxes svelte-hkhckx"),d(y,"href","/"),d(j,"type","submit"),d(k,"class","modal-buttons")},m(N,W){$(N,e,W),z&&z.m(e,null),f(e,t),f(e,l),f(e,n),f(e,r),f(e,a),f(e,i),f(e,o),f(e,c),f(e,u),f(u,m),m.checked=s[4],f(u,p),f(u,v),f(e,h),f(e,b),f(e,g),f(e,k),f(k,y),f(k,I),f(k,j),l.focus(),R||(M=[T(m,"change",s[7]),T(y,"click",ge(s[8])),T(e,"submit",ge(s[9]))],R=!0)},p(N,W){N[1]?z?z.p(N,W):(z=kn(N),z.c(),z.m(e,t)):z&&(z.d(1),z=null),W&4&&l.value!==N[2]&&(l.value=N[2]),W&8&&i.value!==N[3]&&(i.value=N[3]),W&16&&(m.checked=N[4])},i:P,o:P,d(N){N&&w(e),z&&z.d(),R=!1,ne(M)}}}function hi(s){let e,t,l;return t=new be({}),{c(){e=_("div"),O(t.$$.fragment),d(e,"class","fullcenter svelte-hkhckx")},m(n,r){$(n,e,r),L(t,e,null),l=!0},p:P,i(n){l||(C(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&w(e),x(t)}}}function kn(s){let e,t,l;return{c(){e=_("span"),t=E(s[1]),l=_("br"),d(e,"class","login-status svelte-hkhckx")},m(n,r){$(n,e,r),f(e,t),$(n,l,r)},p(n,r){r&2&&G(t,n[1])},d(n){n&&w(e),n&&w(l)}}}function vi(s){let e,t,l,n;const r=[hi,gi],a=[];function i(o,c){return o[0]?0:1}return t=i(s),l=a[t]=r[t](s),{c(){e=_("div"),l.c(),d(e,"slot","default")},m(o,c){$(o,e,c),a[t].m(e,null),n=!0},p(o,c){let u=t;t=i(o),t===u?a[t].p(o,c):(Z(),q(a[u],1,1,()=>{a[u]=null}),ee(),l=a[t],l?l.p(o,c):(l=a[t]=r[t](o),l.c()),C(l,1),l.m(e,null))},i(o){n||(C(l),n=!0)},o(o){q(l),n=!1},d(o){o&&w(e),a[t].d()}}}function bi(s){let e,t;return e=new pe({props:{$$slots:{default:[vi],header:[_i]},$$scope:{ctx:s}}}),e.$on("close",s[10]),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p(l,[n]){const r={};n&2079&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function ki(s,e,t){let l;A(s,U,h=>t(5,l=h));let n=!1,r="",a="",i="",o=!1;function c(){try{t(0,n=!0),ae({cmd:"direct",val:{cmd:"authpswd",val:{username:a,pswd:i}}}).then(async h=>{try{const b=await ae({cmd:"direct",val:{cmd:"get_profile",val:h.payload.username}});U.set(!1),re.update(g=>Object.assign(g,{...b.payload,name:h.payload.username})),Xe.set({username:h.payload.username,token:h.payload.token}),o&&(localStorage.setItem("meower_savedusername",a),localStorage.setItem("meower_savedpassword",h.payload.token))}catch(b){t(0,n=!1),t(1,r="Unexpected "+b+" error getting user data!")}}).catch(h=>{switch(t(0,n=!1),h){case"E:103 | ID not found":t(1,r="Invalid username!");break;case"I:011 | Invalid Password":t(1,r="Invalid password!");break;case"E:018 | Account Banned":ue.set("banned");break;case"E:107 | Packet too large":t(1,r="The username and/or password is too long!");break;case"E:019 | Illegal characters detected":t(1,r="Usernames must not have spaces or other special characters!");break;case"E:106 | Too many requests":t(1,r="Too many requests! Please try again later.");break;default:t(1,r=`Unexpected ${h} error!`)}})}catch(h){console.log(h),t(0,n=!1),t(1,r="Error logging in: "+h)}}function u(){o=this.checked,t(4,o)}return[n,r,a,i,o,l,c,u,()=>{ue.set("signup")},h=>h.target[0].value&&h.target[1].value?(t(2,a=h.target[0].value),t(3,i=h.target[1].value),c(),!1):(t(1,r="You must specify a username and a password to login!"),!1),()=>{Y(U,l=!1,l)}]}class wi extends V{constructor(e){super(),Q(this,e,ki,bi,F,{})}}function $i(s){let e;return{c(){e=_("h2"),e.textContent="Join Meower",d(e,"slot","header")},m(t,l){$(t,e,l)},p:P,d(t){t&&w(e)}}}function yi(s){let e,t,l,n,r,a,i,o,c,u,m,p,v,h,b,g,k,y,I,j,R,M,z,N,W,J,se,le,B,ie,D=s[1]&&wn(s);return{c(){e=_("form"),D&&D.c(),t=S(),l=_("input"),n=_("br"),r=_("br"),a=S(),i=_("input"),o=_("br"),c=S(),u=_("p"),m=_("input"),p=S(),v=_("label"),v.textContent="Remember me",h=S(),b=_("br"),g=S(),k=_("input"),y=S(),I=_("label"),I.innerHTML='I agree to <a href="https://meower.org/legal" target="_blank">Meower&#39;s Terms of Service and Privacy Policy</a>',j=S(),R=_("br"),M=S(),z=_("div"),N=_("a"),N.textContent="Login to Meower",W=S(),J=_("button"),se=E("Create Account"),d(l,"type","text"),d(l,"class","modal-input white"),d(l,"placeholder","Username"),d(l,"maxlength","20"),l.value=s[2],l.autofocus=!0,d(i,"type","password"),d(i,"class","modal-input white"),d(i,"placeholder","Password"),d(i,"maxlength","64"),i.value=s[3],d(m,"id","remember-me"),d(m,"type","checkbox"),d(m,"class","svelte-hkhckx"),d(v,"for","remember-me"),d(v,"class","svelte-hkhckx"),d(k,"id","accept-terms"),d(k,"type","checkbox"),d(k,"class","svelte-hkhckx"),d(I,"for","accept-terms"),d(I,"class","svelte-hkhckx"),d(u,"class","checkboxes svelte-hkhckx"),d(N,"href","/"),d(J,"type","submit"),J.disabled=le=!s[4],d(z,"class","modal-buttons")},m(K,X){$(K,e,X),D&&D.m(e,null),f(e,t),f(e,l),f(e,n),f(e,r),f(e,a),f(e,i),f(e,o),f(e,c),f(e,u),f(u,m),m.checked=s[5],f(u,p),f(u,v),f(u,h),f(u,b),f(u,g),f(u,k),k.checked=s[4],f(u,y),f(u,I),f(e,j),f(e,R),f(e,M),f(e,z),f(z,N),f(z,W),f(z,J),f(J,se),l.focus(),B||(ie=[T(m,"change",s[8]),T(k,"change",s[9]),T(N,"click",ge(s[10])),T(e,"submit",ge(s[11]))],B=!0)},p(K,X){K[1]?D?D.p(K,X):(D=wn(K),D.c(),D.m(e,t)):D&&(D.d(1),D=null),X&4&&l.value!==K[2]&&(l.value=K[2]),X&8&&i.value!==K[3]&&(i.value=K[3]),X&32&&(m.checked=K[5]),X&16&&(k.checked=K[4]),X&16&&le!==(le=!K[4])&&(J.disabled=le)},i:P,o:P,d(K){K&&w(e),D&&D.d(),B=!1,ne(ie)}}}function Ci(s){let e,t,l;return t=new be({}),{c(){e=_("div"),O(t.$$.fragment),d(e,"class","fullcenter svelte-hkhckx")},m(n,r){$(n,e,r),L(t,e,null),l=!0},p:P,i(n){l||(C(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&w(e),x(t)}}}function wn(s){let e,t,l;return{c(){e=_("span"),t=E(s[1]),l=_("br"),d(e,"class","login-status svelte-hkhckx")},m(n,r){$(n,e,r),f(e,t),$(n,l,r)},p(n,r){r&2&&G(t,n[1])},d(n){n&&w(e),n&&w(l)}}}function Si(s){let e,t,l,n;const r=[Ci,yi],a=[];function i(o,c){return o[0]?0:1}return t=i(s),l=a[t]=r[t](s),{c(){e=_("div"),l.c(),d(e,"slot","default")},m(o,c){$(o,e,c),a[t].m(e,null),n=!0},p(o,c){let u=t;t=i(o),t===u?a[t].p(o,c):(Z(),q(a[u],1,1,()=>{a[u]=null}),ee(),l=a[t],l?l.p(o,c):(l=a[t]=r[t](o),l.c()),C(l,1),l.m(e,null))},i(o){n||(C(l),n=!0)},o(o){q(l),n=!1},d(o){o&&w(e),a[t].d()}}}function qi(s){let e,t;return e=new pe({props:{$$slots:{default:[Si],header:[$i]},$$scope:{ctx:s}}}),e.$on("close",s[12]),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p(l,[n]){const r={};n&16447&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Pi(s,e,t){let l,n;A(s,ue,k=>t(13,l=k)),A(s,U,k=>t(6,n=k));let r=!1,a="",i="",o="",c=!1,u=!1;function m(){try{t(0,r=!0),ae({cmd:"direct",val:{cmd:"gen_account",val:{username:i,pswd:o}},listener:"join"}).then(async k=>{if(k.mode==="auth"&&k.payload.username===i){t(1,a="Getting user data...");const y=await ae({cmd:"direct",val:{cmd:"get_profile",val:k.payload.username}});U.set(!1),re.update(I=>Object.assign(I,{...y.payload,name:k.payload.username})),Xe.set({username:k.payload.username,token:k.payload.token}),t(1,a=""),u&&(localStorage.setItem("meower_savedusername",i),localStorage.setItem("meower_savedpassword",k.payload.token)),fe.set("blank"),$e().then(()=>fe.set("home"))}else t(1,a="Unexpected error logging in!")}).catch(k=>{switch(t(0,r=!1),k){case"I:015 | Account exists":t(1,a="That username already exists!");break;case"I:011 | Invalid Password":t(1,a="Invalid password!");break;case"E:119 | IP Blocked":Y(ue,l="ipBanned",l);break;case"E:019 | Illegal characters detected":t(1,a="Usernames must not have spaces or other special characters!");break;case"E:106 | Too many requests":t(1,a="Too many requests! Please try again later.");break;default:t(1,a=`Unexpected ${k} error!`)}})}catch(k){console.log(k),t(0,r=!1),t(1,a="Error logging in: "+k)}}function p(){u=this.checked,t(5,u)}function v(){c=this.checked,t(4,c)}return[r,a,i,o,c,u,n,m,p,v,()=>{ue.set("login")},k=>k.target[0].value&&k.target[1].value?(t(2,i=k.target[0].value),t(3,o=k.target[1].value),m(),!1):(t(1,a="You must specify a username and a password to create an account!"),!1),()=>{Y(U,n=!1,n)}]}class ji extends V{constructor(e){super(),Q(this,e,Pi,qi,F,{})}}function zi(s){let e;return{c(){e=_("h2"),e.textContent="Account Banned",d(e,"slot","header")},m(t,l){$(t,e,l)},p:P,d(t){t&&w(e)}}}function Ei(s){let e,t,l,n,r,a,i,o,c,u,m;return{c(){e=_("div"),t=_("p"),t.innerHTML=`Your account has been banned by the Meower moderation team because it was used to violate Meower&#39;s Terms of Service.
            <br/><br/>
            If you would like to discuss this ban, please email <a href="mailto:support@meower.org" target="_blank">support@meower.org</a>.`,l=S(),n=_("br"),r=S(),a=_("div"),i=_("a"),i.textContent="Terms of Service",o=S(),c=_("button"),c.textContent="Close",d(i,"href","https://meower.org/legal"),d(i,"target","_blank"),d(a,"class","modal-buttons"),d(e,"slot","default")},m(p,v){$(p,e,v),f(e,t),f(e,l),f(e,n),f(e,r),f(e,a),f(a,i),f(a,o),f(a,c),u||(m=T(c,"click",s[1]),u=!0)},p:P,d(p){p&&w(e),u=!1,m()}}}function Ii(s){let e,t;return e=new pe({props:{$$slots:{default:[Ei],header:[zi]},$$scope:{ctx:s}}}),e.$on("close",s[2]),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p(l,[n]){const r={};n&9&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Mi(s,e,t){let l;return A(s,U,a=>t(0,l=a)),[l,()=>{Y(U,l=!1,l)},()=>{Y(U,l=!1,l)}]}class Li extends V{constructor(e){super(),Q(this,e,Mi,Ii,F,{})}}function xi(s){let e;return{c(){e=_("h2"),e.textContent="IP Blocked",d(e,"slot","header")},m(t,l){$(t,e,l)},p:P,d(t){t&&w(e)}}}function Oi(s){let e,t,l,n,r,a,i,o,c,u,m;return{c(){e=_("div"),t=_("p"),t.innerHTML=`Your IP address has been blocked from creating new accounts because it was used to violate Meower&#39;s Terms of Service.
            <br/><br/>
            If you would like to discuss this block, please email <a href="mailto:support@meower.org" target="_blank">support@meower.org</a>.`,l=S(),n=_("br"),r=S(),a=_("div"),i=_("a"),i.textContent="Terms of Service",o=S(),c=_("button"),c.textContent="Close",d(i,"href","https://meower.org/legal"),d(i,"target","_blank"),d(a,"class","modal-buttons"),d(e,"slot","default")},m(p,v){$(p,e,v),f(e,t),f(e,l),f(e,n),f(e,r),f(e,a),f(a,i),f(a,o),f(a,c),u||(m=T(c,"click",s[1]),u=!0)},p:P,d(p){p&&w(e),u=!1,m()}}}function Ti(s){let e,t;return e=new pe({props:{$$slots:{default:[Oi],header:[xi]},$$scope:{ctx:s}}}),e.$on("close",s[2]),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p(l,[n]){const r={};n&9&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Ri(s,e,t){let l;return A(s,U,a=>t(0,l=a)),[l,()=>{Y(U,l=!1,l)},()=>{Y(U,l=!1,l)}]}class Ni extends V{constructor(e){super(),Q(this,e,Ri,Ti,F,{})}}function Ai(s){let e;return{c(){e=_("h2"),e.textContent="Delete Post",d(e,"slot","header")},m(t,l){$(t,e,l)},p:P,d(t){t&&w(e)}}}function Ui(s){let e,t,l,n,r,a,i,o,c,u,m,p,v,h;return n=new lt({props:{post:s[1],buttons:!1}}),{c(){e=_("div"),t=_("p"),t.textContent="Are you sure you would like to delete this post?",l=S(),O(n.$$.fragment),r=S(),a=_("br"),i=S(),o=_("div"),c=_("button"),c.textContent="Cancel",u=S(),m=_("button"),m.textContent="Delete",m.autofocus=!0,d(o,"class","modal-buttons"),d(e,"slot","default")},m(b,g){$(b,e,g),f(e,t),f(e,l),L(n,e,null),f(e,r),f(e,a),f(e,i),f(e,o),f(o,c),f(o,u),f(o,m),p=!0,m.focus(),v||(h=[T(c,"click",s[2]),T(m,"click",s[3])],v=!0)},p(b,g){const k={};g&2&&(k.post=b[1]),n.$set(k)},i(b){p||(C(n.$$.fragment,b),p=!0)},o(b){q(n.$$.fragment,b),p=!1},d(b){b&&w(e),x(n),v=!1,ne(h)}}}function Di(s){let e,t;return e=new pe({props:{$$slots:{default:[Ui],header:[Ai]},$$scope:{ctx:s}}}),e.$on("close",s[4]),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p(l,[n]){const r={};n&35&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Bi(s,e,t){let l,n;return A(s,U,o=>t(0,l=o)),A(s,jt,o=>t(1,n=o)),[l,n,()=>{Y(U,l=!1,l)},()=>{ae({cmd:"direct",val:{cmd:"delete_post",val:n.post_id}}),Y(U,l=!1,l)},()=>{Y(U,l=!1,l)}]}class Hi extends V{constructor(e){super(),Q(this,e,Bi,Di,F,{})}}function Wi(s){let e;return{c(){e=_("h2"),e.textContent="Report Post",d(e,"slot","header")},m(t,l){$(t,e,l)},p:P,d(t){t&&w(e)}}}function Yi(s){let e,t,l,n,r,a,i,o;return{c(){e=_("p"),e.textContent="Successfully reported post! A member of the Meower moderation team will review it shortly.",t=S(),l=_("br"),n=S(),r=_("div"),a=_("button"),a.textContent="Close",d(r,"class","modal-buttons")},m(c,u){$(c,e,u),$(c,t,u),$(c,l,u),$(c,n,u),$(c,r,u),f(r,a),i||(o=T(a,"click",s[5]),i=!0)},p:P,i:P,o:P,d(c){c&&w(e),c&&w(t),c&&w(l),c&&w(n),c&&w(r),i=!1,o()}}}function Gi(s){let e,t,l,n,r,a,i,o,c,u,m,p,v;return l=new lt({props:{post:s[2],buttons:!1}}),{c(){e=_("p"),e.innerHTML=`Are you sure you would like to report this post?
                <br/><br/>
                Please make sure you&#39;re only reporting stuff that is against the Meower <a href="https://meower.org/legal" target="_blank">Terms of Service</a>.`,t=S(),O(l.$$.fragment),n=S(),r=_("br"),a=S(),i=_("div"),o=_("button"),o.textContent="Cancel",c=S(),u=_("button"),u.textContent="Report",d(i,"class","modal-buttons")},m(h,b){$(h,e,b),$(h,t,b),L(l,h,b),$(h,n,b),$(h,r,b),$(h,a,b),$(h,i,b),f(i,o),f(i,c),f(i,u),m=!0,p||(v=[T(o,"click",s[3]),T(u,"click",s[4])],p=!0)},p(h,b){const g={};b&4&&(g.post=h[2]),l.$set(g)},i(h){m||(C(l.$$.fragment,h),m=!0)},o(h){q(l.$$.fragment,h),m=!1},d(h){h&&w(e),h&&w(t),x(l,h),h&&w(n),h&&w(r),h&&w(a),h&&w(i),p=!1,ne(v)}}}function Ki(s){let e,t,l,n;const r=[Gi,Yi],a=[];function i(o,c){return o[0]===0?0:o[0]===1?1:-1}return~(t=i(s))&&(l=a[t]=r[t](s)),{c(){e=_("div"),l&&l.c(),d(e,"slot","default")},m(o,c){$(o,e,c),~t&&a[t].m(e,null),n=!0},p(o,c){let u=t;t=i(o),t===u?~t&&a[t].p(o,c):(l&&(Z(),q(a[u],1,1,()=>{a[u]=null}),ee()),~t?(l=a[t],l?l.p(o,c):(l=a[t]=r[t](o),l.c()),C(l,1),l.m(e,null)):l=null)},i(o){n||(C(l),n=!0)},o(o){q(l),n=!1},d(o){o&&w(e),~t&&a[t].d()}}}function Fi(s){let e,t;return e=new pe({props:{$$slots:{default:[Ki],header:[Wi]},$$scope:{ctx:s}}}),e.$on("close",s[6]),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p(l,[n]){const r={};n&135&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Ji(s,e,t){let l,n;A(s,U,u=>t(1,l=u)),A(s,jt,u=>t(2,n=u));let r=0;return[r,l,n,()=>{Y(U,l=!1,l)},()=>{ae({cmd:"direct",val:{cmd:"report",val:{type:0,id:n.post_id}}}),t(0,r=1)},()=>{Y(U,l=!1,l)},()=>{Y(U,l=!1,l)}]}class Qi extends V{constructor(e){super(),Q(this,e,Ji,Fi,F,{})}}function Vi(s){let e;return{c(){e=_("h2"),e.textContent="Report User",d(e,"slot","header")},m(t,l){$(t,e,l)},p:P,d(t){t&&w(e)}}}function Xi(s){let e,t,l,n,r,a,i,o,c,u,m,p,v,h,b;return{c(){e=_("div"),t=_("span"),l=E("Are you sure you want to report "),n=E(s[1]),r=E("?"),a=S(),i=_("br"),o=_("br"),c=S(),u=_("div"),m=_("button"),m.textContent="Cancel",p=S(),v=_("button"),v.textContent="Report",d(u,"class","modal-buttons"),d(e,"slot","default")},m(g,k){$(g,e,k),f(e,t),f(t,l),f(t,n),f(t,r),f(e,a),f(e,i),f(e,o),f(e,c),f(e,u),f(u,m),f(u,p),f(u,v),h||(b=[T(m,"click",s[2]),T(v,"click",s[3])],h=!0)},p(g,k){k&2&&G(n,g[1])},d(g){g&&w(e),h=!1,ne(b)}}}function Zi(s){let e,t;return e=new pe({props:{$$slots:{default:[Xi],header:[Vi]},$$scope:{ctx:s}}}),e.$on("close",s[4]),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p(l,[n]){const r={};n&35&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function ea(s,e,t){let l,n;return A(s,U,o=>t(0,l=o)),A(s,Ye,o=>t(1,n=o)),[l,n,()=>{Y(U,l=!1,l)},()=>{ae({cmd:"direct",val:{cmd:"report",val:{type:1,id:n}}}),Y(U,l=!1,l)},()=>{Y(U,l=!1,l)}]}class ta extends V{constructor(e){super(),Q(this,e,ea,Zi,F,{})}}function la(s){let e,t,l;return{c(){e=_("h2"),t=E(s[1]),l=E("'s Profile"),d(e,"slot","header")},m(n,r){$(n,e,r),f(e,t),f(e,l)},p(n,r){r&2&&G(t,n[1])},d(n){n&&w(e)}}}function na(s){let e,t,l,n,r,a;return e=new oe({props:{$$slots:{default:[sa]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment),t=S(),l=_("button"),l.textContent="Close",d(l,"class","long svelte-w8vhr2")},m(i,o){L(e,i,o),$(i,t,o),$(i,l,o),n=!0,r||(a=T(l,"click",s[9]),r=!0)},p(i,o){const c={};o&8194&&(c.$$scope={dirty:o,ctx:i}),e.$set(c)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){q(e.$$.fragment,i),n=!1},d(i){x(e,i),i&&w(t),i&&w(l),r=!1,a()}}}function sa(s){let e,t,l,n=s[12]+"",r;return{c(){e=E(`Error loading user profile.\r
				`),t=_("pre"),l=_("code"),r=E(n)},m(a,i){$(a,e,i),$(a,t,i),f(t,l),f(l,r)},p(a,i){i&2&&n!==(n=a[12]+"")&&G(r,n)},d(a){a&&w(e),a&&w(t)}}}function ra(s){let e,t,l,n,r,a,i,o,c;e=new oe({props:{$$slots:{default:[oa]},$$scope:{ctx:s}}});let u=s[5]==s[3].name&&s[1]!=s[3].name&&$n(s);return{c(){O(e.$$.fragment),t=S(),l=_("button"),l.textContent="View full profile",n=S(),u&&u.c(),r=S(),a=_("button"),a.textContent="Close",d(l,"class","long svelte-w8vhr2"),d(a,"class","long svelte-w8vhr2")},m(m,p){L(e,m,p),$(m,t,p),$(m,l,p),$(m,n,p),u&&u.m(m,p),$(m,r,p),$(m,a,p),i=!0,o||(c=[T(l,"click",s[6]),T(a,"click",s[8])],o=!0)},p(m,p){const v={};p&8206&&(v.$$scope={dirty:p,ctx:m}),e.$set(v),m[5]==m[3].name&&m[1]!=m[3].name?u?u.p(m,p):(u=$n(m),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null)},i(m){i||(C(e.$$.fragment,m),i=!0)},o(m){q(e.$$.fragment,m),i=!1},d(m){x(e,m),m&&w(t),m&&w(l),m&&w(n),u&&u.d(m),m&&w(r),m&&w(a),o=!1,ne(c)}}}function oa(s){let e,t,l,n,r,a,i,o,c=s[2].includes(s[1])?"Online":"Offline",u,m,p,v=(Ht[s[11].lvl]||"Unknown")+"",h,b;return t=new tt({props:{online:s[2].includes(s[1]),icon:s[1]===s[3].name?s[3].pfp_data:s[11].pfp_data,alt:s[1]+"'s profile picture",size:1.4}}),{c(){e=_("div"),O(t.$$.fragment),l=S(),n=_("div"),r=_("h1"),a=E(s[1]),i=S(),o=_("div"),u=E(c),m=S(),p=_("div"),h=E(v),d(r,"class","profile-username svelte-w8vhr2"),d(o,"class","profile-active svelte-w8vhr2"),d(p,"class","profile-role svelte-w8vhr2"),d(n,"class","profile-header-info svelte-w8vhr2"),d(e,"class","profile-header svelte-w8vhr2")},m(g,k){$(g,e,k),L(t,e,null),f(e,l),f(e,n),f(n,r),f(r,a),f(n,i),f(n,o),f(o,u),f(n,m),f(n,p),f(p,h),b=!0},p(g,k){const y={};k&6&&(y.online=g[2].includes(g[1])),k&10&&(y.icon=g[1]===g[3].name?g[3].pfp_data:g[11].pfp_data),k&2&&(y.alt=g[1]+"'s profile picture"),t.$set(y),(!b||k&2)&&G(a,g[1]),(!b||k&6)&&c!==(c=g[2].includes(g[1])?"Online":"Offline")&&G(u,c),(!b||k&2)&&v!==(v=(Ht[g[11].lvl]||"Unknown")+"")&&G(h,v)},i(g){b||(C(t.$$.fragment,g),b=!0)},o(g){q(t.$$.fragment,g),b=!1},d(g){g&&w(e),x(t)}}}function $n(s){let e,t,l;return{c(){e=_("button"),e.textContent="Remove from chat",d(e,"class","long svelte-w8vhr2")},m(n,r){$(n,e,r),t||(l=T(e,"click",s[7]),t=!0)},p:P,d(n){n&&w(e),t=!1,l()}}}function ia(s){let e,t,l;return t=new be({}),{c(){e=_("div"),O(t.$$.fragment),d(e,"class","center svelte-w8vhr2")},m(n,r){$(n,e,r),L(t,e,null),l=!0},p:P,i(n){l||(C(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&w(e),x(t)}}}function aa(s){let e,t,l,n={ctx:s,current:null,token:null,hasCatch:!0,pending:ia,then:ra,catch:na,value:11,error:12,blocks:[,,,]};return He(t=zt(s[1]),n),{c(){e=_("div"),n.block.c(),d(e,"slot","default")},m(r,a){$(r,e,a),n.block.m(e,n.anchor=null),n.mount=()=>e,n.anchor=null,l=!0},p(r,a){s=r,n.ctx=s,a&2&&t!==(t=zt(s[1]))&&He(t,n)||et(n,s,a)},i(r){l||(C(n.block),l=!0)},o(r){for(let a=0;a<3;a+=1){const i=n.blocks[a];q(i)}l=!1},d(r){r&&w(e),n.block.d(),n.token=null,n=null}}}function ca(s){let e,t;return e=new pe({props:{$$slots:{default:[aa],header:[la]},$$scope:{ctx:s}}}),e.$on("close",s[10]),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p(l,[n]){const r={};n&8255&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function ua(s,e,t){let l,n,r,a,i,o;return A(s,U,h=>t(0,l=h)),A(s,Vt,h=>t(1,n=h)),A(s,xe,h=>t(2,r=h)),A(s,re,h=>t(3,a=h)),A(s,we,h=>t(4,i=h)),A(s,Dt,h=>t(5,o=h)),[l,n,r,a,i,o,()=>{Y(U,l=!1,l),ae({cmd:"direct",val:{cmd:"set_chat_state",val:{state:0,chatid:i}}}),Ye.set(n),fe.set("profile")},()=>{ue.set("removeMember")},()=>{Y(U,l=!1,l)},()=>{Y(U,l=!1,l)},()=>{Y(U,l=!1,l)}]}class fa extends V{constructor(e){super(),Q(this,e,ua,ca,F,{})}}function da(s){let e;return{c(){e=_("h2"),e.textContent="Add Member",d(e,"slot","header")},m(t,l){$(t,e,l)},p:P,d(t){t&&w(e)}}}function pa(s){let e,t,l,n,r,a,i,o,c,u,m,p,v,h,b,g,k;return{c(){e=_("div"),t=_("form"),l=_("label"),l.innerHTML="<b>Username</b>",n=S(),r=_("input"),a=S(),i=_("br"),o=_("br"),c=S(),u=_("div"),m=_("button"),m.textContent="Cancel",p=S(),v=_("button"),h=E("Add member"),d(l,"for","userinput"),d(r,"type","text"),d(r,"class","long white svelte-1ntawbt"),d(r,"placeholder","Username"),d(r,"id","userinput"),d(r,"name","userinput"),d(r,"autocomplete","false"),d(r,"maxlength","360"),d(m,"type","button"),d(v,"type","submit"),v.disabled=b=!s[0],d(u,"class","modal-buttons"),d(e,"slot","default")},m(y,I){$(y,e,I),f(e,t),f(t,l),f(t,n),f(t,r),Ve(r,s[0]),f(t,a),f(t,i),f(t,o),f(t,c),f(t,u),f(u,m),f(u,p),f(u,v),f(v,h),g||(k=[T(r,"input",s[4]),T(m,"click",ge(s[5])),T(t,"submit",ge(s[6]))],g=!0)},p(y,I){I&1&&r.value!==y[0]&&Ve(r,y[0]),I&1&&b!==(b=!y[0])&&(v.disabled=b)},d(y){y&&w(e),g=!1,ne(k)}}}function ma(s){let e,t;return e=new pe({props:{$$slots:{default:[pa],header:[da]},$$scope:{ctx:s}}}),e.$on("close",s[7]),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p(l,[n]){const r={};n&271&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function _a(s,e,t){let l,n,r;A(s,U,m=>t(1,l=m)),A(s,we,m=>t(2,n=m)),A(s,We,m=>t(3,r=m));let a;function i(){a=this.value,t(0,a)}return[a,l,n,r,i,()=>{Y(U,l=!1,l)},m=>{ae({cmd:"direct",val:{cmd:"add_to_chat",val:{chatid:n,username:m.target[0].value}}}),r.push(a),We.set(r),Y(U,l=!1,l)},()=>{Y(U,l=!1,l)}]}class ga extends V{constructor(e){super(),Q(this,e,_a,ma,F,{})}}function ha(s){let e;return{c(){e=_("h2"),e.textContent="Remove Member",d(e,"slot","header")},m(t,l){$(t,e,l)},p:P,d(t){t&&w(e)}}}function va(s){let e,t,l,n,r,a,i,o,c,u,m,p,v,h,b,g,k;return{c(){e=_("div"),t=_("span"),l=E("Are you sure you want to remove "),n=E(s[0]),r=E(" from "),a=E(s[2]),i=E("?"),o=S(),c=_("br"),u=_("br"),m=S(),p=_("div"),v=_("button"),v.textContent="Cancel",h=S(),b=_("button"),b.textContent="Remove",d(p,"class","modal-buttons"),d(e,"slot","default")},m(y,I){$(y,e,I),f(e,t),f(t,l),f(t,n),f(t,r),f(t,a),f(t,i),f(e,o),f(e,c),f(e,u),f(e,m),f(e,p),f(p,v),f(p,h),f(p,b),g||(k=[T(v,"click",s[6]),T(b,"click",s[7])],g=!0)},p(y,I){I&1&&G(n,y[0]),I&4&&G(a,y[2])},d(y){y&&w(e),g=!1,ne(k)}}}function ba(s){let e,t;return e=new pe({props:{$$slots:{default:[va],header:[ha]},$$scope:{ctx:s}}}),e.$on("close",s[8]),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p(l,[n]){const r={};n&543&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function ka(s,e,t){let l,n,r,a,i;A(s,Vt,p=>t(0,l=p)),A(s,U,p=>t(1,n=p)),A(s,Be,p=>t(2,r=p)),A(s,we,p=>t(3,a=p)),A(s,We,p=>t(4,i=p));function o(p){return p!==l}return[l,n,r,a,i,o,()=>{Y(U,n=!1,n)},()=>{ae({cmd:"direct",val:{cmd:"remove_from_chat",val:{chatid:a,username:l}}}),We.set(i.filter(o)),Y(U,n=!1,n)},()=>{Y(U,n=!1,n)}]}class wa extends V{constructor(e){super(),Q(this,e,ka,ba,F,{})}}function $a(s){let e;return{c(){e=_("h2"),e.textContent="Create Chat",d(e,"slot","header")},m(t,l){$(t,e,l)},p:P,d(t){t&&w(e)}}}function yn(s){let e,t,l;return{c(){e=_("span"),t=E(s[0]),l=_("br"),d(e,"class","login-status")},m(n,r){$(n,e,r),f(e,t),$(n,l,r)},p(n,r){r&1&&G(t,n[0])},d(n){n&&w(e),n&&w(l)}}}function ya(s){let e,t,l,n,r,a,i,o,c,u,m,p,v,h=s[0]&&yn(s);return{c(){e=_("div"),t=_("form"),h&&h.c(),l=S(),n=_("input"),r=_("br"),a=_("br"),i=S(),o=_("div"),c=_("button"),c.textContent="Cancel",u=S(),m=_("button"),m.textContent="Create",d(n,"type","text"),d(n,"class","modal-input white"),d(n,"placeholder","Nickname"),d(n,"maxlength","20"),n.autofocus=!0,d(c,"type","button"),d(m,"type","submit"),d(o,"class","modal-buttons"),d(e,"slot","default")},m(b,g){$(b,e,g),f(e,t),h&&h.m(t,null),f(t,l),f(t,n),f(t,r),f(t,a),f(t,i),f(t,o),f(o,c),f(o,u),f(o,m),n.focus(),p||(v=[T(c,"click",s[3]),T(t,"submit",ge(s[4]))],p=!0)},p(b,g){b[0]?h?h.p(b,g):(h=yn(b),h.c(),h.m(t,l)):h&&(h.d(1),h=null)},d(b){b&&w(e),h&&h.d(),p=!1,ne(v)}}}function Ca(s){let e,t;return e=new pe({props:{$$slots:{default:[ya],header:[$a]},$$scope:{ctx:s}}}),e.$on("close",s[5]),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p(l,[n]){const r={};n&67&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Sa(s,e,t){let l;A(s,U,c=>t(1,l=c));let n="";function r(c){try{t(0,n="Creating chat..."),ae({cmd:"direct",val:{cmd:"create_chat",val:c}}).then(()=>{U.set(!1),fe.set("blank"),$e().then(()=>fe.set("chatlist"))}).catch(u=>{t(0,n=`Unexpected ${u} error!`)})}catch(u){console.error(u),t(0,n="Error logging in: "+u)}}return[n,l,r,()=>{Y(U,l=!1,l)},c=>c.target[0].value?(r(c.target[0].value),!1):(t(0,n="You must specify a nickname to create the chat!"),!1),()=>{Y(U,l=!1,l)}]}class qa extends V{constructor(e){super(),Q(this,e,Sa,Ca,F,{})}}function Pa(s){let e;return{c(){e=_("h2"),e.textContent="Set Quote",d(e,"slot","header")},m(t,l){$(t,e,l)},p:P,d(t){t&&w(e)}}}function ja(s){let e,t,l,n,r,a,i,o,c,u,m,p,v,h,b,g;return{c(){e=_("div"),t=_("form"),l=_("span"),l.textContent="Your quote is a small piece of text that will be displayed publically on your profile.",n=_("br"),r=_("br"),a=S(),i=_("input"),o=_("br"),c=_("br"),u=S(),m=_("div"),p=_("button"),p.textContent="Cancel",v=S(),h=_("button"),h.textContent="Set Quote",d(i,"type","text"),d(i,"class","modal-input white"),d(i,"placeholder","Write something..."),d(i,"maxlength","360"),d(p,"type","button"),d(h,"type","submit"),d(m,"class","modal-buttons"),d(e,"slot","default")},m(k,y){$(k,e,y),f(e,t),f(t,l),f(t,n),f(t,r),f(t,a),f(t,i),Ve(i,s[1].quote),f(t,o),f(t,c),f(t,u),f(t,m),f(m,p),f(m,v),f(m,h),b||(g=[T(i,"input",s[2]),T(p,"click",s[3]),T(t,"submit",ge(s[4]))],b=!0)},p(k,y){y&2&&i.value!==k[1].quote&&Ve(i,k[1].quote)},d(k){k&&w(e),b=!1,ne(g)}}}function za(s){let e,t;return e=new pe({props:{$$slots:{default:[ja],header:[Pa]},$$scope:{ctx:s}}}),e.$on("close",s[5]),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p(l,[n]){const r={};n&67&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Ea(s,e,t){let l,n;A(s,U,c=>t(0,l=c)),A(s,re,c=>t(1,n=c));function r(){n.quote=this.value,re.set(n)}return[l,n,r,()=>{Y(U,l=!1,l)},async c=>{U.set(!1),await Ne(),fe.set("blank"),$e().then(()=>fe.set("profile"))},()=>{Y(U,l=!1,l)}]}class Ia extends V{constructor(e){super(),Q(this,e,Ea,za,F,{})}}function Ma(s){let e;return{c(){e=_("h2"),e.textContent="Change Password",d(e,"slot","header")},m(t,l){$(t,e,l)},p:P,d(t){t&&w(e)}}}function Cn(s){let e,t;return{c(){e=_("label"),t=E(s[0]),d(e,"for","old-password-input"),Re(e,"color","red")},m(l,n){$(l,e,n),f(e,t)},p(l,n){n&1&&G(t,l[0])},d(l){l&&w(e)}}}function La(s){let e,t,l,n,r,a,i,o,c,u,m,p,v,h,b,g,k,y,I,j,R,M=s[0]&&Cn(s);return{c(){e=_("div"),t=_("form"),M&&M.c(),l=S(),n=_("input"),r=_("br"),a=_("br"),i=S(),o=_("input"),c=_("br"),u=_("br"),m=S(),p=_("input"),v=_("br"),h=_("br"),b=S(),g=_("div"),k=_("button"),k.textContent="Cancel",y=S(),I=_("button"),I.textContent="Change Password",d(n,"id","old-password-input"),d(n,"type","password"),d(n,"class","modal-input white"),d(n,"placeholder","Current Password"),d(n,"maxlength","64"),d(o,"id","new-password-input"),d(o,"type","password"),d(o,"class","modal-input white"),d(o,"placeholder","New Password"),d(o,"maxlength","64"),d(p,"type","password"),d(p,"class","modal-input white"),d(p,"placeholder","Confirm New Password"),d(p,"maxlength","64"),d(k,"type","button"),d(I,"type","submit"),d(g,"class","modal-buttons"),d(e,"slot","default")},m(z,N){$(z,e,N),f(e,t),M&&M.m(t,null),f(t,l),f(t,n),f(t,r),f(t,a),f(t,i),f(t,o),f(t,c),f(t,u),f(t,m),f(t,p),f(t,v),f(t,h),f(t,b),f(t,g),f(g,k),f(g,y),f(g,I),j||(R=[T(k,"click",s[2]),T(t,"submit",ge(s[3]))],j=!0)},p(z,N){z[0]?M?M.p(z,N):(M=Cn(z),M.c(),M.m(t,l)):M&&(M.d(1),M=null)},d(z){z&&w(e),M&&M.d(),j=!1,ne(R)}}}function xa(s){let e,t;return e=new pe({props:{$$slots:{default:[La],header:[Ma]},$$scope:{ctx:s}}}),e.$on("close",s[4]),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p(l,[n]){const r={};n&35&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Oa(s,e,t){let l;A(s,U,o=>t(1,l=o));let n="";return[n,l,()=>{Y(U,l=!1,l)},async o=>{if(!o.target[0].value)return t(0,n="You must specify your current password"),!1;if(!o.target[1].value)return t(0,n="You must specify a new password to change your password"),!1;if(o.target[1].value!==o.target[2].value)return t(0,n="New passwords do not match"),!1;o.target[4].disabled=!0,await ae({cmd:"direct",val:{cmd:"change_pswd",val:o.target[1].value}}),Y(U,l=!1,l),localStorage.clear(),Ae.set("setup"),await $e(),_e.set("reconnect")},()=>{Y(U,l=!1,l)}]}class Ta extends V{constructor(e){super(),Q(this,e,Oa,xa,F,{})}}function Ra(s){let e;return{c(){e=_("h2"),e.textContent="Delete Account",d(e,"slot","header")},m(t,l){$(t,e,l)},p:P,d(t){t&&w(e)}}}function Na(s){let e,t,l,n,r,a,i,o,c,u,m,p,v,h,b,g,k,y,I,j,R;return{c(){e=_("div"),t=_("form"),l=_("span"),l.textContent="Deleting your account will erase all data from our database, this action is irreversible! Are you absolutely sure you would like to permanently delete your account?",n=_("br"),r=_("br"),a=S(),i=_("span"),i.textContent="Please confirm your username below to be able to delete your account:",o=_("br"),c=S(),u=_("input"),m=_("br"),p=_("br"),v=S(),h=_("div"),b=_("button"),b.textContent="Cancel",g=S(),k=_("button"),y=E("Delete Account"),Re(l,"color","red"),d(u,"type","text"),d(u,"class","modal-input white"),d(u,"placeholder","Username"),d(u,"maxlength","20"),d(b,"type","button"),d(k,"type","submit"),k.disabled=I=s[0]!==s[2].name,d(h,"class","modal-buttons"),d(e,"slot","default")},m(M,z){$(M,e,z),f(e,t),f(t,l),f(t,n),f(t,r),f(t,a),f(t,i),f(t,o),f(t,c),f(t,u),Ve(u,s[0]),f(t,m),f(t,p),f(t,v),f(t,h),f(h,b),f(h,g),f(h,k),f(k,y),j||(R=[T(u,"input",s[3]),T(b,"click",s[4]),T(t,"submit",ge(s[5]))],j=!0)},p(M,z){z&1&&u.value!==M[0]&&Ve(u,M[0]),z&5&&I!==(I=M[0]!==M[2].name)&&(k.disabled=I)},d(M){M&&w(e),j=!1,ne(R)}}}function Aa(s){let e,t;return e=new pe({props:{$$slots:{default:[Na],header:[Ra]},$$scope:{ctx:s}}}),e.$on("close",s[6]),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p(l,[n]){const r={};n&135&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Ua(s,e,t){let l,n;A(s,U,u=>t(1,l=u)),A(s,re,u=>t(2,n=u));let r="";function a(){r=this.value,t(0,r)}return[r,l,n,a,()=>{Y(U,l=!1,l)},async u=>{await ae({cmd:"direct",val:{cmd:"del_account",val:""}}),Y(U,l=!1,l),localStorage.clear(),Ae.set("setup"),await $e(),_e.set("reconnect")},()=>{Y(U,l=!1,l)}]}class Da extends V{constructor(e){super(),Q(this,e,Ua,Aa,F,{})}}function Ba(s){let e;return{c(){e=_("h2"),e.textContent="Logout",d(e,"slot","header")},m(t,l){$(t,e,l)},p:P,d(t){t&&w(e)}}}function Ha(s){let e,t,l,n,r,a,i,o,c,u,m,p;return{c(){e=_("div"),t=_("span"),t.textContent="Are you sure you would like to logout?",l=S(),n=_("br"),r=_("br"),a=S(),i=_("div"),o=_("button"),o.textContent="Cancel",c=S(),u=_("button"),u.textContent="Logout",d(i,"class","modal-buttons"),d(e,"slot","default")},m(v,h){$(v,e,h),f(e,t),f(e,l),f(e,n),f(e,r),f(e,a),f(e,i),f(i,o),f(i,c),f(i,u),m||(p=[T(o,"click",s[1]),T(u,"click",s[2])],m=!0)},p:P,d(v){v&&w(e),m=!1,ne(p)}}}function Wa(s){let e,t;return e=new pe({props:{$$slots:{default:[Ha],header:[Ba]},$$scope:{ctx:s}}}),e.$on("close",s[3]),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p(l,[n]){const r={};n&17&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Ya(s,e,t){let l;return A(s,U,i=>t(0,l=i)),[l,()=>{Y(U,l=!1,l)},async()=>{Y(U,l=!1,l),ot.set("Intentional disconnect"),Me.set(!1),Ae.set("setup"),await $e(),_e.set("reconnect")},()=>{Y(U,l=!1,l)}]}class Ga extends V{constructor(e){super(),Q(this,e,Ya,Wa,F,{})}}function Ka(s){let e;return{c(){e=_("h2"),e.textContent="Invalid modalPage string",d(e,"slot","header")},m(t,l){$(t,e,l)},p:P,d(t){t&&w(e)}}}function Fa(s){let e,t,l="Invalid modalPage string for '"+s[1]+"'",n,r,a;return{c(){e=_("div"),t=_("p"),n=E(l),r=S(),a=_("small"),a.textContent="PS to devlopers, Your code may be working!",d(a,"class","smol svelte-mytpja"),d(e,"slot","default")},m(i,o){$(i,e,o),f(e,t),f(t,n),f(e,r),f(e,a)},p(i,o){o&2&&l!==(l="Invalid modalPage string for '"+i[1]+"'")&&G(n,l)},d(i){i&&w(e)}}}function Ja(s){let e,t;return e=new pe({props:{$$slots:{default:[Fa],header:[Ka]},$$scope:{ctx:s}}}),e.$on("close",s[2]),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p(l,[n]){const r={};n&10&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Qa(s,e,t){let l,n;return A(s,U,a=>t(0,l=a)),A(s,ue,a=>t(1,n=a)),[l,n,()=>{Y(U,l=!1,l)}]}class Va extends V{constructor(e){super(),Q(this,e,Qa,Ja,F,{})}}function Xa(s){let e;return{c(){e=_("div"),d(e,"class","spinner check svelte-o9ugf6")},m(t,l){$(t,e,l)},p:P,i:P,o:P,d(t){t&&w(e)}}}class Za extends V{constructor(e){super(),Q(this,e,null,Xa,F,{})}}const ec=ce(0),tc=ce(0),Kn=ce(!1);function Fn(){ec.set(window.innerWidth),tc.set(window.innerHeight),Kn.set(window.innerWidth<250||window.innerHeight<360)}Fn();window.addEventListener("resize",Fn);function Sn(s){let e,t;return e=new pe({props:{$$slots:{default:[uc],header:[lc]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},p(l,n){const r={};n&520&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function lc(s){let e;return{c(){e=_("h2"),e.textContent="Me-owch.",d(e,"slot","header")},m(t,l){$(t,e,l)},p:P,d(t){t&&w(e)}}}function nc(s){let e,t,l,n;return{c(){e=E(`We ran into an error trying to connect to the server.\r
						`),t=_("pre"),l=_("code"),n=E(s[3])},m(r,a){$(r,e,a),$(r,t,a),f(t,l),f(l,n)},p(r,a){a&8&&G(n,r[3])},d(r){r&&w(e),r&&w(t)}}}function sc(s){let e;return{c(){e=E("You have been kicked by a moderator.")},m(t,l){$(t,e,l)},p:P,d(t){t&&w(e)}}}function rc(s){let e;return{c(){e=E("You have been banned by a moderator.")},m(t,l){$(t,e,l)},p:P,d(t){t&&w(e)}}}function oc(s){let e,t,l,n;return{c(){e=E(`There has been a hiccup! Looks like you logged into Meower from another device.\r
						`),t=_("br"),l=_("br"),n=E(`\r
						Please check any devices currently logged into Meower and try again.`)},m(r,a){$(r,e,a),$(r,t,a),$(r,l,a),$(r,n,a)},p:P,d(r){r&&w(e),r&&w(t),r&&w(l),r&&w(n)}}}function ic(s){let e,t=H.ip+"",l,n;return{c(){e=E("The server has blocked your IP address ("),l=E(t),n=E(").")},m(r,a){$(r,e,a),$(r,l,a),$(r,n,a)},p:P,d(r){r&&w(e),r&&w(l),r&&w(n)}}}function ac(s){let e;return{c(){e=E("An unexpected error occurred while trying to load your userdata! Check console for more information.")},m(t,l){$(t,e,l)},p:P,d(t){t&&w(e)}}}function cc(s){let e;return{c(){e=E("Something went wrong and the connection to Meower was lost.")},m(t,l){$(t,e,l)},p:P,d(t){t&&w(e)}}}function uc(s){let e,t,l,n,r,a;function i(u,m){return u[3]===""?cc:u[3]==="Failed to load userdata"?ac:u[3]==="E:119 | IP Blocked"?ic:u[3]=="E:110 | ID conflict"?oc:u[3]=="E:018 | Account Banned"?rc:u[3]=="E:020 | Kicked"?sc:nc}let o=i(s),c=o(s);return{c(){e=_("div"),t=_("p"),c.c(),l=S(),n=_("button"),n.textContent="Reconnect",d(e,"slot","default")},m(u,m){$(u,e,m),f(e,t),c.m(t,null),f(e,l),f(e,n),r||(a=T(n,"click",s[8]),r=!0)},p(u,m){o===(o=i(u))&&c?c.p(u,m):(c.d(1),c=o(u),c&&(c.c(),c.m(t,null)))},d(u){u&&w(e),c.d(),r=!1,a()}}}function qn(s){let e,t,l,n;const r=[qc,Sc,Cc,yc,$c,wc,kc,bc,vc,hc,gc,_c,mc,pc,dc,fc],a=[];function i(o,c){return o[5]==="login"?0:o[5]==="signup"?1:o[5]==="banned"?2:o[5]==="ipBanned"?3:o[5]==="deletePost"?4:o[5]==="reportPost"?5:o[5]==="reportUser"?6:o[5]==="createChat"?7:o[5]==="setQuote"?8:o[5]==="changePassword"?9:o[5]==="deleteAccount"?10:o[5]==="GC_Member"?11:o[5]==="AddMember"?12:o[5]==="removeMember"?13:o[5]==="logout"?14:15}return e=i(s),t=a[e]=r[e](s),{c(){t.c(),l=Ce()},m(o,c){a[e].m(o,c),$(o,l,c),n=!0},p(o,c){let u=e;e=i(o),e!==u&&(Z(),q(a[u],1,1,()=>{a[u]=null}),ee(),t=a[e],t||(t=a[e]=r[e](o),t.c()),C(t,1),t.m(l.parentNode,l))},i(o){n||(C(t),n=!0)},o(o){q(t),n=!1},d(o){a[e].d(o),o&&w(l)}}}function fc(s){let e,t;return e=new Va({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function dc(s){let e,t;return e=new Ga({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function pc(s){let e,t;return e=new wa({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function mc(s){let e,t;return e=new ga({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function _c(s){let e,t;return e=new fa({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function gc(s){let e,t;return e=new Da({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function hc(s){let e,t;return e=new Ta({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function vc(s){let e,t;return e=new Ia({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function bc(s){let e,t;return e=new qa({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function kc(s){let e,t;return e=new ta({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function wc(s){let e,t;return e=new Qi({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function $c(s){let e,t;return e=new Hi({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function yc(s){let e,t;return e=new Ni({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Cc(s){let e,t;return e=new Li({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Sc(s){let e,t;return e=new ji({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function qc(s){let e,t;return e=new wi({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Pc(s){let e,t;return e=new li({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function jc(s){let e,t;return e=new mi({}),{c(){O(e.$$.fragment)},m(l,n){L(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Pn(s){let e,t,l;return t=new Za({}),{c(){e=_("div"),O(t.$$.fragment),d(e,"class","spinner-container svelte-17c7hqb")},m(n,r){$(n,e,r),L(t,e,null),l=!0},i(n){l||(C(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&w(e),x(t)}}}function zc(s){let e,t,l,n,r,a,i,o=s[2]&&Sn(s),c=s[4]&&qn(s);const u=[jc,Pc],m=[];function p(h,b){return h[6]==="setup"?0:1}n=p(s),r=m[n]=u[n](s);let v=s[7]&&Pn();return{c(){e=_("main"),o&&o.c(),t=S(),c&&c.c(),l=S(),r.c(),a=S(),v&&v.c(),d(e,"id","main"),d(e,"class","svelte-17c7hqb"),me(e,"theme-orange",s[0].theme==="orange"),me(e,"theme-blue",s[0].theme==="blue"),me(e,"mode-light",s[0].mode!==!1),me(e,"mode-dark",s[0].mode===!1),me(e,"layout-old",s[1]||s[0].layout==="old"),me(e,"layout-mobile",s[1])},m(h,b){$(h,e,b),o&&o.m(e,null),f(e,t),c&&c.m(e,null),f(e,l),m[n].m(e,null),f(e,a),v&&v.m(e,null),i=!0},p(h,[b]){h[2]?o?(o.p(h,b),b&4&&C(o,1)):(o=Sn(h),o.c(),C(o,1),o.m(e,t)):o&&(Z(),q(o,1,1,()=>{o=null}),ee()),h[4]?c?(c.p(h,b),b&16&&C(c,1)):(c=qn(h),c.c(),C(c,1),c.m(e,l)):c&&(Z(),q(c,1,1,()=>{c=null}),ee());let g=n;n=p(h),n!==g&&(Z(),q(m[g],1,1,()=>{m[g]=null}),ee(),r=m[n],r||(r=m[n]=u[n](h),r.c()),C(r,1),r.m(e,a)),h[7]?v?b&128&&C(v,1):(v=Pn(),v.c(),C(v,1),v.m(e,null)):v&&(Z(),q(v,1,1,()=>{v=null}),ee()),b&1&&me(e,"theme-orange",h[0].theme==="orange"),b&1&&me(e,"theme-blue",h[0].theme==="blue"),b&1&&me(e,"mode-light",h[0].mode!==!1),b&1&&me(e,"mode-dark",h[0].mode===!1),b&3&&me(e,"layout-old",h[1]||h[0].layout==="old"),b&2&&me(e,"layout-mobile",h[1])},i(h){i||(C(o),C(c),C(r),C(v),i=!0)},o(h){q(o),q(c),q(r),q(v),i=!1},d(h){h&&w(e),o&&o.d(),c&&c.d(),m[n].d(),v&&v.d()}}}function Ec(s,e,t){let l,n,r,a,i,o,c,u;return A(s,re,p=>t(0,l=p)),A(s,Kn,p=>t(1,n=p)),A(s,Me,p=>t(2,r=p)),A(s,ot,p=>t(3,a=p)),A(s,U,p=>t(4,i=p)),A(s,ue,p=>t(5,o=p)),A(s,Ae,p=>t(6,c=p)),A(s,Ue,p=>t(7,u=p)),[l,n,r,a,i,o,c,u,async()=>{Ae.set("setup"),Me.set(!1),await $e(),_e.set("reconnect")}]}class Ic extends V{constructor(e){super(),Q(this,e,Ec,zc,F,{})}}try{navigator.serviceWorker&&navigator.serviceWorker.getRegistration().then(s=>{s&&s.unregister()})}catch(s){console.error(s)}new Ic({target:document.getElementById("app")});
